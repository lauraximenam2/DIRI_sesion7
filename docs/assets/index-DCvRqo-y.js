const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Foods-BEMpDEvn.js","assets/Foods-ZHgwS_Et.css"])))=>i.map(i=>d[i]);
var CS=Object.defineProperty;var IS=(n,e,t)=>e in n?CS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var vi=(n,e,t)=>IS(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function kS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $c={exports:{}},Ps={},Bc={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function TS(){if(qm)return le;qm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function y(k){return k===null||typeof k!="object"?null:(k=v&&k[v]||k["@@iterator"],typeof k=="function"?k:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function A(k,D,ae){this.props=k,this.context=D,this.refs=x,this.updater=ae||I}A.prototype.isReactComponent={},A.prototype.setState=function(k,D){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,D,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function O(){}O.prototype=A.prototype;function F(k,D,ae){this.props=k,this.context=D,this.refs=x,this.updater=ae||I}var $=F.prototype=new O;$.constructor=F,C($,A.prototype),$.isPureReactComponent=!0;var j=Array.isArray,K=Object.prototype.hasOwnProperty,X={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function he(k,D,ae){var ce,me={},ge=null,Ie=null;if(D!=null)for(ce in D.ref!==void 0&&(Ie=D.ref),D.key!==void 0&&(ge=""+D.key),D)K.call(D,ce)&&!ie.hasOwnProperty(ce)&&(me[ce]=D[ce]);var we=arguments.length-2;if(we===1)me.children=ae;else if(1<we){for(var xe=Array(we),Et=0;Et<we;Et++)xe[Et]=arguments[Et+2];me.children=xe}if(k&&k.defaultProps)for(ce in we=k.defaultProps,we)me[ce]===void 0&&(me[ce]=we[ce]);return{$$typeof:n,type:k,key:ge,ref:Ie,props:me,_owner:X.current}}function J(k,D){return{$$typeof:n,type:k.type,key:D,ref:k.ref,props:k.props,_owner:k._owner}}function ve(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function Pt(k){var D={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return D[ae]})}var Nt=/\/+/g;function wt(k,D){return typeof k=="object"&&k!==null&&k.key!=null?Pt(""+k.key):D.toString(36)}function Ft(k,D,ae,ce,me){var ge=typeof k;(ge==="undefined"||ge==="boolean")&&(k=null);var Ie=!1;if(k===null)Ie=!0;else switch(ge){case"string":case"number":Ie=!0;break;case"object":switch(k.$$typeof){case n:case e:Ie=!0}}if(Ie)return Ie=k,me=me(Ie),k=ce===""?"."+wt(Ie,0):ce,j(me)?(ae="",k!=null&&(ae=k.replace(Nt,"$&/")+"/"),Ft(me,D,ae,"",function(Et){return Et})):me!=null&&(ve(me)&&(me=J(me,ae+(!me.key||Ie&&Ie.key===me.key?"":(""+me.key).replace(Nt,"$&/")+"/")+k)),D.push(me)),1;if(Ie=0,ce=ce===""?".":ce+":",j(k))for(var we=0;we<k.length;we++){ge=k[we];var xe=ce+wt(ge,we);Ie+=Ft(ge,D,ae,xe,me)}else if(xe=y(k),typeof xe=="function")for(k=xe.call(k),we=0;!(ge=k.next()).done;)ge=ge.value,xe=ce+wt(ge,we++),Ie+=Ft(ge,D,ae,xe,me);else if(ge==="object")throw D=String(k),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Zt(k,D,ae){if(k==null)return k;var ce=[],me=0;return Ft(k,ce,"","",function(ge){return D.call(ae,ge,me++)}),ce}function ct(k){if(k._status===-1){var D=k._result;D=D(),D.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=D)}if(k._status===1)return k._result.default;throw k._result}var Le={current:null},B={transition:null},te={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:B,ReactCurrentOwner:X};function G(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:Zt,forEach:function(k,D,ae){Zt(k,function(){D.apply(this,arguments)},ae)},count:function(k){var D=0;return Zt(k,function(){D++}),D},toArray:function(k){return Zt(k,function(D){return D})||[]},only:function(k){if(!ve(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},le.Component=A,le.Fragment=t,le.Profiler=o,le.PureComponent=F,le.StrictMode=s,le.Suspense=h,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,le.act=G,le.cloneElement=function(k,D,ae){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ce=C({},k.props),me=k.key,ge=k.ref,Ie=k._owner;if(D!=null){if(D.ref!==void 0&&(ge=D.ref,Ie=X.current),D.key!==void 0&&(me=""+D.key),k.type&&k.type.defaultProps)var we=k.type.defaultProps;for(xe in D)K.call(D,xe)&&!ie.hasOwnProperty(xe)&&(ce[xe]=D[xe]===void 0&&we!==void 0?we[xe]:D[xe])}var xe=arguments.length-2;if(xe===1)ce.children=ae;else if(1<xe){we=Array(xe);for(var Et=0;Et<xe;Et++)we[Et]=arguments[Et+2];ce.children=we}return{$$typeof:n,type:k.type,key:me,ref:ge,props:ce,_owner:Ie}},le.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},le.createElement=he,le.createFactory=function(k){var D=he.bind(null,k);return D.type=k,D},le.createRef=function(){return{current:null}},le.forwardRef=function(k){return{$$typeof:f,render:k}},le.isValidElement=ve,le.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:ct}},le.memo=function(k,D){return{$$typeof:m,type:k,compare:D===void 0?null:D}},le.startTransition=function(k){var D=B.transition;B.transition={};try{k()}finally{B.transition=D}},le.unstable_act=G,le.useCallback=function(k,D){return Le.current.useCallback(k,D)},le.useContext=function(k){return Le.current.useContext(k)},le.useDebugValue=function(){},le.useDeferredValue=function(k){return Le.current.useDeferredValue(k)},le.useEffect=function(k,D){return Le.current.useEffect(k,D)},le.useId=function(){return Le.current.useId()},le.useImperativeHandle=function(k,D,ae){return Le.current.useImperativeHandle(k,D,ae)},le.useInsertionEffect=function(k,D){return Le.current.useInsertionEffect(k,D)},le.useLayoutEffect=function(k,D){return Le.current.useLayoutEffect(k,D)},le.useMemo=function(k,D){return Le.current.useMemo(k,D)},le.useReducer=function(k,D,ae){return Le.current.useReducer(k,D,ae)},le.useRef=function(k){return Le.current.useRef(k)},le.useState=function(k){return Le.current.useState(k)},le.useSyncExternalStore=function(k,D,ae){return Le.current.useSyncExternalStore(k,D,ae)},le.useTransition=function(){return Le.current.useTransition()},le.version="18.3.1",le}var Qm;function Tl(){return Qm||(Qm=1,Bc.exports=TS()),Bc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function RS(){if(Ym)return Ps;Ym=1;var n=Tl(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,h,m){var _,v={},y=null,I=null;m!==void 0&&(y=""+m),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(I=h.ref);for(_ in h)s.call(h,_)&&!l.hasOwnProperty(_)&&(v[_]=h[_]);if(f&&f.defaultProps)for(_ in h=f.defaultProps,h)v[_]===void 0&&(v[_]=h[_]);return{$$typeof:e,type:f,key:y,ref:I,props:v,_owner:o.current}}return Ps.Fragment=t,Ps.jsx=c,Ps.jsxs=c,Ps}var Jm;function PS(){return Jm||(Jm=1,$c.exports=RS()),$c.exports}var W=PS(),N=Tl();const co=kS(N);var Ma={},Hc={exports:{}},gt={},Vc={exports:{}},Gc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function NS(){return Xm||(Xm=1,function(n){function e(B,te){var G=B.length;B.push(te);e:for(;0<G;){var k=G-1>>>1,D=B[k];if(0<o(D,te))B[k]=te,B[G]=D,G=k;else break e}}function t(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var te=B[0],G=B.pop();if(G!==te){B[0]=G;e:for(var k=0,D=B.length,ae=D>>>1;k<ae;){var ce=2*(k+1)-1,me=B[ce],ge=ce+1,Ie=B[ge];if(0>o(me,G))ge<D&&0>o(Ie,me)?(B[k]=Ie,B[ge]=G,k=ge):(B[k]=me,B[ce]=G,k=ce);else if(ge<D&&0>o(Ie,G))B[k]=Ie,B[ge]=G,k=ge;else break e}}return te}function o(B,te){var G=B.sortIndex-te.sortIndex;return G!==0?G:B.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],m=[],_=1,v=null,y=3,I=!1,C=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(B){for(var te=t(m);te!==null;){if(te.callback===null)s(m);else if(te.startTime<=B)s(m),te.sortIndex=te.expirationTime,e(h,te);else break;te=t(m)}}function j(B){if(x=!1,$(B),!C)if(t(h)!==null)C=!0,ct(K);else{var te=t(m);te!==null&&Le(j,te.startTime-B)}}function K(B,te){C=!1,x&&(x=!1,O(he),he=-1),I=!0;var G=y;try{for($(te),v=t(h);v!==null&&(!(v.expirationTime>te)||B&&!Pt());){var k=v.callback;if(typeof k=="function"){v.callback=null,y=v.priorityLevel;var D=k(v.expirationTime<=te);te=n.unstable_now(),typeof D=="function"?v.callback=D:v===t(h)&&s(h),$(te)}else s(h);v=t(h)}if(v!==null)var ae=!0;else{var ce=t(m);ce!==null&&Le(j,ce.startTime-te),ae=!1}return ae}finally{v=null,y=G,I=!1}}var X=!1,ie=null,he=-1,J=5,ve=-1;function Pt(){return!(n.unstable_now()-ve<J)}function Nt(){if(ie!==null){var B=n.unstable_now();ve=B;var te=!0;try{te=ie(!0,B)}finally{te?wt():(X=!1,ie=null)}}else X=!1}var wt;if(typeof F=="function")wt=function(){F(Nt)};else if(typeof MessageChannel<"u"){var Ft=new MessageChannel,Zt=Ft.port2;Ft.port1.onmessage=Nt,wt=function(){Zt.postMessage(null)}}else wt=function(){A(Nt,0)};function ct(B){ie=B,X||(X=!0,wt())}function Le(B,te){he=A(function(){B(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){C||I||(C=!0,ct(K))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(B){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var G=y;y=te;try{return B()}finally{y=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,te){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var G=y;y=B;try{return te()}finally{y=G}},n.unstable_scheduleCallback=function(B,te,G){var k=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?k+G:k):G=k,B){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=G+D,B={id:_++,callback:te,priorityLevel:B,startTime:G,expirationTime:D,sortIndex:-1},G>k?(B.sortIndex=G,e(m,B),t(h)===null&&B===t(m)&&(x?(O(he),he=-1):x=!0,Le(j,G-k))):(B.sortIndex=D,e(h,B),C||I||(C=!0,ct(K))),B},n.unstable_shouldYield=Pt,n.unstable_wrapCallback=function(B){var te=y;return function(){var G=y;y=te;try{return B.apply(this,arguments)}finally{y=G}}}}(Gc)),Gc}var Zm;function xS(){return Zm||(Zm=1,Vc.exports=NS()),Vc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function AS(){if(eg)return gt;eg=1;var n=Tl(),e=xS();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},v={};function y(r){return h.call(v,r)?!0:h.call(_,r)?!1:m.test(r)?v[r]=!0:(_[r]=!0,!1)}function I(r,i,a,u){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,i,a,u){if(i===null||typeof i>"u"||I(r,i,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function x(r,i,a,u,d,p,g){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=p,this.removeEmptyString=g}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){A[r]=new x(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];A[i]=new x(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){A[r]=new x(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){A[r]=new x(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){A[r]=new x(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){A[r]=new x(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){A[r]=new x(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){A[r]=new x(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){A[r]=new x(r,5,!1,r.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function F(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(O,F);A[i]=new x(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(O,F);A[i]=new x(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(O,F);A[i]=new x(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){A[r]=new x(r,1,!1,r.toLowerCase(),null,!1,!1)}),A.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){A[r]=new x(r,1,!1,r.toLowerCase(),null,!0,!0)});function $(r,i,a,u){var d=A.hasOwnProperty(i)?A[i]:null;(d!==null?d.type!==0:u||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,a,d,u)&&(a=null),u||d===null?y(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,u=d.attributeNamespace,a===null?r.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,u?r.setAttributeNS(u,i,a):r.setAttribute(i,a))))}var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),X=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),Pt=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),Ft=Symbol.for("react.suspense_list"),Zt=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),B=Symbol.iterator;function te(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,k;function D(r){if(k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||""}return`
`+k+r}var ae=!1;function ce(r,i){if(!r||ae)return"";ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(P){var u=P}Reflect.construct(r,[],i)}else{try{i.call()}catch(P){u=P}r.call(i.prototype)}else{try{throw Error()}catch(P){u=P}r()}}catch(P){if(P&&u&&typeof P.stack=="string"){for(var d=P.stack.split(`
`),p=u.stack.split(`
`),g=d.length-1,w=p.length-1;1<=g&&0<=w&&d[g]!==p[w];)w--;for(;1<=g&&0<=w;g--,w--)if(d[g]!==p[w]){if(g!==1||w!==1)do if(g--,w--,0>w||d[g]!==p[w]){var E=`
`+d[g].replace(" at new "," at ");return r.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",r.displayName)),E}while(1<=g&&0<=w);break}}}finally{ae=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?D(r):""}function me(r){switch(r.tag){case 5:return D(r.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return r=ce(r.type,!1),r;case 11:return r=ce(r.type.render,!1),r;case 1:return r=ce(r.type,!0),r;default:return""}}function ge(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case ie:return"Fragment";case X:return"Portal";case J:return"Profiler";case he:return"StrictMode";case wt:return"Suspense";case Ft:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Pt:return(r.displayName||"Context")+".Consumer";case ve:return(r._context.displayName||"Context")+".Provider";case Nt:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Zt:return i=r.displayName||null,i!==null?i:ge(r.type)||"Memo";case ct:i=r._payload,r=r._init;try{return ge(r(i))}catch{}}return null}function Ie(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(i);case 8:return i===he?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function we(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Et(r){var i=xe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(g){u=""+g,p.call(this,g)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(g){u=""+g},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function To(r){r._valueTracker||(r._valueTracker=Et(r))}function eh(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return r&&(u=xe(r)?r.checked?"true":"false":r.value),r=u,r!==a?(i.setValue(r),!0):!1}function Ro(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ql(r,i){var a=i.checked;return G({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function th(r,i){var a=i.defaultValue==null?"":i.defaultValue,u=i.checked!=null?i.checked:i.defaultChecked;a=we(i.value!=null?i.value:a),r._wrapperState={initialChecked:u,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function nh(r,i){i=i.checked,i!=null&&$(r,"checked",i,!1)}function Yl(r,i){nh(r,i);var a=we(i.value),u=i.type;if(a!=null)u==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Jl(r,i.type,a):i.hasOwnProperty("defaultValue")&&Jl(r,i.type,we(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function rh(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var u=i.type;if(!(u!=="submit"&&u!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Jl(r,i,a){(i!=="number"||Ro(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Bi=Array.isArray;function qr(r,i,a,u){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&u&&(r[a].defaultSelected=!0)}else{for(a=""+we(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function Xl(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return G({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ih(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(Bi(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:we(a)}}function sh(r,i){var a=we(i.value),u=we(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),u!=null&&(r.defaultValue=""+u)}function oh(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function ah(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zl(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?ah(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Po,lh=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,u,d){MSApp.execUnsafeLocalFunction(function(){return r(i,a,u,d)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Po.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Hi(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pw=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(r){Pw.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Vi[i]=Vi[r]})});function uh(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Vi.hasOwnProperty(r)&&Vi[r]?(""+i).trim():i+"px"}function ch(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var u=a.indexOf("--")===0,d=uh(a,i[a],u);a==="float"&&(a="cssFloat"),u?r.setProperty(a,d):r[a]=d}}var Nw=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eu(r,i){if(i){if(Nw[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function tu(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=null;function ru(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var iu=null,Qr=null,Yr=null;function dh(r){if(r=hs(r)){if(typeof iu!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Jo(i),iu(r.stateNode,r.type,i))}}function fh(r){Qr?Yr?Yr.push(r):Yr=[r]:Qr=r}function hh(){if(Qr){var r=Qr,i=Yr;if(Yr=Qr=null,dh(r),i)for(r=0;r<i.length;r++)dh(i[r])}}function ph(r,i){return r(i)}function mh(){}var su=!1;function gh(r,i,a){if(su)return r(i,a);su=!0;try{return ph(r,i,a)}finally{su=!1,(Qr!==null||Yr!==null)&&(mh(),hh())}}function Gi(r,i){var a=r.stateNode;if(a===null)return null;var u=Jo(a);if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var ou=!1;if(f)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){ou=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{ou=!1}function xw(r,i,a,u,d,p,g,w,E){var P=Array.prototype.slice.call(arguments,3);try{i.apply(a,P)}catch(L){this.onError(L)}}var qi=!1,No=null,xo=!1,au=null,Aw={onError:function(r){qi=!0,No=r}};function Ow(r,i,a,u,d,p,g,w,E){qi=!1,No=null,xw.apply(Aw,arguments)}function bw(r,i,a,u,d,p,g,w,E){if(Ow.apply(this,arguments),qi){if(qi){var P=No;qi=!1,No=null}else throw Error(t(198));xo||(xo=!0,au=P)}}function _r(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function _h(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function yh(r){if(_r(r)!==r)throw Error(t(188))}function Dw(r){var i=r.alternate;if(!i){if(i=_r(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,u=i;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return yh(d),r;if(p===u)return yh(d),i;p=p.sibling}throw Error(t(188))}if(a.return!==u.return)a=d,u=p;else{for(var g=!1,w=d.child;w;){if(w===a){g=!0,a=d,u=p;break}if(w===u){g=!0,u=d,a=p;break}w=w.sibling}if(!g){for(w=p.child;w;){if(w===a){g=!0,a=p,u=d;break}if(w===u){g=!0,u=p,a=d;break}w=w.sibling}if(!g)throw Error(t(189))}}if(a.alternate!==u)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function vh(r){return r=Dw(r),r!==null?wh(r):null}function wh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=wh(r);if(i!==null)return i;r=r.sibling}return null}var Eh=e.unstable_scheduleCallback,Sh=e.unstable_cancelCallback,Lw=e.unstable_shouldYield,Mw=e.unstable_requestPaint,Ue=e.unstable_now,Fw=e.unstable_getCurrentPriorityLevel,lu=e.unstable_ImmediatePriority,Ch=e.unstable_UserBlockingPriority,Ao=e.unstable_NormalPriority,Uw=e.unstable_LowPriority,Ih=e.unstable_IdlePriority,Oo=null,en=null;function zw(r){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Oo,r,void 0,(r.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:$w,jw=Math.log,Ww=Math.LN2;function $w(r){return r>>>=0,r===0?32:31-(jw(r)/Ww|0)|0}var bo=64,Do=4194304;function Qi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Lo(r,i){var a=r.pendingLanes;if(a===0)return 0;var u=0,d=r.suspendedLanes,p=r.pingedLanes,g=a&268435455;if(g!==0){var w=g&~d;w!==0?u=Qi(w):(p&=g,p!==0&&(u=Qi(p)))}else g=a&~d,g!==0?u=Qi(g):p!==0&&(u=Qi(p));if(u===0)return 0;if(i!==0&&i!==u&&!(i&d)&&(d=u&-u,p=i&-i,d>=p||d===16&&(p&4194240)!==0))return i;if(u&4&&(u|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=u;0<i;)a=31-Ut(i),d=1<<a,u|=r[a],i&=~d;return u}function Bw(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hw(r,i){for(var a=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes;0<p;){var g=31-Ut(p),w=1<<g,E=d[g];E===-1?(!(w&a)||w&u)&&(d[g]=Bw(w,i)):E<=i&&(r.expiredLanes|=w),p&=~w}}function uu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function kh(){var r=bo;return bo<<=1,!(bo&4194240)&&(bo=64),r}function cu(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Yi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Ut(i),r[i]=a}function Vw(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Ut(a),p=1<<d;i[d]=0,u[d]=-1,r[d]=-1,a&=~p}}function du(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var u=31-Ut(a),d=1<<u;d&i|r[u]&i&&(r[u]|=i),a&=~d}}var Ee=0;function Th(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Rh,fu,Ph,Nh,xh,hu=!1,Mo=[],bn=null,Dn=null,Ln=null,Ji=new Map,Xi=new Map,Mn=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ah(r,i){switch(r){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Ji.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(i.pointerId)}}function Zi(r,i,a,u,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},i!==null&&(i=hs(i),i!==null&&fu(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function Kw(r,i,a,u,d){switch(i){case"focusin":return bn=Zi(bn,r,i,a,u,d),!0;case"dragenter":return Dn=Zi(Dn,r,i,a,u,d),!0;case"mouseover":return Ln=Zi(Ln,r,i,a,u,d),!0;case"pointerover":var p=d.pointerId;return Ji.set(p,Zi(Ji.get(p)||null,r,i,a,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Xi.set(p,Zi(Xi.get(p)||null,r,i,a,u,d)),!0}return!1}function Oh(r){var i=yr(r.target);if(i!==null){var a=_r(i);if(a!==null){if(i=a.tag,i===13){if(i=_h(a),i!==null){r.blockedOn=i,xh(r.priority,function(){Ph(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fo(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=mu(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);nu=u,a.target.dispatchEvent(u),nu=null}else return i=hs(a),i!==null&&fu(i),r.blockedOn=a,!1;i.shift()}return!0}function bh(r,i,a){Fo(r)&&a.delete(i)}function qw(){hu=!1,bn!==null&&Fo(bn)&&(bn=null),Dn!==null&&Fo(Dn)&&(Dn=null),Ln!==null&&Fo(Ln)&&(Ln=null),Ji.forEach(bh),Xi.forEach(bh)}function es(r,i){r.blockedOn===i&&(r.blockedOn=null,hu||(hu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qw)))}function ts(r){function i(d){return es(d,r)}if(0<Mo.length){es(Mo[0],r);for(var a=1;a<Mo.length;a++){var u=Mo[a];u.blockedOn===r&&(u.blockedOn=null)}}for(bn!==null&&es(bn,r),Dn!==null&&es(Dn,r),Ln!==null&&es(Ln,r),Ji.forEach(i),Xi.forEach(i),a=0;a<Mn.length;a++)u=Mn[a],u.blockedOn===r&&(u.blockedOn=null);for(;0<Mn.length&&(a=Mn[0],a.blockedOn===null);)Oh(a),a.blockedOn===null&&Mn.shift()}var Jr=j.ReactCurrentBatchConfig,Uo=!0;function Qw(r,i,a,u){var d=Ee,p=Jr.transition;Jr.transition=null;try{Ee=1,pu(r,i,a,u)}finally{Ee=d,Jr.transition=p}}function Yw(r,i,a,u){var d=Ee,p=Jr.transition;Jr.transition=null;try{Ee=4,pu(r,i,a,u)}finally{Ee=d,Jr.transition=p}}function pu(r,i,a,u){if(Uo){var d=mu(r,i,a,u);if(d===null)Ou(r,i,u,zo,a),Ah(r,u);else if(Kw(d,r,i,a,u))u.stopPropagation();else if(Ah(r,u),i&4&&-1<Gw.indexOf(r)){for(;d!==null;){var p=hs(d);if(p!==null&&Rh(p),p=mu(r,i,a,u),p===null&&Ou(r,i,u,zo,a),p===d)break;d=p}d!==null&&u.stopPropagation()}else Ou(r,i,u,null,a)}}var zo=null;function mu(r,i,a,u){if(zo=null,r=ru(u),r=yr(r),r!==null)if(i=_r(r),i===null)r=null;else if(a=i.tag,a===13){if(r=_h(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return zo=r,null}function Dh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fw()){case lu:return 1;case Ch:return 4;case Ao:case Uw:return 16;case Ih:return 536870912;default:return 16}default:return 16}}var Fn=null,gu=null,jo=null;function Lh(){if(jo)return jo;var r,i=gu,a=i.length,u,d="value"in Fn?Fn.value:Fn.textContent,p=d.length;for(r=0;r<a&&i[r]===d[r];r++);var g=a-r;for(u=1;u<=g&&i[a-u]===d[p-u];u++);return jo=d.slice(r,1<u?1-u:void 0)}function Wo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function $o(){return!0}function Mh(){return!1}function St(r){function i(a,u,d,p,g){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=g,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(a=r[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?$o:Mh,this.isPropagationStopped=Mh,this}return G(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$o)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$o)},persist:function(){},isPersistent:$o}),i}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=St(Xr),ns=G({},Xr,{view:0,detail:0}),Jw=St(ns),yu,vu,rs,Bo=G({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==rs&&(rs&&r.type==="mousemove"?(yu=r.screenX-rs.screenX,vu=r.screenY-rs.screenY):vu=yu=0,rs=r),yu)},movementY:function(r){return"movementY"in r?r.movementY:vu}}),Fh=St(Bo),Xw=G({},Bo,{dataTransfer:0}),Zw=St(Xw),eE=G({},ns,{relatedTarget:0}),wu=St(eE),tE=G({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),nE=St(tE),rE=G({},Xr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),iE=St(rE),sE=G({},Xr,{data:0}),Uh=St(sE),oE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uE(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=lE[r])?!!i[r]:!1}function Eu(){return uE}var cE=G({},ns,{key:function(r){if(r.key){var i=oE[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Wo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?aE[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(r){return r.type==="keypress"?Wo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),dE=St(cE),fE=G({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=St(fE),hE=G({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),pE=St(hE),mE=G({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gE=St(mE),_E=G({},Bo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yE=St(_E),vE=[9,13,27,32],Su=f&&"CompositionEvent"in window,is=null;f&&"documentMode"in document&&(is=document.documentMode);var wE=f&&"TextEvent"in window&&!is,jh=f&&(!Su||is&&8<is&&11>=is),Wh=" ",$h=!1;function Bh(r,i){switch(r){case"keyup":return vE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Zr=!1;function EE(r,i){switch(r){case"compositionend":return Hh(i);case"keypress":return i.which!==32?null:($h=!0,Wh);case"textInput":return r=i.data,r===Wh&&$h?null:r;default:return null}}function SE(r,i){if(Zr)return r==="compositionend"||!Su&&Bh(r,i)?(r=Lh(),jo=gu=Fn=null,Zr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return jh&&i.locale!=="ko"?null:i.data;default:return null}}var CE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!CE[r.type]:i==="textarea"}function Gh(r,i,a,u){fh(u),i=qo(i,"onChange"),0<i.length&&(a=new _u("onChange","change",null,a,u),r.push({event:a,listeners:i}))}var ss=null,os=null;function IE(r){cp(r,0)}function Ho(r){var i=ii(r);if(eh(i))return r}function kE(r,i){if(r==="change")return i}var Kh=!1;if(f){var Cu;if(f){var Iu="oninput"in document;if(!Iu){var qh=document.createElement("div");qh.setAttribute("oninput","return;"),Iu=typeof qh.oninput=="function"}Cu=Iu}else Cu=!1;Kh=Cu&&(!document.documentMode||9<document.documentMode)}function Qh(){ss&&(ss.detachEvent("onpropertychange",Yh),os=ss=null)}function Yh(r){if(r.propertyName==="value"&&Ho(os)){var i=[];Gh(i,os,r,ru(r)),gh(IE,i)}}function TE(r,i,a){r==="focusin"?(Qh(),ss=i,os=a,ss.attachEvent("onpropertychange",Yh)):r==="focusout"&&Qh()}function RE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ho(os)}function PE(r,i){if(r==="click")return Ho(i)}function NE(r,i){if(r==="input"||r==="change")return Ho(i)}function xE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var zt=typeof Object.is=="function"?Object.is:xE;function as(r,i){if(zt(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!h.call(i,d)||!zt(r[d],i[d]))return!1}return!0}function Jh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Xh(r,i){var a=Jh(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=i&&u>=i)return{node:a,offset:i-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jh(a)}}function Zh(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Zh(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function ep(){for(var r=window,i=Ro();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Ro(r.document)}return i}function ku(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function AE(r){var i=ep(),a=r.focusedElem,u=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Zh(a.ownerDocument.documentElement,a)){if(u!==null&&ku(a)){if(i=u.start,r=u.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,p=Math.min(u.start,d);u=u.end===void 0?p:Math.min(u.end,d),!r.extend&&p>u&&(d=u,u=p,p=d),d=Xh(a,p);var g=Xh(a,u);d&&g&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==g.node||r.focusOffset!==g.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),p>u?(r.addRange(i),r.extend(g.node,g.offset)):(i.setEnd(g.node,g.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var OE=f&&"documentMode"in document&&11>=document.documentMode,ei=null,Tu=null,ls=null,Ru=!1;function tp(r,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ru||ei==null||ei!==Ro(u)||(u=ei,"selectionStart"in u&&ku(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ls&&as(ls,u)||(ls=u,u=qo(Tu,"onSelect"),0<u.length&&(i=new _u("onSelect","select",null,i,a),r.push({event:i,listeners:u}),i.target=ei)))}function Vo(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var ti={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionend:Vo("Transition","TransitionEnd")},Pu={},np={};f&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function Go(r){if(Pu[r])return Pu[r];if(!ti[r])return r;var i=ti[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in np)return Pu[r]=i[a];return r}var rp=Go("animationend"),ip=Go("animationiteration"),sp=Go("animationstart"),op=Go("transitionend"),ap=new Map,lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(r,i){ap.set(r,i),l(i,[r])}for(var Nu=0;Nu<lp.length;Nu++){var xu=lp[Nu],bE=xu.toLowerCase(),DE=xu[0].toUpperCase()+xu.slice(1);Un(bE,"on"+DE)}Un(rp,"onAnimationEnd"),Un(ip,"onAnimationIteration"),Un(sp,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(op,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function up(r,i,a){var u=r.type||"unknown-event";r.currentTarget=a,bw(u,i,void 0,r),r.currentTarget=null}function cp(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],d=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var g=u.length-1;0<=g;g--){var w=u[g],E=w.instance,P=w.currentTarget;if(w=w.listener,E!==p&&d.isPropagationStopped())break e;up(d,w,P),p=E}else for(g=0;g<u.length;g++){if(w=u[g],E=w.instance,P=w.currentTarget,w=w.listener,E!==p&&d.isPropagationStopped())break e;up(d,w,P),p=E}}}if(xo)throw r=au,xo=!1,au=null,r}function Re(r,i){var a=i[Uu];a===void 0&&(a=i[Uu]=new Set);var u=r+"__bubble";a.has(u)||(dp(i,r,2,!1),a.add(u))}function Au(r,i,a){var u=0;i&&(u|=4),dp(a,r,u,i)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function cs(r){if(!r[Ko]){r[Ko]=!0,s.forEach(function(a){a!=="selectionchange"&&(LE.has(a)||Au(a,!1,r),Au(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ko]||(i[Ko]=!0,Au("selectionchange",!1,i))}}function dp(r,i,a,u){switch(Dh(i)){case 1:var d=Qw;break;case 4:d=Yw;break;default:d=pu}a=d.bind(null,i,a,r),d=void 0,!ou||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function Ou(r,i,a,u,d){var p=u;if(!(i&1)&&!(i&2)&&u!==null)e:for(;;){if(u===null)return;var g=u.tag;if(g===3||g===4){var w=u.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(g===4)for(g=u.return;g!==null;){var E=g.tag;if((E===3||E===4)&&(E=g.stateNode.containerInfo,E===d||E.nodeType===8&&E.parentNode===d))return;g=g.return}for(;w!==null;){if(g=yr(w),g===null)return;if(E=g.tag,E===5||E===6){u=p=g;continue e}w=w.parentNode}}u=u.return}gh(function(){var P=p,L=ru(a),M=[];e:{var b=ap.get(r);if(b!==void 0){var H=_u,q=r;switch(r){case"keypress":if(Wo(a)===0)break e;case"keydown":case"keyup":H=dE;break;case"focusin":q="focus",H=wu;break;case"focusout":q="blur",H=wu;break;case"beforeblur":case"afterblur":H=wu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Zw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=pE;break;case rp:case ip:case sp:H=nE;break;case op:H=gE;break;case"scroll":H=Jw;break;case"wheel":H=yE;break;case"copy":case"cut":case"paste":H=iE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=zh}var Q=(i&4)!==0,ze=!Q&&r==="scroll",T=Q?b!==null?b+"Capture":null:b;Q=[];for(var S=P,R;S!==null;){R=S;var U=R.stateNode;if(R.tag===5&&U!==null&&(R=U,T!==null&&(U=Gi(S,T),U!=null&&Q.push(ds(S,U,R)))),ze)break;S=S.return}0<Q.length&&(b=new H(b,q,null,a,L),M.push({event:b,listeners:Q}))}}if(!(i&7)){e:{if(b=r==="mouseover"||r==="pointerover",H=r==="mouseout"||r==="pointerout",b&&a!==nu&&(q=a.relatedTarget||a.fromElement)&&(yr(q)||q[dn]))break e;if((H||b)&&(b=L.window===L?L:(b=L.ownerDocument)?b.defaultView||b.parentWindow:window,H?(q=a.relatedTarget||a.toElement,H=P,q=q?yr(q):null,q!==null&&(ze=_r(q),q!==ze||q.tag!==5&&q.tag!==6)&&(q=null)):(H=null,q=P),H!==q)){if(Q=Fh,U="onMouseLeave",T="onMouseEnter",S="mouse",(r==="pointerout"||r==="pointerover")&&(Q=zh,U="onPointerLeave",T="onPointerEnter",S="pointer"),ze=H==null?b:ii(H),R=q==null?b:ii(q),b=new Q(U,S+"leave",H,a,L),b.target=ze,b.relatedTarget=R,U=null,yr(L)===P&&(Q=new Q(T,S+"enter",q,a,L),Q.target=R,Q.relatedTarget=ze,U=Q),ze=U,H&&q)t:{for(Q=H,T=q,S=0,R=Q;R;R=ni(R))S++;for(R=0,U=T;U;U=ni(U))R++;for(;0<S-R;)Q=ni(Q),S--;for(;0<R-S;)T=ni(T),R--;for(;S--;){if(Q===T||T!==null&&Q===T.alternate)break t;Q=ni(Q),T=ni(T)}Q=null}else Q=null;H!==null&&fp(M,b,H,Q,!1),q!==null&&ze!==null&&fp(M,ze,q,Q,!0)}}e:{if(b=P?ii(P):window,H=b.nodeName&&b.nodeName.toLowerCase(),H==="select"||H==="input"&&b.type==="file")var Y=kE;else if(Vh(b))if(Kh)Y=NE;else{Y=RE;var Z=TE}else(H=b.nodeName)&&H.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(Y=PE);if(Y&&(Y=Y(r,P))){Gh(M,Y,a,L);break e}Z&&Z(r,b,P),r==="focusout"&&(Z=b._wrapperState)&&Z.controlled&&b.type==="number"&&Jl(b,"number",b.value)}switch(Z=P?ii(P):window,r){case"focusin":(Vh(Z)||Z.contentEditable==="true")&&(ei=Z,Tu=P,ls=null);break;case"focusout":ls=Tu=ei=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,tp(M,a,L);break;case"selectionchange":if(OE)break;case"keydown":case"keyup":tp(M,a,L)}var ee;if(Su)e:{switch(r){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Zr?Bh(r,a)&&(se="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(se="onCompositionStart");se&&(jh&&a.locale!=="ko"&&(Zr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Zr&&(ee=Lh()):(Fn=L,gu="value"in Fn?Fn.value:Fn.textContent,Zr=!0)),Z=qo(P,se),0<Z.length&&(se=new Uh(se,r,null,a,L),M.push({event:se,listeners:Z}),ee?se.data=ee:(ee=Hh(a),ee!==null&&(se.data=ee)))),(ee=wE?EE(r,a):SE(r,a))&&(P=qo(P,"onBeforeInput"),0<P.length&&(L=new Uh("onBeforeInput","beforeinput",null,a,L),M.push({event:L,listeners:P}),L.data=ee))}cp(M,i)})}function ds(r,i,a){return{instance:r,listener:i,currentTarget:a}}function qo(r,i){for(var a=i+"Capture",u=[];r!==null;){var d=r,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=Gi(r,a),p!=null&&u.unshift(ds(r,p,d)),p=Gi(r,i),p!=null&&u.push(ds(r,p,d))),r=r.return}return u}function ni(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function fp(r,i,a,u,d){for(var p=i._reactName,g=[];a!==null&&a!==u;){var w=a,E=w.alternate,P=w.stateNode;if(E!==null&&E===u)break;w.tag===5&&P!==null&&(w=P,d?(E=Gi(a,p),E!=null&&g.unshift(ds(a,E,w))):d||(E=Gi(a,p),E!=null&&g.push(ds(a,E,w)))),a=a.return}g.length!==0&&r.push({event:i,listeners:g})}var ME=/\r\n?/g,FE=/\u0000|\uFFFD/g;function hp(r){return(typeof r=="string"?r:""+r).replace(ME,`
`).replace(FE,"")}function Qo(r,i,a){if(i=hp(i),hp(r)!==i&&a)throw Error(t(425))}function Yo(){}var bu=null,Du=null;function Lu(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mu=typeof setTimeout=="function"?setTimeout:void 0,UE=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(r){return pp.resolve(null).then(r).catch(jE)}:Mu;function jE(r){setTimeout(function(){throw r})}function Fu(r,i){var a=i,u=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(u===0){r.removeChild(d),ts(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=d}while(a);ts(i)}function zn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function mp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var ri=Math.random().toString(36).slice(2),tn="__reactFiber$"+ri,fs="__reactProps$"+ri,dn="__reactContainer$"+ri,Uu="__reactEvents$"+ri,WE="__reactListeners$"+ri,$E="__reactHandles$"+ri;function yr(r){var i=r[tn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[dn]||a[tn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=mp(r);r!==null;){if(a=r[tn])return a;r=mp(r)}return i}r=a,a=r.parentNode}return null}function hs(r){return r=r[tn]||r[dn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ii(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Jo(r){return r[fs]||null}var zu=[],si=-1;function jn(r){return{current:r}}function Pe(r){0>si||(r.current=zu[si],zu[si]=null,si--)}function ke(r,i){si++,zu[si]=r.current,r.current=i}var Wn={},et=jn(Wn),dt=jn(!1),vr=Wn;function oi(r,i){var a=r.type.contextTypes;if(!a)return Wn;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===i)return u.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=i[p];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function ft(r){return r=r.childContextTypes,r!=null}function Xo(){Pe(dt),Pe(et)}function gp(r,i,a){if(et.current!==Wn)throw Error(t(168));ke(et,i),ke(dt,a)}function _p(r,i,a){var u=r.stateNode;if(i=i.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var d in u)if(!(d in i))throw Error(t(108,Ie(r)||"Unknown",d));return G({},a,u)}function Zo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Wn,vr=et.current,ke(et,r),ke(dt,dt.current),!0}function yp(r,i,a){var u=r.stateNode;if(!u)throw Error(t(169));a?(r=_p(r,i,vr),u.__reactInternalMemoizedMergedChildContext=r,Pe(dt),Pe(et),ke(et,r)):Pe(dt),ke(dt,a)}var fn=null,ea=!1,ju=!1;function vp(r){fn===null?fn=[r]:fn.push(r)}function BE(r){ea=!0,vp(r)}function $n(){if(!ju&&fn!==null){ju=!0;var r=0,i=Ee;try{var a=fn;for(Ee=1;r<a.length;r++){var u=a[r];do u=u(!0);while(u!==null)}fn=null,ea=!1}catch(d){throw fn!==null&&(fn=fn.slice(r+1)),Eh(lu,$n),d}finally{Ee=i,ju=!1}}return null}var ai=[],li=0,ta=null,na=0,xt=[],At=0,wr=null,hn=1,pn="";function Er(r,i){ai[li++]=na,ai[li++]=ta,ta=r,na=i}function wp(r,i,a){xt[At++]=hn,xt[At++]=pn,xt[At++]=wr,wr=r;var u=hn;r=pn;var d=32-Ut(u)-1;u&=~(1<<d),a+=1;var p=32-Ut(i)+d;if(30<p){var g=d-d%5;p=(u&(1<<g)-1).toString(32),u>>=g,d-=g,hn=1<<32-Ut(i)+d|a<<d|u,pn=p+r}else hn=1<<p|a<<d|u,pn=r}function Wu(r){r.return!==null&&(Er(r,1),wp(r,1,0))}function $u(r){for(;r===ta;)ta=ai[--li],ai[li]=null,na=ai[--li],ai[li]=null;for(;r===wr;)wr=xt[--At],xt[At]=null,pn=xt[--At],xt[At]=null,hn=xt[--At],xt[At]=null}var Ct=null,It=null,Ae=!1,jt=null;function Ep(r,i){var a=Lt(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Sp(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Ct=r,It=zn(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Ct=r,It=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=wr!==null?{id:hn,overflow:pn}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Lt(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Ct=r,It=null,!0):!1;default:return!1}}function Bu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Hu(r){if(Ae){var i=It;if(i){var a=i;if(!Sp(r,i)){if(Bu(r))throw Error(t(418));i=zn(a.nextSibling);var u=Ct;i&&Sp(r,i)?Ep(u,a):(r.flags=r.flags&-4097|2,Ae=!1,Ct=r)}}else{if(Bu(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ae=!1,Ct=r}}}function Cp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ct=r}function ra(r){if(r!==Ct)return!1;if(!Ae)return Cp(r),Ae=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Lu(r.type,r.memoizedProps)),i&&(i=It)){if(Bu(r))throw Ip(),Error(t(418));for(;i;)Ep(r,i),i=zn(i.nextSibling)}if(Cp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){It=zn(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}It=null}}else It=Ct?zn(r.stateNode.nextSibling):null;return!0}function Ip(){for(var r=It;r;)r=zn(r.nextSibling)}function ui(){It=Ct=null,Ae=!1}function Vu(r){jt===null?jt=[r]:jt.push(r)}var HE=j.ReactCurrentBatchConfig;function ps(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var u=a.stateNode}if(!u)throw Error(t(147,r));var d=u,p=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===p?i.ref:(i=function(g){var w=d.refs;g===null?delete w[p]:w[p]=g},i._stringRef=p,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function ia(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function kp(r){var i=r._init;return i(r._payload)}function Tp(r){function i(T,S){if(r){var R=T.deletions;R===null?(T.deletions=[S],T.flags|=16):R.push(S)}}function a(T,S){if(!r)return null;for(;S!==null;)i(T,S),S=S.sibling;return null}function u(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function d(T,S){return T=Yn(T,S),T.index=0,T.sibling=null,T}function p(T,S,R){return T.index=R,r?(R=T.alternate,R!==null?(R=R.index,R<S?(T.flags|=2,S):R):(T.flags|=2,S)):(T.flags|=1048576,S)}function g(T){return r&&T.alternate===null&&(T.flags|=2),T}function w(T,S,R,U){return S===null||S.tag!==6?(S=Mc(R,T.mode,U),S.return=T,S):(S=d(S,R),S.return=T,S)}function E(T,S,R,U){var Y=R.type;return Y===ie?L(T,S,R.props.children,U,R.key):S!==null&&(S.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ct&&kp(Y)===S.type)?(U=d(S,R.props),U.ref=ps(T,S,R),U.return=T,U):(U=Pa(R.type,R.key,R.props,null,T.mode,U),U.ref=ps(T,S,R),U.return=T,U)}function P(T,S,R,U){return S===null||S.tag!==4||S.stateNode.containerInfo!==R.containerInfo||S.stateNode.implementation!==R.implementation?(S=Fc(R,T.mode,U),S.return=T,S):(S=d(S,R.children||[]),S.return=T,S)}function L(T,S,R,U,Y){return S===null||S.tag!==7?(S=Nr(R,T.mode,U,Y),S.return=T,S):(S=d(S,R),S.return=T,S)}function M(T,S,R){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Mc(""+S,T.mode,R),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case K:return R=Pa(S.type,S.key,S.props,null,T.mode,R),R.ref=ps(T,null,S),R.return=T,R;case X:return S=Fc(S,T.mode,R),S.return=T,S;case ct:var U=S._init;return M(T,U(S._payload),R)}if(Bi(S)||te(S))return S=Nr(S,T.mode,R,null),S.return=T,S;ia(T,S)}return null}function b(T,S,R,U){var Y=S!==null?S.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return Y!==null?null:w(T,S,""+R,U);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case K:return R.key===Y?E(T,S,R,U):null;case X:return R.key===Y?P(T,S,R,U):null;case ct:return Y=R._init,b(T,S,Y(R._payload),U)}if(Bi(R)||te(R))return Y!==null?null:L(T,S,R,U,null);ia(T,R)}return null}function H(T,S,R,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number")return T=T.get(R)||null,w(S,T,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case K:return T=T.get(U.key===null?R:U.key)||null,E(S,T,U,Y);case X:return T=T.get(U.key===null?R:U.key)||null,P(S,T,U,Y);case ct:var Z=U._init;return H(T,S,R,Z(U._payload),Y)}if(Bi(U)||te(U))return T=T.get(R)||null,L(S,T,U,Y,null);ia(S,U)}return null}function q(T,S,R,U){for(var Y=null,Z=null,ee=S,se=S=0,Ke=null;ee!==null&&se<R.length;se++){ee.index>se?(Ke=ee,ee=null):Ke=ee.sibling;var _e=b(T,ee,R[se],U);if(_e===null){ee===null&&(ee=Ke);break}r&&ee&&_e.alternate===null&&i(T,ee),S=p(_e,S,se),Z===null?Y=_e:Z.sibling=_e,Z=_e,ee=Ke}if(se===R.length)return a(T,ee),Ae&&Er(T,se),Y;if(ee===null){for(;se<R.length;se++)ee=M(T,R[se],U),ee!==null&&(S=p(ee,S,se),Z===null?Y=ee:Z.sibling=ee,Z=ee);return Ae&&Er(T,se),Y}for(ee=u(T,ee);se<R.length;se++)Ke=H(ee,T,se,R[se],U),Ke!==null&&(r&&Ke.alternate!==null&&ee.delete(Ke.key===null?se:Ke.key),S=p(Ke,S,se),Z===null?Y=Ke:Z.sibling=Ke,Z=Ke);return r&&ee.forEach(function(Jn){return i(T,Jn)}),Ae&&Er(T,se),Y}function Q(T,S,R,U){var Y=te(R);if(typeof Y!="function")throw Error(t(150));if(R=Y.call(R),R==null)throw Error(t(151));for(var Z=Y=null,ee=S,se=S=0,Ke=null,_e=R.next();ee!==null&&!_e.done;se++,_e=R.next()){ee.index>se?(Ke=ee,ee=null):Ke=ee.sibling;var Jn=b(T,ee,_e.value,U);if(Jn===null){ee===null&&(ee=Ke);break}r&&ee&&Jn.alternate===null&&i(T,ee),S=p(Jn,S,se),Z===null?Y=Jn:Z.sibling=Jn,Z=Jn,ee=Ke}if(_e.done)return a(T,ee),Ae&&Er(T,se),Y;if(ee===null){for(;!_e.done;se++,_e=R.next())_e=M(T,_e.value,U),_e!==null&&(S=p(_e,S,se),Z===null?Y=_e:Z.sibling=_e,Z=_e);return Ae&&Er(T,se),Y}for(ee=u(T,ee);!_e.done;se++,_e=R.next())_e=H(ee,T,se,_e.value,U),_e!==null&&(r&&_e.alternate!==null&&ee.delete(_e.key===null?se:_e.key),S=p(_e,S,se),Z===null?Y=_e:Z.sibling=_e,Z=_e);return r&&ee.forEach(function(SS){return i(T,SS)}),Ae&&Er(T,se),Y}function ze(T,S,R,U){if(typeof R=="object"&&R!==null&&R.type===ie&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case K:e:{for(var Y=R.key,Z=S;Z!==null;){if(Z.key===Y){if(Y=R.type,Y===ie){if(Z.tag===7){a(T,Z.sibling),S=d(Z,R.props.children),S.return=T,T=S;break e}}else if(Z.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ct&&kp(Y)===Z.type){a(T,Z.sibling),S=d(Z,R.props),S.ref=ps(T,Z,R),S.return=T,T=S;break e}a(T,Z);break}else i(T,Z);Z=Z.sibling}R.type===ie?(S=Nr(R.props.children,T.mode,U,R.key),S.return=T,T=S):(U=Pa(R.type,R.key,R.props,null,T.mode,U),U.ref=ps(T,S,R),U.return=T,T=U)}return g(T);case X:e:{for(Z=R.key;S!==null;){if(S.key===Z)if(S.tag===4&&S.stateNode.containerInfo===R.containerInfo&&S.stateNode.implementation===R.implementation){a(T,S.sibling),S=d(S,R.children||[]),S.return=T,T=S;break e}else{a(T,S);break}else i(T,S);S=S.sibling}S=Fc(R,T.mode,U),S.return=T,T=S}return g(T);case ct:return Z=R._init,ze(T,S,Z(R._payload),U)}if(Bi(R))return q(T,S,R,U);if(te(R))return Q(T,S,R,U);ia(T,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,S!==null&&S.tag===6?(a(T,S.sibling),S=d(S,R),S.return=T,T=S):(a(T,S),S=Mc(R,T.mode,U),S.return=T,T=S),g(T)):a(T,S)}return ze}var ci=Tp(!0),Rp=Tp(!1),sa=jn(null),oa=null,di=null,Gu=null;function Ku(){Gu=di=oa=null}function qu(r){var i=sa.current;Pe(sa),r._currentValue=i}function Qu(r,i,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===a)break;r=r.return}}function fi(r,i){oa=r,Gu=di=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(ht=!0),r.firstContext=null)}function Ot(r){var i=r._currentValue;if(Gu!==r)if(r={context:r,memoizedValue:i,next:null},di===null){if(oa===null)throw Error(t(308));di=r,oa.dependencies={lanes:0,firstContext:r}}else di=di.next=r;return i}var Sr=null;function Yu(r){Sr===null?Sr=[r]:Sr.push(r)}function Pp(r,i,a,u){var d=i.interleaved;return d===null?(a.next=a,Yu(i)):(a.next=d.next,d.next=a),i.interleaved=a,mn(r,u)}function mn(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Bn=!1;function Ju(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Np(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function gn(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Hn(r,i,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,pe&2){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,mn(r,a)}return d=u.interleaved,d===null?(i.next=i,Yu(u)):(i.next=d.next,d.next=i),u.interleaved=i,mn(r,a)}function aa(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,du(r,a)}}function xp(r,i){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var g={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=g:p=p.next=g,a=a.next}while(a!==null);p===null?d=p=i:p=p.next=i}else d=p=i;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,effects:u.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function la(r,i,a,u){var d=r.updateQueue;Bn=!1;var p=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var E=w,P=E.next;E.next=null,g===null?p=P:g.next=P,g=E;var L=r.alternate;L!==null&&(L=L.updateQueue,w=L.lastBaseUpdate,w!==g&&(w===null?L.firstBaseUpdate=P:w.next=P,L.lastBaseUpdate=E))}if(p!==null){var M=d.baseState;g=0,L=P=E=null,w=p;do{var b=w.lane,H=w.eventTime;if((u&b)===b){L!==null&&(L=L.next={eventTime:H,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var q=r,Q=w;switch(b=i,H=a,Q.tag){case 1:if(q=Q.payload,typeof q=="function"){M=q.call(H,M,b);break e}M=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=Q.payload,b=typeof q=="function"?q.call(H,M,b):q,b==null)break e;M=G({},M,b);break e;case 2:Bn=!0}}w.callback!==null&&w.lane!==0&&(r.flags|=64,b=d.effects,b===null?d.effects=[w]:b.push(w))}else H={eventTime:H,lane:b,tag:w.tag,payload:w.payload,callback:w.callback,next:null},L===null?(P=L=H,E=M):L=L.next=H,g|=b;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;b=w,w=b.next,b.next=null,d.lastBaseUpdate=b,d.shared.pending=null}}while(!0);if(L===null&&(E=M),d.baseState=E,d.firstBaseUpdate=P,d.lastBaseUpdate=L,i=d.shared.interleaved,i!==null){d=i;do g|=d.lane,d=d.next;while(d!==i)}else p===null&&(d.shared.lanes=0);kr|=g,r.lanes=g,r.memoizedState=M}}function Ap(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var u=r[i],d=u.callback;if(d!==null){if(u.callback=null,u=a,typeof d!="function")throw Error(t(191,d));d.call(u)}}}var ms={},nn=jn(ms),gs=jn(ms),_s=jn(ms);function Cr(r){if(r===ms)throw Error(t(174));return r}function Xu(r,i){switch(ke(_s,i),ke(gs,r),ke(nn,ms),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Zl(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Zl(i,r)}Pe(nn),ke(nn,i)}function hi(){Pe(nn),Pe(gs),Pe(_s)}function Op(r){Cr(_s.current);var i=Cr(nn.current),a=Zl(i,r.type);i!==a&&(ke(gs,r),ke(nn,a))}function Zu(r){gs.current===r&&(Pe(nn),Pe(gs))}var be=jn(0);function ua(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ec=[];function tc(){for(var r=0;r<ec.length;r++)ec[r]._workInProgressVersionPrimary=null;ec.length=0}var ca=j.ReactCurrentDispatcher,nc=j.ReactCurrentBatchConfig,Ir=0,De=null,We=null,Ve=null,da=!1,ys=!1,vs=0,VE=0;function tt(){throw Error(t(321))}function rc(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!zt(r[a],i[a]))return!1;return!0}function ic(r,i,a,u,d,p){if(Ir=p,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ca.current=r===null||r.memoizedState===null?QE:YE,r=a(u,d),ys){p=0;do{if(ys=!1,vs=0,25<=p)throw Error(t(301));p+=1,Ve=We=null,i.updateQueue=null,ca.current=JE,r=a(u,d)}while(ys)}if(ca.current=pa,i=We!==null&&We.next!==null,Ir=0,Ve=We=De=null,da=!1,i)throw Error(t(300));return r}function sc(){var r=vs!==0;return vs=0,r}function rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?De.memoizedState=Ve=r:Ve=Ve.next=r,Ve}function bt(){if(We===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var i=Ve===null?De.memoizedState:Ve.next;if(i!==null)Ve=i,We=r;else{if(r===null)throw Error(t(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ve===null?De.memoizedState=Ve=r:Ve=Ve.next=r}return Ve}function ws(r,i){return typeof i=="function"?i(r):i}function oc(r){var i=bt(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var u=We,d=u.baseQueue,p=a.pending;if(p!==null){if(d!==null){var g=d.next;d.next=p.next,p.next=g}u.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,u=u.baseState;var w=g=null,E=null,P=p;do{var L=P.lane;if((Ir&L)===L)E!==null&&(E=E.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),u=P.hasEagerState?P.eagerState:r(u,P.action);else{var M={lane:L,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};E===null?(w=E=M,g=u):E=E.next=M,De.lanes|=L,kr|=L}P=P.next}while(P!==null&&P!==p);E===null?g=u:E.next=w,zt(u,i.memoizedState)||(ht=!0),i.memoizedState=u,i.baseState=g,i.baseQueue=E,a.lastRenderedState=u}if(r=a.interleaved,r!==null){d=r;do p=d.lane,De.lanes|=p,kr|=p,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function ac(r){var i=bt(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var u=a.dispatch,d=a.pending,p=i.memoizedState;if(d!==null){a.pending=null;var g=d=d.next;do p=r(p,g.action),g=g.next;while(g!==d);zt(p,i.memoizedState)||(ht=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,u]}function bp(){}function Dp(r,i){var a=De,u=bt(),d=i(),p=!zt(u.memoizedState,d);if(p&&(u.memoizedState=d,ht=!0),u=u.queue,lc(Fp.bind(null,a,u,r),[r]),u.getSnapshot!==i||p||Ve!==null&&Ve.memoizedState.tag&1){if(a.flags|=2048,Es(9,Mp.bind(null,a,u,d,i),void 0,null),Ge===null)throw Error(t(349));Ir&30||Lp(a,i,d)}return d}function Lp(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i={lastEffect:null,stores:null},De.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Mp(r,i,a,u){i.value=a,i.getSnapshot=u,Up(i)&&zp(r)}function Fp(r,i,a){return a(function(){Up(i)&&zp(r)})}function Up(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!zt(r,a)}catch{return!0}}function zp(r){var i=mn(r,1);i!==null&&Ht(i,r,1,-1)}function jp(r){var i=rn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:r},i.queue=r,r=r.dispatch=qE.bind(null,De,r),[i.memoizedState,r]}function Es(r,i,a,u){return r={tag:r,create:i,destroy:a,deps:u,next:null},i=De.updateQueue,i===null?(i={lastEffect:null,stores:null},De.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,i.lastEffect=r)),r}function Wp(){return bt().memoizedState}function fa(r,i,a,u){var d=rn();De.flags|=r,d.memoizedState=Es(1|i,a,void 0,u===void 0?null:u)}function ha(r,i,a,u){var d=bt();u=u===void 0?null:u;var p=void 0;if(We!==null){var g=We.memoizedState;if(p=g.destroy,u!==null&&rc(u,g.deps)){d.memoizedState=Es(i,a,p,u);return}}De.flags|=r,d.memoizedState=Es(1|i,a,p,u)}function $p(r,i){return fa(8390656,8,r,i)}function lc(r,i){return ha(2048,8,r,i)}function Bp(r,i){return ha(4,2,r,i)}function Hp(r,i){return ha(4,4,r,i)}function Vp(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Gp(r,i,a){return a=a!=null?a.concat([r]):null,ha(4,4,Vp.bind(null,i,r),a)}function uc(){}function Kp(r,i){var a=bt();i=i===void 0?null:i;var u=a.memoizedState;return u!==null&&i!==null&&rc(i,u[1])?u[0]:(a.memoizedState=[r,i],r)}function qp(r,i){var a=bt();i=i===void 0?null:i;var u=a.memoizedState;return u!==null&&i!==null&&rc(i,u[1])?u[0]:(r=r(),a.memoizedState=[r,i],r)}function Qp(r,i,a){return Ir&21?(zt(a,i)||(a=kh(),De.lanes|=a,kr|=a,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,ht=!0),r.memoizedState=a)}function GE(r,i){var a=Ee;Ee=a!==0&&4>a?a:4,r(!0);var u=nc.transition;nc.transition={};try{r(!1),i()}finally{Ee=a,nc.transition=u}}function Yp(){return bt().memoizedState}function KE(r,i,a){var u=qn(r);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Jp(r))Xp(i,a);else if(a=Pp(r,i,a,u),a!==null){var d=at();Ht(a,r,u,d),Zp(a,i,u)}}function qE(r,i,a){var u=qn(r),d={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jp(r))Xp(i,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var g=i.lastRenderedState,w=p(g,a);if(d.hasEagerState=!0,d.eagerState=w,zt(w,g)){var E=i.interleaved;E===null?(d.next=d,Yu(i)):(d.next=E.next,E.next=d),i.interleaved=d;return}}catch{}finally{}a=Pp(r,i,d,u),a!==null&&(d=at(),Ht(a,r,u,d),Zp(a,i,u))}}function Jp(r){var i=r.alternate;return r===De||i!==null&&i===De}function Xp(r,i){ys=da=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Zp(r,i,a){if(a&4194240){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,du(r,a)}}var pa={readContext:Ot,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},QE={readContext:Ot,useCallback:function(r,i){return rn().memoizedState=[r,i===void 0?null:i],r},useContext:Ot,useEffect:$p,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,fa(4194308,4,Vp.bind(null,i,r),a)},useLayoutEffect:function(r,i){return fa(4194308,4,r,i)},useInsertionEffect:function(r,i){return fa(4,2,r,i)},useMemo:function(r,i){var a=rn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var u=rn();return i=a!==void 0?a(i):i,u.memoizedState=u.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},u.queue=r,r=r.dispatch=KE.bind(null,De,r),[u.memoizedState,r]},useRef:function(r){var i=rn();return r={current:r},i.memoizedState=r},useState:jp,useDebugValue:uc,useDeferredValue:function(r){return rn().memoizedState=r},useTransition:function(){var r=jp(!1),i=r[0];return r=GE.bind(null,r[1]),rn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var u=De,d=rn();if(Ae){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Ge===null)throw Error(t(349));Ir&30||Lp(u,i,a)}d.memoizedState=a;var p={value:a,getSnapshot:i};return d.queue=p,$p(Fp.bind(null,u,p,r),[r]),u.flags|=2048,Es(9,Mp.bind(null,u,p,a,i),void 0,null),a},useId:function(){var r=rn(),i=Ge.identifierPrefix;if(Ae){var a=pn,u=hn;a=(u&~(1<<32-Ut(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=vs++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=VE++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},YE={readContext:Ot,useCallback:Kp,useContext:Ot,useEffect:lc,useImperativeHandle:Gp,useInsertionEffect:Bp,useLayoutEffect:Hp,useMemo:qp,useReducer:oc,useRef:Wp,useState:function(){return oc(ws)},useDebugValue:uc,useDeferredValue:function(r){var i=bt();return Qp(i,We.memoizedState,r)},useTransition:function(){var r=oc(ws)[0],i=bt().memoizedState;return[r,i]},useMutableSource:bp,useSyncExternalStore:Dp,useId:Yp,unstable_isNewReconciler:!1},JE={readContext:Ot,useCallback:Kp,useContext:Ot,useEffect:lc,useImperativeHandle:Gp,useInsertionEffect:Bp,useLayoutEffect:Hp,useMemo:qp,useReducer:ac,useRef:Wp,useState:function(){return ac(ws)},useDebugValue:uc,useDeferredValue:function(r){var i=bt();return We===null?i.memoizedState=r:Qp(i,We.memoizedState,r)},useTransition:function(){var r=ac(ws)[0],i=bt().memoizedState;return[r,i]},useMutableSource:bp,useSyncExternalStore:Dp,useId:Yp,unstable_isNewReconciler:!1};function Wt(r,i){if(r&&r.defaultProps){i=G({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function cc(r,i,a,u){i=r.memoizedState,a=a(u,i),a=a==null?i:G({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var ma={isMounted:function(r){return(r=r._reactInternals)?_r(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var u=at(),d=qn(r),p=gn(u,d);p.payload=i,a!=null&&(p.callback=a),i=Hn(r,p,d),i!==null&&(Ht(i,r,d,u),aa(i,r,d))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var u=at(),d=qn(r),p=gn(u,d);p.tag=1,p.payload=i,a!=null&&(p.callback=a),i=Hn(r,p,d),i!==null&&(Ht(i,r,d,u),aa(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=at(),u=qn(r),d=gn(a,u);d.tag=2,i!=null&&(d.callback=i),i=Hn(r,d,u),i!==null&&(Ht(i,r,u,a),aa(i,r,u))}};function em(r,i,a,u,d,p,g){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,g):i.prototype&&i.prototype.isPureReactComponent?!as(a,u)||!as(d,p):!0}function tm(r,i,a){var u=!1,d=Wn,p=i.contextType;return typeof p=="object"&&p!==null?p=Ot(p):(d=ft(i)?vr:et.current,u=i.contextTypes,p=(u=u!=null)?oi(r,d):Wn),i=new i(a,p),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ma,r.stateNode=i,i._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=p),i}function nm(r,i,a,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==r&&ma.enqueueReplaceState(i,i.state,null)}function dc(r,i,a,u){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Ju(r);var p=i.contextType;typeof p=="object"&&p!==null?d.context=Ot(p):(p=ft(i)?vr:et.current,d.context=oi(r,p)),d.state=r.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(cc(r,i,p,a),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&ma.enqueueReplaceState(d,d.state,null),la(r,a,d,u),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function pi(r,i){try{var a="",u=i;do a+=me(u),u=u.return;while(u);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:i,stack:d,digest:null}}function fc(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function hc(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var XE=typeof WeakMap=="function"?WeakMap:Map;function rm(r,i,a){a=gn(-1,a),a.tag=3,a.payload={element:null};var u=i.value;return a.callback=function(){Sa||(Sa=!0,Pc=u),hc(r,i)},a}function im(r,i,a){a=gn(-1,a),a.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var d=i.value;a.payload=function(){return u(d)},a.callback=function(){hc(r,i)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){hc(r,i),typeof u!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})}),a}function sm(r,i,a){var u=r.pingCache;if(u===null){u=r.pingCache=new XE;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(a)||(d.add(a),r=fS.bind(null,r,i,a),i.then(r,r))}function om(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function am(r,i,a,u,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=gn(-1,1),i.tag=2,Hn(a,i,1))),a.lanes|=1),r)}var ZE=j.ReactCurrentOwner,ht=!1;function ot(r,i,a,u){i.child=r===null?Rp(i,null,a,u):ci(i,r.child,a,u)}function lm(r,i,a,u,d){a=a.render;var p=i.ref;return fi(i,d),u=ic(r,i,a,u,p,d),a=sc(),r!==null&&!ht?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,_n(r,i,d)):(Ae&&a&&Wu(i),i.flags|=1,ot(r,i,u,d),i.child)}function um(r,i,a,u,d){if(r===null){var p=a.type;return typeof p=="function"&&!Lc(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=p,cm(r,i,p,u,d)):(r=Pa(a.type,null,u,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!(r.lanes&d)){var g=p.memoizedProps;if(a=a.compare,a=a!==null?a:as,a(g,u)&&r.ref===i.ref)return _n(r,i,d)}return i.flags|=1,r=Yn(p,u),r.ref=i.ref,r.return=i,i.child=r}function cm(r,i,a,u,d){if(r!==null){var p=r.memoizedProps;if(as(p,u)&&r.ref===i.ref)if(ht=!1,i.pendingProps=u=p,(r.lanes&d)!==0)r.flags&131072&&(ht=!0);else return i.lanes=r.lanes,_n(r,i,d)}return pc(r,i,a,u,d)}function dm(r,i,a){var u=i.pendingProps,d=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(gi,kt),kt|=a;else{if(!(a&1073741824))return r=p!==null?p.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,ke(gi,kt),kt|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:a,ke(gi,kt),kt|=u}else p!==null?(u=p.baseLanes|a,i.memoizedState=null):u=a,ke(gi,kt),kt|=u;return ot(r,i,d,a),i.child}function fm(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function pc(r,i,a,u,d){var p=ft(a)?vr:et.current;return p=oi(i,p),fi(i,d),a=ic(r,i,a,u,p,d),u=sc(),r!==null&&!ht?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,_n(r,i,d)):(Ae&&u&&Wu(i),i.flags|=1,ot(r,i,a,d),i.child)}function hm(r,i,a,u,d){if(ft(a)){var p=!0;Zo(i)}else p=!1;if(fi(i,d),i.stateNode===null)_a(r,i),tm(i,a,u),dc(i,a,u,d),u=!0;else if(r===null){var g=i.stateNode,w=i.memoizedProps;g.props=w;var E=g.context,P=a.contextType;typeof P=="object"&&P!==null?P=Ot(P):(P=ft(a)?vr:et.current,P=oi(i,P));var L=a.getDerivedStateFromProps,M=typeof L=="function"||typeof g.getSnapshotBeforeUpdate=="function";M||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==u||E!==P)&&nm(i,g,u,P),Bn=!1;var b=i.memoizedState;g.state=b,la(i,u,g,d),E=i.memoizedState,w!==u||b!==E||dt.current||Bn?(typeof L=="function"&&(cc(i,a,L,u),E=i.memoizedState),(w=Bn||em(i,a,w,u,b,E,P))?(M||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=E),g.props=u,g.state=E,g.context=P,u=w):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,Np(r,i),w=i.memoizedProps,P=i.type===i.elementType?w:Wt(i.type,w),g.props=P,M=i.pendingProps,b=g.context,E=a.contextType,typeof E=="object"&&E!==null?E=Ot(E):(E=ft(a)?vr:et.current,E=oi(i,E));var H=a.getDerivedStateFromProps;(L=typeof H=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==M||b!==E)&&nm(i,g,u,E),Bn=!1,b=i.memoizedState,g.state=b,la(i,u,g,d);var q=i.memoizedState;w!==M||b!==q||dt.current||Bn?(typeof H=="function"&&(cc(i,a,H,u),q=i.memoizedState),(P=Bn||em(i,a,P,u,b,q,E)||!1)?(L||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,q,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,q,E)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&b===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&b===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=q),g.props=u,g.state=q,g.context=E,u=P):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&b===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&b===r.memoizedState||(i.flags|=1024),u=!1)}return mc(r,i,a,u,p,d)}function mc(r,i,a,u,d,p){fm(r,i);var g=(i.flags&128)!==0;if(!u&&!g)return d&&yp(i,a,!1),_n(r,i,p);u=i.stateNode,ZE.current=i;var w=g&&typeof a.getDerivedStateFromError!="function"?null:u.render();return i.flags|=1,r!==null&&g?(i.child=ci(i,r.child,null,p),i.child=ci(i,null,w,p)):ot(r,i,w,p),i.memoizedState=u.state,d&&yp(i,a,!0),i.child}function pm(r){var i=r.stateNode;i.pendingContext?gp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&gp(r,i.context,!1),Xu(r,i.containerInfo)}function mm(r,i,a,u,d){return ui(),Vu(d),i.flags|=256,ot(r,i,a,u),i.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function _c(r){return{baseLanes:r,cachePool:null,transitions:null}}function gm(r,i,a){var u=i.pendingProps,d=be.current,p=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=r!==null&&r.memoizedState===null?!1:(d&2)!==0),w?(p=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),ke(be,d&1),r===null)return Hu(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(g=u.children,r=u.fallback,p?(u=i.mode,p=i.child,g={mode:"hidden",children:g},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=g):p=Na(g,u,0,null),r=Nr(r,u,a,null),p.return=i,r.return=i,p.sibling=r,i.child=p,i.child.memoizedState=_c(a),i.memoizedState=gc,r):yc(i,g));if(d=r.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return eS(r,i,g,u,w,d,a);if(p){p=u.fallback,g=i.mode,d=r.child,w=d.sibling;var E={mode:"hidden",children:u.children};return!(g&1)&&i.child!==d?(u=i.child,u.childLanes=0,u.pendingProps=E,i.deletions=null):(u=Yn(d,E),u.subtreeFlags=d.subtreeFlags&14680064),w!==null?p=Yn(w,p):(p=Nr(p,g,a,null),p.flags|=2),p.return=i,u.return=i,u.sibling=p,i.child=u,u=p,p=i.child,g=r.child.memoizedState,g=g===null?_c(a):{baseLanes:g.baseLanes|a,cachePool:null,transitions:g.transitions},p.memoizedState=g,p.childLanes=r.childLanes&~a,i.memoizedState=gc,u}return p=r.child,r=p.sibling,u=Yn(p,{mode:"visible",children:u.children}),!(i.mode&1)&&(u.lanes=a),u.return=i,u.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=u,i.memoizedState=null,u}function yc(r,i){return i=Na({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function ga(r,i,a,u){return u!==null&&Vu(u),ci(i,r.child,null,a),r=yc(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function eS(r,i,a,u,d,p,g){if(a)return i.flags&256?(i.flags&=-257,u=fc(Error(t(422))),ga(r,i,g,u)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(p=u.fallback,d=i.mode,u=Na({mode:"visible",children:u.children},d,0,null),p=Nr(p,d,g,null),p.flags|=2,u.return=i,p.return=i,u.sibling=p,i.child=u,i.mode&1&&ci(i,r.child,null,g),i.child.memoizedState=_c(g),i.memoizedState=gc,p);if(!(i.mode&1))return ga(r,i,g,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(t(419)),u=fc(p,u,void 0),ga(r,i,g,u)}if(w=(g&r.childLanes)!==0,ht||w){if(u=Ge,u!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(u.suspendedLanes|g)?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,mn(r,d),Ht(u,r,d,-1))}return Dc(),u=fc(Error(t(421))),ga(r,i,g,u)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=hS.bind(null,r),d._reactRetry=i,null):(r=p.treeContext,It=zn(d.nextSibling),Ct=i,Ae=!0,jt=null,r!==null&&(xt[At++]=hn,xt[At++]=pn,xt[At++]=wr,hn=r.id,pn=r.overflow,wr=i),i=yc(i,u.children),i.flags|=4096,i)}function _m(r,i,a){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Qu(r.return,i,a)}function vc(r,i,a,u,d){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=d)}function ym(r,i,a){var u=i.pendingProps,d=u.revealOrder,p=u.tail;if(ot(r,i,u.children,a),u=be.current,u&2)u=u&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_m(r,a,i);else if(r.tag===19)_m(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(ke(be,u),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&ua(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),vc(i,!1,d,a,p);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&ua(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}vc(i,!0,a,null,p);break;case"together":vc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _a(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function _n(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),kr|=i.lanes,!(a&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=Yn(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Yn(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function tS(r,i,a){switch(i.tag){case 3:pm(i),ui();break;case 5:Op(i);break;case 1:ft(i.type)&&Zo(i);break;case 4:Xu(i,i.stateNode.containerInfo);break;case 10:var u=i.type._context,d=i.memoizedProps.value;ke(sa,u._currentValue),u._currentValue=d;break;case 13:if(u=i.memoizedState,u!==null)return u.dehydrated!==null?(ke(be,be.current&1),i.flags|=128,null):a&i.child.childLanes?gm(r,i,a):(ke(be,be.current&1),r=_n(r,i,a),r!==null?r.sibling:null);ke(be,be.current&1);break;case 19:if(u=(a&i.childLanes)!==0,r.flags&128){if(u)return ym(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ke(be,be.current),u)break;return null;case 22:case 23:return i.lanes=0,dm(r,i,a)}return _n(r,i,a)}var vm,wc,wm,Em;vm=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},wc=function(){},wm=function(r,i,a,u){var d=r.memoizedProps;if(d!==u){r=i.stateNode,Cr(nn.current);var p=null;switch(a){case"input":d=Ql(r,d),u=Ql(r,u),p=[];break;case"select":d=G({},d,{value:void 0}),u=G({},u,{value:void 0}),p=[];break;case"textarea":d=Xl(r,d),u=Xl(r,u),p=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=Yo)}eu(a,u);var g;a=null;for(P in d)if(!u.hasOwnProperty(P)&&d.hasOwnProperty(P)&&d[P]!=null)if(P==="style"){var w=d[P];for(g in w)w.hasOwnProperty(g)&&(a||(a={}),a[g]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(o.hasOwnProperty(P)?p||(p=[]):(p=p||[]).push(P,null));for(P in u){var E=u[P];if(w=d!=null?d[P]:void 0,u.hasOwnProperty(P)&&E!==w&&(E!=null||w!=null))if(P==="style")if(w){for(g in w)!w.hasOwnProperty(g)||E&&E.hasOwnProperty(g)||(a||(a={}),a[g]="");for(g in E)E.hasOwnProperty(g)&&w[g]!==E[g]&&(a||(a={}),a[g]=E[g])}else a||(p||(p=[]),p.push(P,a)),a=E;else P==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,w=w?w.__html:void 0,E!=null&&w!==E&&(p=p||[]).push(P,E)):P==="children"?typeof E!="string"&&typeof E!="number"||(p=p||[]).push(P,""+E):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(o.hasOwnProperty(P)?(E!=null&&P==="onScroll"&&Re("scroll",r),p||w===E||(p=[])):(p=p||[]).push(P,E))}a&&(p=p||[]).push("style",a);var P=p;(i.updateQueue=P)&&(i.flags|=4)}},Em=function(r,i,a,u){a!==u&&(i.flags|=4)};function Ss(r,i){if(!Ae)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function nt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=a,i}function nS(r,i,a){var u=i.pendingProps;switch($u(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return ft(i.type)&&Xo(),nt(i),null;case 3:return u=i.stateNode,hi(),Pe(dt),Pe(et),tc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(ra(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,jt!==null&&(Ac(jt),jt=null))),wc(r,i),nt(i),null;case 5:Zu(i);var d=Cr(_s.current);if(a=i.type,r!==null&&i.stateNode!=null)wm(r,i,a,u,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!u){if(i.stateNode===null)throw Error(t(166));return nt(i),null}if(r=Cr(nn.current),ra(i)){u=i.stateNode,a=i.type;var p=i.memoizedProps;switch(u[tn]=i,u[fs]=p,r=(i.mode&1)!==0,a){case"dialog":Re("cancel",u),Re("close",u);break;case"iframe":case"object":case"embed":Re("load",u);break;case"video":case"audio":for(d=0;d<us.length;d++)Re(us[d],u);break;case"source":Re("error",u);break;case"img":case"image":case"link":Re("error",u),Re("load",u);break;case"details":Re("toggle",u);break;case"input":th(u,p),Re("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Re("invalid",u);break;case"textarea":ih(u,p),Re("invalid",u)}eu(a,p),d=null;for(var g in p)if(p.hasOwnProperty(g)){var w=p[g];g==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&Qo(u.textContent,w,r),d=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&Qo(u.textContent,w,r),d=["children",""+w]):o.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Re("scroll",u)}switch(a){case"input":To(u),rh(u,p,!0);break;case"textarea":To(u),oh(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Yo)}u=d,i.updateQueue=u,u!==null&&(i.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ah(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=g.createElement(a,{is:u.is}):(r=g.createElement(a),a==="select"&&(g=r,u.multiple?g.multiple=!0:u.size&&(g.size=u.size))):r=g.createElementNS(r,a),r[tn]=i,r[fs]=u,vm(r,i,!1,!1),i.stateNode=r;e:{switch(g=tu(a,u),a){case"dialog":Re("cancel",r),Re("close",r),d=u;break;case"iframe":case"object":case"embed":Re("load",r),d=u;break;case"video":case"audio":for(d=0;d<us.length;d++)Re(us[d],r);d=u;break;case"source":Re("error",r),d=u;break;case"img":case"image":case"link":Re("error",r),Re("load",r),d=u;break;case"details":Re("toggle",r),d=u;break;case"input":th(r,u),d=Ql(r,u),Re("invalid",r);break;case"option":d=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},d=G({},u,{value:void 0}),Re("invalid",r);break;case"textarea":ih(r,u),d=Xl(r,u),Re("invalid",r);break;default:d=u}eu(a,d),w=d;for(p in w)if(w.hasOwnProperty(p)){var E=w[p];p==="style"?ch(r,E):p==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&lh(r,E)):p==="children"?typeof E=="string"?(a!=="textarea"||E!=="")&&Hi(r,E):typeof E=="number"&&Hi(r,""+E):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?E!=null&&p==="onScroll"&&Re("scroll",r):E!=null&&$(r,p,E,g))}switch(a){case"input":To(r),rh(r,u,!1);break;case"textarea":To(r),oh(r);break;case"option":u.value!=null&&r.setAttribute("value",""+we(u.value));break;case"select":r.multiple=!!u.multiple,p=u.value,p!=null?qr(r,!!u.multiple,p,!1):u.defaultValue!=null&&qr(r,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Yo)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return nt(i),null;case 6:if(r&&i.stateNode!=null)Em(r,i,r.memoizedProps,u);else{if(typeof u!="string"&&i.stateNode===null)throw Error(t(166));if(a=Cr(_s.current),Cr(nn.current),ra(i)){if(u=i.stateNode,a=i.memoizedProps,u[tn]=i,(p=u.nodeValue!==a)&&(r=Ct,r!==null))switch(r.tag){case 3:Qo(u.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Qo(u.nodeValue,a,(r.mode&1)!==0)}p&&(i.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[tn]=i,i.stateNode=u}return nt(i),null;case 13:if(Pe(be),u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ae&&It!==null&&i.mode&1&&!(i.flags&128))Ip(),ui(),i.flags|=98560,p=!1;else if(p=ra(i),u!==null&&u.dehydrated!==null){if(r===null){if(!p)throw Error(t(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[tn]=i}else ui(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;nt(i),p=!1}else jt!==null&&(Ac(jt),jt=null),p=!0;if(!p)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(i.child.flags|=8192,i.mode&1&&(r===null||be.current&1?$e===0&&($e=3):Dc())),i.updateQueue!==null&&(i.flags|=4),nt(i),null);case 4:return hi(),wc(r,i),r===null&&cs(i.stateNode.containerInfo),nt(i),null;case 10:return qu(i.type._context),nt(i),null;case 17:return ft(i.type)&&Xo(),nt(i),null;case 19:if(Pe(be),p=i.memoizedState,p===null)return nt(i),null;if(u=(i.flags&128)!==0,g=p.rendering,g===null)if(u)Ss(p,!1);else{if($e!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(g=ua(r),g!==null){for(i.flags|=128,Ss(p,!1),u=g.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),i.subtreeFlags=0,u=a,a=i.child;a!==null;)p=a,r=u,p.flags&=14680066,g=p.alternate,g===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=g.childLanes,p.lanes=g.lanes,p.child=g.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=g.memoizedProps,p.memoizedState=g.memoizedState,p.updateQueue=g.updateQueue,p.type=g.type,r=g.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return ke(be,be.current&1|2),i.child}r=r.sibling}p.tail!==null&&Ue()>_i&&(i.flags|=128,u=!0,Ss(p,!1),i.lanes=4194304)}else{if(!u)if(r=ua(g),r!==null){if(i.flags|=128,u=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ss(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ae)return nt(i),null}else 2*Ue()-p.renderingStartTime>_i&&a!==1073741824&&(i.flags|=128,u=!0,Ss(p,!1),i.lanes=4194304);p.isBackwards?(g.sibling=i.child,i.child=g):(a=p.last,a!==null?a.sibling=g:i.child=g,p.last=g)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Ue(),i.sibling=null,a=be.current,ke(be,u?a&1|2:a&1),i):(nt(i),null);case 22:case 23:return bc(),u=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(i.flags|=8192),u&&i.mode&1?kt&1073741824&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function rS(r,i){switch($u(i),i.tag){case 1:return ft(i.type)&&Xo(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return hi(),Pe(dt),Pe(et),tc(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return Zu(i),null;case 13:if(Pe(be),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ui()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Pe(be),null;case 4:return hi(),null;case 10:return qu(i.type._context),null;case 22:case 23:return bc(),null;case 24:return null;default:return null}}var ya=!1,rt=!1,iS=typeof WeakSet=="function"?WeakSet:Set,V=null;function mi(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){Me(r,i,u)}else a.current=null}function Ec(r,i,a){try{a()}catch(u){Me(r,i,u)}}var Sm=!1;function sS(r,i){if(bu=Uo,r=ep(),ku(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var g=0,w=-1,E=-1,P=0,L=0,M=r,b=null;t:for(;;){for(var H;M!==a||d!==0&&M.nodeType!==3||(w=g+d),M!==p||u!==0&&M.nodeType!==3||(E=g+u),M.nodeType===3&&(g+=M.nodeValue.length),(H=M.firstChild)!==null;)b=M,M=H;for(;;){if(M===r)break t;if(b===a&&++P===d&&(w=g),b===p&&++L===u&&(E=g),(H=M.nextSibling)!==null)break;M=b,b=M.parentNode}M=H}a=w===-1||E===-1?null:{start:w,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Du={focusedElem:r,selectionRange:a},Uo=!1,V=i;V!==null;)if(i=V,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,V=r;else for(;V!==null;){i=V;try{var q=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var Q=q.memoizedProps,ze=q.memoizedState,T=i.stateNode,S=T.getSnapshotBeforeUpdate(i.elementType===i.type?Q:Wt(i.type,Q),ze);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var R=i.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(U){Me(i,i.return,U)}if(r=i.sibling,r!==null){r.return=i.return,V=r;break}V=i.return}return q=Sm,Sm=!1,q}function Cs(r,i,a){var u=i.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&r)===r){var p=d.destroy;d.destroy=void 0,p!==void 0&&Ec(i,a,p)}d=d.next}while(d!==u)}}function va(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var u=a.create;a.destroy=u()}a=a.next}while(a!==i)}}function Sc(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Cm(r){var i=r.alternate;i!==null&&(r.alternate=null,Cm(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[tn],delete i[fs],delete i[Uu],delete i[WE],delete i[$E])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Im(r){return r.tag===5||r.tag===3||r.tag===4}function km(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Im(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Cc(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yo));else if(u!==4&&(r=r.child,r!==null))for(Cc(r,i,a),r=r.sibling;r!==null;)Cc(r,i,a),r=r.sibling}function Ic(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(Ic(r,i,a),r=r.sibling;r!==null;)Ic(r,i,a),r=r.sibling}var Je=null,$t=!1;function Vn(r,i,a){for(a=a.child;a!==null;)Tm(r,i,a),a=a.sibling}function Tm(r,i,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Oo,a)}catch{}switch(a.tag){case 5:rt||mi(a,i);case 6:var u=Je,d=$t;Je=null,Vn(r,i,a),Je=u,$t=d,Je!==null&&($t?(r=Je,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Je.removeChild(a.stateNode));break;case 18:Je!==null&&($t?(r=Je,a=a.stateNode,r.nodeType===8?Fu(r.parentNode,a):r.nodeType===1&&Fu(r,a),ts(r)):Fu(Je,a.stateNode));break;case 4:u=Je,d=$t,Je=a.stateNode.containerInfo,$t=!0,Vn(r,i,a),Je=u,$t=d;break;case 0:case 11:case 14:case 15:if(!rt&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var p=d,g=p.destroy;p=p.tag,g!==void 0&&(p&2||p&4)&&Ec(a,i,g),d=d.next}while(d!==u)}Vn(r,i,a);break;case 1:if(!rt&&(mi(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(w){Me(a,i,w)}Vn(r,i,a);break;case 21:Vn(r,i,a);break;case 22:a.mode&1?(rt=(u=rt)||a.memoizedState!==null,Vn(r,i,a),rt=u):Vn(r,i,a);break;default:Vn(r,i,a)}}function Rm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new iS),i.forEach(function(u){var d=pS.bind(null,r,u);a.has(u)||(a.add(u),u.then(d,d))})}}function Bt(r,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];try{var p=r,g=i,w=g;e:for(;w!==null;){switch(w.tag){case 5:Je=w.stateNode,$t=!1;break e;case 3:Je=w.stateNode.containerInfo,$t=!0;break e;case 4:Je=w.stateNode.containerInfo,$t=!0;break e}w=w.return}if(Je===null)throw Error(t(160));Tm(p,g,d),Je=null,$t=!1;var E=d.alternate;E!==null&&(E.return=null),d.return=null}catch(P){Me(d,i,P)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Pm(i,r),i=i.sibling}function Pm(r,i){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Bt(i,r),sn(r),u&4){try{Cs(3,r,r.return),va(3,r)}catch(Q){Me(r,r.return,Q)}try{Cs(5,r,r.return)}catch(Q){Me(r,r.return,Q)}}break;case 1:Bt(i,r),sn(r),u&512&&a!==null&&mi(a,a.return);break;case 5:if(Bt(i,r),sn(r),u&512&&a!==null&&mi(a,a.return),r.flags&32){var d=r.stateNode;try{Hi(d,"")}catch(Q){Me(r,r.return,Q)}}if(u&4&&(d=r.stateNode,d!=null)){var p=r.memoizedProps,g=a!==null?a.memoizedProps:p,w=r.type,E=r.updateQueue;if(r.updateQueue=null,E!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&nh(d,p),tu(w,g);var P=tu(w,p);for(g=0;g<E.length;g+=2){var L=E[g],M=E[g+1];L==="style"?ch(d,M):L==="dangerouslySetInnerHTML"?lh(d,M):L==="children"?Hi(d,M):$(d,L,M,P)}switch(w){case"input":Yl(d,p);break;case"textarea":sh(d,p);break;case"select":var b=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var H=p.value;H!=null?qr(d,!!p.multiple,H,!1):b!==!!p.multiple&&(p.defaultValue!=null?qr(d,!!p.multiple,p.defaultValue,!0):qr(d,!!p.multiple,p.multiple?[]:"",!1))}d[fs]=p}catch(Q){Me(r,r.return,Q)}}break;case 6:if(Bt(i,r),sn(r),u&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,p=r.memoizedProps;try{d.nodeValue=p}catch(Q){Me(r,r.return,Q)}}break;case 3:if(Bt(i,r),sn(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ts(i.containerInfo)}catch(Q){Me(r,r.return,Q)}break;case 4:Bt(i,r),sn(r);break;case 13:Bt(i,r),sn(r),d=r.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Rc=Ue())),u&4&&Rm(r);break;case 22:if(L=a!==null&&a.memoizedState!==null,r.mode&1?(rt=(P=rt)||L,Bt(i,r),rt=P):Bt(i,r),sn(r),u&8192){if(P=r.memoizedState!==null,(r.stateNode.isHidden=P)&&!L&&r.mode&1)for(V=r,L=r.child;L!==null;){for(M=V=L;V!==null;){switch(b=V,H=b.child,b.tag){case 0:case 11:case 14:case 15:Cs(4,b,b.return);break;case 1:mi(b,b.return);var q=b.stateNode;if(typeof q.componentWillUnmount=="function"){u=b,a=b.return;try{i=u,q.props=i.memoizedProps,q.state=i.memoizedState,q.componentWillUnmount()}catch(Q){Me(u,a,Q)}}break;case 5:mi(b,b.return);break;case 22:if(b.memoizedState!==null){Am(M);continue}}H!==null?(H.return=b,V=H):Am(M)}L=L.sibling}e:for(L=null,M=r;;){if(M.tag===5){if(L===null){L=M;try{d=M.stateNode,P?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=M.stateNode,E=M.memoizedProps.style,g=E!=null&&E.hasOwnProperty("display")?E.display:null,w.style.display=uh("display",g))}catch(Q){Me(r,r.return,Q)}}}else if(M.tag===6){if(L===null)try{M.stateNode.nodeValue=P?"":M.memoizedProps}catch(Q){Me(r,r.return,Q)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===r)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===r)break e;for(;M.sibling===null;){if(M.return===null||M.return===r)break e;L===M&&(L=null),M=M.return}L===M&&(L=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:Bt(i,r),sn(r),u&4&&Rm(r);break;case 21:break;default:Bt(i,r),sn(r)}}function sn(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Im(a)){var u=a;break e}a=a.return}throw Error(t(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(Hi(d,""),u.flags&=-33);var p=km(r);Ic(r,p,d);break;case 3:case 4:var g=u.stateNode.containerInfo,w=km(r);Cc(r,w,g);break;default:throw Error(t(161))}}catch(E){Me(r,r.return,E)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function oS(r,i,a){V=r,Nm(r)}function Nm(r,i,a){for(var u=(r.mode&1)!==0;V!==null;){var d=V,p=d.child;if(d.tag===22&&u){var g=d.memoizedState!==null||ya;if(!g){var w=d.alternate,E=w!==null&&w.memoizedState!==null||rt;w=ya;var P=rt;if(ya=g,(rt=E)&&!P)for(V=d;V!==null;)g=V,E=g.child,g.tag===22&&g.memoizedState!==null?Om(d):E!==null?(E.return=g,V=E):Om(d);for(;p!==null;)V=p,Nm(p),p=p.sibling;V=d,ya=w,rt=P}xm(r)}else d.subtreeFlags&8772&&p!==null?(p.return=d,V=p):xm(r)}}function xm(r){for(;V!==null;){var i=V;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:rt||va(5,i);break;case 1:var u=i.stateNode;if(i.flags&4&&!rt)if(a===null)u.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Wt(i.type,a.memoizedProps);u.componentDidUpdate(d,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=i.updateQueue;p!==null&&Ap(i,p,u);break;case 3:var g=i.updateQueue;if(g!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Ap(i,g,a)}break;case 5:var w=i.stateNode;if(a===null&&i.flags&4){a=w;var E=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&a.focus();break;case"img":E.src&&(a.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var P=i.alternate;if(P!==null){var L=P.memoizedState;if(L!==null){var M=L.dehydrated;M!==null&&ts(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}rt||i.flags&512&&Sc(i)}catch(b){Me(i,i.return,b)}}if(i===r){V=null;break}if(a=i.sibling,a!==null){a.return=i.return,V=a;break}V=i.return}}function Am(r){for(;V!==null;){var i=V;if(i===r){V=null;break}var a=i.sibling;if(a!==null){a.return=i.return,V=a;break}V=i.return}}function Om(r){for(;V!==null;){var i=V;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{va(4,i)}catch(E){Me(i,a,E)}break;case 1:var u=i.stateNode;if(typeof u.componentDidMount=="function"){var d=i.return;try{u.componentDidMount()}catch(E){Me(i,d,E)}}var p=i.return;try{Sc(i)}catch(E){Me(i,p,E)}break;case 5:var g=i.return;try{Sc(i)}catch(E){Me(i,g,E)}}}catch(E){Me(i,i.return,E)}if(i===r){V=null;break}var w=i.sibling;if(w!==null){w.return=i.return,V=w;break}V=i.return}}var aS=Math.ceil,wa=j.ReactCurrentDispatcher,kc=j.ReactCurrentOwner,Dt=j.ReactCurrentBatchConfig,pe=0,Ge=null,je=null,Xe=0,kt=0,gi=jn(0),$e=0,Is=null,kr=0,Ea=0,Tc=0,ks=null,pt=null,Rc=0,_i=1/0,yn=null,Sa=!1,Pc=null,Gn=null,Ca=!1,Kn=null,Ia=0,Ts=0,Nc=null,ka=-1,Ta=0;function at(){return pe&6?Ue():ka!==-1?ka:ka=Ue()}function qn(r){return r.mode&1?pe&2&&Xe!==0?Xe&-Xe:HE.transition!==null?(Ta===0&&(Ta=kh()),Ta):(r=Ee,r!==0||(r=window.event,r=r===void 0?16:Dh(r.type)),r):1}function Ht(r,i,a,u){if(50<Ts)throw Ts=0,Nc=null,Error(t(185));Yi(r,a,u),(!(pe&2)||r!==Ge)&&(r===Ge&&(!(pe&2)&&(Ea|=a),$e===4&&Qn(r,Xe)),mt(r,u),a===1&&pe===0&&!(i.mode&1)&&(_i=Ue()+500,ea&&$n()))}function mt(r,i){var a=r.callbackNode;Hw(r,i);var u=Lo(r,r===Ge?Xe:0);if(u===0)a!==null&&Sh(a),r.callbackNode=null,r.callbackPriority=0;else if(i=u&-u,r.callbackPriority!==i){if(a!=null&&Sh(a),i===1)r.tag===0?BE(Dm.bind(null,r)):vp(Dm.bind(null,r)),zE(function(){!(pe&6)&&$n()}),a=null;else{switch(Th(u)){case 1:a=lu;break;case 4:a=Ch;break;case 16:a=Ao;break;case 536870912:a=Ih;break;default:a=Ao}a=$m(a,bm.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function bm(r,i){if(ka=-1,Ta=0,pe&6)throw Error(t(327));var a=r.callbackNode;if(yi()&&r.callbackNode!==a)return null;var u=Lo(r,r===Ge?Xe:0);if(u===0)return null;if(u&30||u&r.expiredLanes||i)i=Ra(r,u);else{i=u;var d=pe;pe|=2;var p=Mm();(Ge!==r||Xe!==i)&&(yn=null,_i=Ue()+500,Rr(r,i));do try{cS();break}catch(w){Lm(r,w)}while(!0);Ku(),wa.current=p,pe=d,je!==null?i=0:(Ge=null,Xe=0,i=$e)}if(i!==0){if(i===2&&(d=uu(r),d!==0&&(u=d,i=xc(r,d))),i===1)throw a=Is,Rr(r,0),Qn(r,u),mt(r,Ue()),a;if(i===6)Qn(r,u);else{if(d=r.current.alternate,!(u&30)&&!lS(d)&&(i=Ra(r,u),i===2&&(p=uu(r),p!==0&&(u=p,i=xc(r,p))),i===1))throw a=Is,Rr(r,0),Qn(r,u),mt(r,Ue()),a;switch(r.finishedWork=d,r.finishedLanes=u,i){case 0:case 1:throw Error(t(345));case 2:Pr(r,pt,yn);break;case 3:if(Qn(r,u),(u&130023424)===u&&(i=Rc+500-Ue(),10<i)){if(Lo(r,0)!==0)break;if(d=r.suspendedLanes,(d&u)!==u){at(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Mu(Pr.bind(null,r,pt,yn),i);break}Pr(r,pt,yn);break;case 4:if(Qn(r,u),(u&4194240)===u)break;for(i=r.eventTimes,d=-1;0<u;){var g=31-Ut(u);p=1<<g,g=i[g],g>d&&(d=g),u&=~p}if(u=d,u=Ue()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*aS(u/1960))-u,10<u){r.timeoutHandle=Mu(Pr.bind(null,r,pt,yn),u);break}Pr(r,pt,yn);break;case 5:Pr(r,pt,yn);break;default:throw Error(t(329))}}}return mt(r,Ue()),r.callbackNode===a?bm.bind(null,r):null}function xc(r,i){var a=ks;return r.current.memoizedState.isDehydrated&&(Rr(r,i).flags|=256),r=Ra(r,i),r!==2&&(i=pt,pt=a,i!==null&&Ac(i)),r}function Ac(r){pt===null?pt=r:pt.push.apply(pt,r)}function lS(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var d=a[u],p=d.getSnapshot;d=d.value;try{if(!zt(p(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qn(r,i){for(i&=~Tc,i&=~Ea,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-Ut(i),u=1<<a;r[a]=-1,i&=~u}}function Dm(r){if(pe&6)throw Error(t(327));yi();var i=Lo(r,0);if(!(i&1))return mt(r,Ue()),null;var a=Ra(r,i);if(r.tag!==0&&a===2){var u=uu(r);u!==0&&(i=u,a=xc(r,u))}if(a===1)throw a=Is,Rr(r,0),Qn(r,i),mt(r,Ue()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Pr(r,pt,yn),mt(r,Ue()),null}function Oc(r,i){var a=pe;pe|=1;try{return r(i)}finally{pe=a,pe===0&&(_i=Ue()+500,ea&&$n())}}function Tr(r){Kn!==null&&Kn.tag===0&&!(pe&6)&&yi();var i=pe;pe|=1;var a=Dt.transition,u=Ee;try{if(Dt.transition=null,Ee=1,r)return r()}finally{Ee=u,Dt.transition=a,pe=i,!(pe&6)&&$n()}}function bc(){kt=gi.current,Pe(gi)}function Rr(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,UE(a)),je!==null)for(a=je.return;a!==null;){var u=a;switch($u(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Xo();break;case 3:hi(),Pe(dt),Pe(et),tc();break;case 5:Zu(u);break;case 4:hi();break;case 13:Pe(be);break;case 19:Pe(be);break;case 10:qu(u.type._context);break;case 22:case 23:bc()}a=a.return}if(Ge=r,je=r=Yn(r.current,null),Xe=kt=i,$e=0,Is=null,Tc=Ea=kr=0,pt=ks=null,Sr!==null){for(i=0;i<Sr.length;i++)if(a=Sr[i],u=a.interleaved,u!==null){a.interleaved=null;var d=u.next,p=a.pending;if(p!==null){var g=p.next;p.next=d,u.next=g}a.pending=u}Sr=null}return r}function Lm(r,i){do{var a=je;try{if(Ku(),ca.current=pa,da){for(var u=De.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}da=!1}if(Ir=0,Ve=We=De=null,ys=!1,vs=0,kc.current=null,a===null||a.return===null){$e=1,Is=i,je=null;break}e:{var p=r,g=a.return,w=a,E=i;if(i=Xe,w.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var P=E,L=w,M=L.tag;if(!(L.mode&1)&&(M===0||M===11||M===15)){var b=L.alternate;b?(L.updateQueue=b.updateQueue,L.memoizedState=b.memoizedState,L.lanes=b.lanes):(L.updateQueue=null,L.memoizedState=null)}var H=om(g);if(H!==null){H.flags&=-257,am(H,g,w,p,i),H.mode&1&&sm(p,P,i),i=H,E=P;var q=i.updateQueue;if(q===null){var Q=new Set;Q.add(E),i.updateQueue=Q}else q.add(E);break e}else{if(!(i&1)){sm(p,P,i),Dc();break e}E=Error(t(426))}}else if(Ae&&w.mode&1){var ze=om(g);if(ze!==null){!(ze.flags&65536)&&(ze.flags|=256),am(ze,g,w,p,i),Vu(pi(E,w));break e}}p=E=pi(E,w),$e!==4&&($e=2),ks===null?ks=[p]:ks.push(p),p=g;do{switch(p.tag){case 3:p.flags|=65536,i&=-i,p.lanes|=i;var T=rm(p,E,i);xp(p,T);break e;case 1:w=E;var S=p.type,R=p.stateNode;if(!(p.flags&128)&&(typeof S.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Gn===null||!Gn.has(R)))){p.flags|=65536,i&=-i,p.lanes|=i;var U=im(p,w,i);xp(p,U);break e}}p=p.return}while(p!==null)}Um(a)}catch(Y){i=Y,je===a&&a!==null&&(je=a=a.return);continue}break}while(!0)}function Mm(){var r=wa.current;return wa.current=pa,r===null?pa:r}function Dc(){($e===0||$e===3||$e===2)&&($e=4),Ge===null||!(kr&268435455)&&!(Ea&268435455)||Qn(Ge,Xe)}function Ra(r,i){var a=pe;pe|=2;var u=Mm();(Ge!==r||Xe!==i)&&(yn=null,Rr(r,i));do try{uS();break}catch(d){Lm(r,d)}while(!0);if(Ku(),pe=a,wa.current=u,je!==null)throw Error(t(261));return Ge=null,Xe=0,$e}function uS(){for(;je!==null;)Fm(je)}function cS(){for(;je!==null&&!Lw();)Fm(je)}function Fm(r){var i=Wm(r.alternate,r,kt);r.memoizedProps=r.pendingProps,i===null?Um(r):je=i,kc.current=null}function Um(r){var i=r;do{var a=i.alternate;if(r=i.return,i.flags&32768){if(a=rS(a,i),a!==null){a.flags&=32767,je=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{$e=6,je=null;return}}else if(a=nS(a,i,kt),a!==null){je=a;return}if(i=i.sibling,i!==null){je=i;return}je=i=r}while(i!==null);$e===0&&($e=5)}function Pr(r,i,a){var u=Ee,d=Dt.transition;try{Dt.transition=null,Ee=1,dS(r,i,a,u)}finally{Dt.transition=d,Ee=u}return null}function dS(r,i,a,u){do yi();while(Kn!==null);if(pe&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var p=a.lanes|a.childLanes;if(Vw(r,p),r===Ge&&(je=Ge=null,Xe=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Ca||(Ca=!0,$m(Ao,function(){return yi(),null})),p=(a.flags&15990)!==0,a.subtreeFlags&15990||p){p=Dt.transition,Dt.transition=null;var g=Ee;Ee=1;var w=pe;pe|=4,kc.current=null,sS(r,a),Pm(a,r),AE(Du),Uo=!!bu,Du=bu=null,r.current=a,oS(a),Mw(),pe=w,Ee=g,Dt.transition=p}else r.current=a;if(Ca&&(Ca=!1,Kn=r,Ia=d),p=r.pendingLanes,p===0&&(Gn=null),zw(a.stateNode),mt(r,Ue()),i!==null)for(u=r.onRecoverableError,a=0;a<i.length;a++)d=i[a],u(d.value,{componentStack:d.stack,digest:d.digest});if(Sa)throw Sa=!1,r=Pc,Pc=null,r;return Ia&1&&r.tag!==0&&yi(),p=r.pendingLanes,p&1?r===Nc?Ts++:(Ts=0,Nc=r):Ts=0,$n(),null}function yi(){if(Kn!==null){var r=Th(Ia),i=Dt.transition,a=Ee;try{if(Dt.transition=null,Ee=16>r?16:r,Kn===null)var u=!1;else{if(r=Kn,Kn=null,Ia=0,pe&6)throw Error(t(331));var d=pe;for(pe|=4,V=r.current;V!==null;){var p=V,g=p.child;if(V.flags&16){var w=p.deletions;if(w!==null){for(var E=0;E<w.length;E++){var P=w[E];for(V=P;V!==null;){var L=V;switch(L.tag){case 0:case 11:case 15:Cs(8,L,p)}var M=L.child;if(M!==null)M.return=L,V=M;else for(;V!==null;){L=V;var b=L.sibling,H=L.return;if(Cm(L),L===P){V=null;break}if(b!==null){b.return=H,V=b;break}V=H}}}var q=p.alternate;if(q!==null){var Q=q.child;if(Q!==null){q.child=null;do{var ze=Q.sibling;Q.sibling=null,Q=ze}while(Q!==null)}}V=p}}if(p.subtreeFlags&2064&&g!==null)g.return=p,V=g;else e:for(;V!==null;){if(p=V,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Cs(9,p,p.return)}var T=p.sibling;if(T!==null){T.return=p.return,V=T;break e}V=p.return}}var S=r.current;for(V=S;V!==null;){g=V;var R=g.child;if(g.subtreeFlags&2064&&R!==null)R.return=g,V=R;else e:for(g=S;V!==null;){if(w=V,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:va(9,w)}}catch(Y){Me(w,w.return,Y)}if(w===g){V=null;break e}var U=w.sibling;if(U!==null){U.return=w.return,V=U;break e}V=w.return}}if(pe=d,$n(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Oo,r)}catch{}u=!0}return u}finally{Ee=a,Dt.transition=i}}return!1}function zm(r,i,a){i=pi(a,i),i=rm(r,i,1),r=Hn(r,i,1),i=at(),r!==null&&(Yi(r,1,i),mt(r,i))}function Me(r,i,a){if(r.tag===3)zm(r,r,a);else for(;i!==null;){if(i.tag===3){zm(i,r,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gn===null||!Gn.has(u))){r=pi(a,r),r=im(i,r,1),i=Hn(i,r,1),r=at(),i!==null&&(Yi(i,1,r),mt(i,r));break}}i=i.return}}function fS(r,i,a){var u=r.pingCache;u!==null&&u.delete(i),i=at(),r.pingedLanes|=r.suspendedLanes&a,Ge===r&&(Xe&a)===a&&($e===4||$e===3&&(Xe&130023424)===Xe&&500>Ue()-Rc?Rr(r,0):Tc|=a),mt(r,i)}function jm(r,i){i===0&&(r.mode&1?(i=Do,Do<<=1,!(Do&130023424)&&(Do=4194304)):i=1);var a=at();r=mn(r,i),r!==null&&(Yi(r,i,a),mt(r,a))}function hS(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),jm(r,a)}function pS(r,i){var a=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(t(314))}u!==null&&u.delete(i),jm(r,a)}var Wm;Wm=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||dt.current)ht=!0;else{if(!(r.lanes&a)&&!(i.flags&128))return ht=!1,tS(r,i,a);ht=!!(r.flags&131072)}else ht=!1,Ae&&i.flags&1048576&&wp(i,na,i.index);switch(i.lanes=0,i.tag){case 2:var u=i.type;_a(r,i),r=i.pendingProps;var d=oi(i,et.current);fi(i,a),d=ic(null,i,u,r,d,a);var p=sc();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,ft(u)?(p=!0,Zo(i)):p=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ju(i),d.updater=ma,i.stateNode=d,d._reactInternals=i,dc(i,u,r,a),i=mc(null,i,u,!0,p,a)):(i.tag=0,Ae&&p&&Wu(i),ot(null,i,d,a),i=i.child),i;case 16:u=i.elementType;e:{switch(_a(r,i),r=i.pendingProps,d=u._init,u=d(u._payload),i.type=u,d=i.tag=gS(u),r=Wt(u,r),d){case 0:i=pc(null,i,u,r,a);break e;case 1:i=hm(null,i,u,r,a);break e;case 11:i=lm(null,i,u,r,a);break e;case 14:i=um(null,i,u,Wt(u.type,r),a);break e}throw Error(t(306,u,""))}return i;case 0:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Wt(u,d),pc(r,i,u,d,a);case 1:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Wt(u,d),hm(r,i,u,d,a);case 3:e:{if(pm(i),r===null)throw Error(t(387));u=i.pendingProps,p=i.memoizedState,d=p.element,Np(r,i),la(i,u,null,a);var g=i.memoizedState;if(u=g.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){d=pi(Error(t(423)),i),i=mm(r,i,u,a,d);break e}else if(u!==d){d=pi(Error(t(424)),i),i=mm(r,i,u,a,d);break e}else for(It=zn(i.stateNode.containerInfo.firstChild),Ct=i,Ae=!0,jt=null,a=Rp(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ui(),u===d){i=_n(r,i,a);break e}ot(r,i,u,a)}i=i.child}return i;case 5:return Op(i),r===null&&Hu(i),u=i.type,d=i.pendingProps,p=r!==null?r.memoizedProps:null,g=d.children,Lu(u,d)?g=null:p!==null&&Lu(u,p)&&(i.flags|=32),fm(r,i),ot(r,i,g,a),i.child;case 6:return r===null&&Hu(i),null;case 13:return gm(r,i,a);case 4:return Xu(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=ci(i,null,u,a):ot(r,i,u,a),i.child;case 11:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Wt(u,d),lm(r,i,u,d,a);case 7:return ot(r,i,i.pendingProps,a),i.child;case 8:return ot(r,i,i.pendingProps.children,a),i.child;case 12:return ot(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(u=i.type._context,d=i.pendingProps,p=i.memoizedProps,g=d.value,ke(sa,u._currentValue),u._currentValue=g,p!==null)if(zt(p.value,g)){if(p.children===d.children&&!dt.current){i=_n(r,i,a);break e}}else for(p=i.child,p!==null&&(p.return=i);p!==null;){var w=p.dependencies;if(w!==null){g=p.child;for(var E=w.firstContext;E!==null;){if(E.context===u){if(p.tag===1){E=gn(-1,a&-a),E.tag=2;var P=p.updateQueue;if(P!==null){P=P.shared;var L=P.pending;L===null?E.next=E:(E.next=L.next,L.next=E),P.pending=E}}p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),Qu(p.return,a,i),w.lanes|=a;break}E=E.next}}else if(p.tag===10)g=p.type===i.type?null:p.child;else if(p.tag===18){if(g=p.return,g===null)throw Error(t(341));g.lanes|=a,w=g.alternate,w!==null&&(w.lanes|=a),Qu(g,a,i),g=p.sibling}else g=p.child;if(g!==null)g.return=p;else for(g=p;g!==null;){if(g===i){g=null;break}if(p=g.sibling,p!==null){p.return=g.return,g=p;break}g=g.return}p=g}ot(r,i,d.children,a),i=i.child}return i;case 9:return d=i.type,u=i.pendingProps.children,fi(i,a),d=Ot(d),u=u(d),i.flags|=1,ot(r,i,u,a),i.child;case 14:return u=i.type,d=Wt(u,i.pendingProps),d=Wt(u.type,d),um(r,i,u,d,a);case 15:return cm(r,i,i.type,i.pendingProps,a);case 17:return u=i.type,d=i.pendingProps,d=i.elementType===u?d:Wt(u,d),_a(r,i),i.tag=1,ft(u)?(r=!0,Zo(i)):r=!1,fi(i,a),tm(i,u,d),dc(i,u,d,a),mc(null,i,u,!0,r,a);case 19:return ym(r,i,a);case 22:return dm(r,i,a)}throw Error(t(156,i.tag))};function $m(r,i){return Eh(r,i)}function mS(r,i,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(r,i,a,u){return new mS(r,i,a,u)}function Lc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gS(r){if(typeof r=="function")return Lc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Nt)return 11;if(r===Zt)return 14}return 2}function Yn(r,i){var a=r.alternate;return a===null?(a=Lt(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Pa(r,i,a,u,d,p){var g=2;if(u=r,typeof r=="function")Lc(r)&&(g=1);else if(typeof r=="string")g=5;else e:switch(r){case ie:return Nr(a.children,d,p,i);case he:g=8,d|=8;break;case J:return r=Lt(12,a,i,d|2),r.elementType=J,r.lanes=p,r;case wt:return r=Lt(13,a,i,d),r.elementType=wt,r.lanes=p,r;case Ft:return r=Lt(19,a,i,d),r.elementType=Ft,r.lanes=p,r;case Le:return Na(a,d,p,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ve:g=10;break e;case Pt:g=9;break e;case Nt:g=11;break e;case Zt:g=14;break e;case ct:g=16,u=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Lt(g,a,i,d),i.elementType=r,i.type=u,i.lanes=p,i}function Nr(r,i,a,u){return r=Lt(7,r,u,i),r.lanes=a,r}function Na(r,i,a,u){return r=Lt(22,r,u,i),r.elementType=Le,r.lanes=a,r.stateNode={isHidden:!1},r}function Mc(r,i,a){return r=Lt(6,r,null,i),r.lanes=a,r}function Fc(r,i,a){return i=Lt(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function _S(r,i,a,u,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cu(0),this.expirationTimes=cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cu(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Uc(r,i,a,u,d,p,g,w,E){return r=new _S(r,i,a,w,E),i===1?(i=1,p===!0&&(i|=8)):i=0,p=Lt(3,null,null,i),r.current=p,p.stateNode=r,p.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ju(p),r}function yS(r,i,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:u==null?null:""+u,children:r,containerInfo:i,implementation:a}}function Bm(r){if(!r)return Wn;r=r._reactInternals;e:{if(_r(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(ft(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(ft(a))return _p(r,a,i)}return i}function Hm(r,i,a,u,d,p,g,w,E){return r=Uc(a,u,!0,r,d,p,g,w,E),r.context=Bm(null),a=r.current,u=at(),d=qn(a),p=gn(u,d),p.callback=i??null,Hn(a,p,d),r.current.lanes=d,Yi(r,d,u),mt(r,u),r}function xa(r,i,a,u){var d=i.current,p=at(),g=qn(d);return a=Bm(a),i.context===null?i.context=a:i.pendingContext=a,i=gn(p,g),i.payload={element:r},u=u===void 0?null:u,u!==null&&(i.callback=u),r=Hn(d,i,g),r!==null&&(Ht(r,d,g,p),aa(r,d,g)),g}function Aa(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Vm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function zc(r,i){Vm(r,i),(r=r.alternate)&&Vm(r,i)}var Gm=typeof reportError=="function"?reportError:function(r){console.error(r)};function jc(r){this._internalRoot=r}Oa.prototype.render=jc.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));xa(r,i,null,null)},Oa.prototype.unmount=jc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Tr(function(){xa(null,r,null,null)}),i[dn]=null}};function Oa(r){this._internalRoot=r}Oa.prototype.unstable_scheduleHydration=function(r){if(r){var i=Nh();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Mn.length&&i!==0&&i<Mn[a].priority;a++);Mn.splice(a,0,r),a===0&&Oh(r)}};function Wc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ba(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Km(){}function vS(r,i,a,u,d){if(d){if(typeof u=="function"){var p=u;u=function(){var P=Aa(g);p.call(P)}}var g=Hm(i,u,r,0,null,!1,!1,"",Km);return r._reactRootContainer=g,r[dn]=g.current,cs(r.nodeType===8?r.parentNode:r),Tr(),g}for(;d=r.lastChild;)r.removeChild(d);if(typeof u=="function"){var w=u;u=function(){var P=Aa(E);w.call(P)}}var E=Uc(r,0,!1,null,null,!1,!1,"",Km);return r._reactRootContainer=E,r[dn]=E.current,cs(r.nodeType===8?r.parentNode:r),Tr(function(){xa(i,E,a,u)}),E}function Da(r,i,a,u,d){var p=a._reactRootContainer;if(p){var g=p;if(typeof d=="function"){var w=d;d=function(){var E=Aa(g);w.call(E)}}xa(i,g,r,d)}else g=vS(a,i,r,d,u);return Aa(g)}Rh=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Qi(i.pendingLanes);a!==0&&(du(i,a|1),mt(i,Ue()),!(pe&6)&&(_i=Ue()+500,$n()))}break;case 13:Tr(function(){var u=mn(r,1);if(u!==null){var d=at();Ht(u,r,1,d)}}),zc(r,1)}},fu=function(r){if(r.tag===13){var i=mn(r,134217728);if(i!==null){var a=at();Ht(i,r,134217728,a)}zc(r,134217728)}},Ph=function(r){if(r.tag===13){var i=qn(r),a=mn(r,i);if(a!==null){var u=at();Ht(a,r,i,u)}zc(r,i)}},Nh=function(){return Ee},xh=function(r,i){var a=Ee;try{return Ee=r,i()}finally{Ee=a}},iu=function(r,i,a){switch(i){case"input":if(Yl(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==r&&u.form===r.form){var d=Jo(u);if(!d)throw Error(t(90));eh(u),Yl(u,d)}}}break;case"textarea":sh(r,a);break;case"select":i=a.value,i!=null&&qr(r,!!a.multiple,i,!1)}},ph=Oc,mh=Tr;var wS={usingClientEntryPoint:!1,Events:[hs,ii,Jo,fh,hh,Oc]},Rs={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ES={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=vh(r),r===null?null:r.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{Oo=La.inject(ES),en=La}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wS,gt.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wc(i))throw Error(t(200));return yS(r,i,null,a)},gt.createRoot=function(r,i){if(!Wc(r))throw Error(t(299));var a=!1,u="",d=Gm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Uc(r,1,!1,null,null,a,!1,u,d),r[dn]=i.current,cs(r.nodeType===8?r.parentNode:r),new jc(i)},gt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=vh(i),r=r===null?null:r.stateNode,r},gt.flushSync=function(r){return Tr(r)},gt.hydrate=function(r,i,a){if(!ba(i))throw Error(t(200));return Da(null,r,i,!0,a)},gt.hydrateRoot=function(r,i,a){if(!Wc(r))throw Error(t(405));var u=a!=null&&a.hydratedSources||null,d=!1,p="",g=Gm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),i=Hm(i,null,r,1,a??null,d,!1,p,g),r[dn]=i.current,cs(r),u)for(r=0;r<u.length;r++)a=u[r],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Oa(i)},gt.render=function(r,i,a){if(!ba(i))throw Error(t(200));return Da(null,r,i,!1,a)},gt.unmountComponentAtNode=function(r){if(!ba(r))throw Error(t(40));return r._reactRootContainer?(Tr(function(){Da(null,null,r,!1,function(){r._reactRootContainer=null,r[dn]=null})}),!0):!1},gt.unstable_batchedUpdates=Oc,gt.unstable_renderSubtreeIntoContainer=function(r,i,a,u){if(!ba(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Da(r,i,a,!1,u)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var tg;function OS(){if(tg)return Hc.exports;tg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hc.exports=AS(),Hc.exports}var ng;function bS(){if(ng)return Ma;ng=1;var n=OS();return Ma.createRoot=n.createRoot,Ma.hydrateRoot=n.hydrateRoot,Ma}var DS=bS(),Kc={exports:{}},qc={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function LS(){if(rg)return qc;rg=1;var n=Tl();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var t=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,f=n.useDebugValue;return qc.useSyncExternalStoreWithSelector=function(h,m,_,v,y){var I=o(null);if(I.current===null){var C={hasValue:!1,value:null};I.current=C}else C=I.current;I=c(function(){function A(K){if(!O){if(O=!0,F=K,K=v(K),y!==void 0&&C.hasValue){var X=C.value;if(y(X,K))return $=X}return $=K}if(X=$,t(F,K))return X;var ie=v(K);return y!==void 0&&y(X,ie)?(F=K,X):(F=K,$=ie)}var O=!1,F,$,j=_===void 0?null:_;return[function(){return A(m())},j===null?void 0:function(){return A(j())}]},[m,_,v,y]);var x=s(h,I[0],I[1]);return l(function(){C.hasValue=!0,C.value=x},[x]),f(x),x},qc}var ig;function MS(){return ig||(ig=1,Kc.exports=LS()),Kc.exports}var FS=MS();function US(n){n()}function zS(){let n=null,e=null;return{clear(){n=null,e=null},notify(){US(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=n;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!s||n===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var sg={notify(){},get:()=>[]};function jS(n,e){let t,s=sg,o=0,l=!1;function c(x){_();const A=s.subscribe(x);let O=!1;return()=>{O||(O=!0,A(),v())}}function f(){s.notify()}function h(){C.onStateChange&&C.onStateChange()}function m(){return l}function _(){o++,t||(t=n.subscribe(h),s=zS())}function v(){o--,t&&o===0&&(t(),t=void 0,s.clear(),s=sg)}function y(){l||(l=!0,_())}function I(){l&&(l=!1,v())}const C={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:h,isSubscribed:m,trySubscribe:y,tryUnsubscribe:I,getListeners:()=>s};return C}var WS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$S=WS(),BS=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HS=BS(),VS=()=>$S||HS?N.useLayoutEffect:N.useEffect,GS=VS(),Qc=Symbol.for("react-redux-context"),Yc=typeof globalThis<"u"?globalThis:{};function KS(){if(!N.createContext)return{};const n=Yc[Qc]??(Yc[Qc]=new Map);let e=n.get(N.createContext);return e||(e=N.createContext(null),n.set(N.createContext,e)),e}var ur=KS();function qS(n){const{children:e,context:t,serverState:s,store:o}=n,l=N.useMemo(()=>{const h=jS(o);return{store:o,subscription:h,getServerState:s?()=>s:void 0}},[o,s]),c=N.useMemo(()=>o.getState(),[o]);GS(()=>{const{subscription:h}=l;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==o.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[l,c]);const f=t||ur;return N.createElement(f.Provider,{value:l},e)}var QS=qS;function Yd(n=ur){return function(){return N.useContext(n)}}var D_=Yd();function L_(n=ur){const e=n===ur?D_:Yd(n),t=()=>{const{store:s}=e();return s};return Object.assign(t,{withTypes:()=>t}),t}var YS=L_();function JS(n=ur){const e=n===ur?YS:L_(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var XS=JS(),ZS=(n,e)=>n===e;function eC(n=ur){const e=n===ur?D_:Yd(n),t=(s,o={})=>{const{equalityFn:l=ZS}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:f,subscription:h,getServerState:m}=c;N.useRef(!0);const _=N.useCallback({[s.name](y){return s(y)}}[s.name],[s]),v=FS.useSyncExternalStoreWithSelector(h.addNestedSub,f.getState,m||f.getState,_,l);return N.useDebugValue(v),v};return Object.assign(t,{withTypes:()=>t}),t}var Jc=eC();function Ze(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var tC=typeof Symbol=="function"&&Symbol.observable||"@@observable",og=tC,Xc=()=>Math.random().toString(36).substring(7).split("").join("."),nC={INIT:`@@redux/INIT${Xc()}`,REPLACE:`@@redux/REPLACE${Xc()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xc()}`},Ja=nC;function Jd(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function M_(n,e,t){if(typeof n!="function")throw new Error(Ze(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ze(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ze(1));return t(M_)(n,e)}let s=n,o=e,l=new Map,c=l,f=0,h=!1;function m(){c===l&&(c=new Map,l.forEach((A,O)=>{c.set(O,A)}))}function _(){if(h)throw new Error(Ze(3));return o}function v(A){if(typeof A!="function")throw new Error(Ze(4));if(h)throw new Error(Ze(5));let O=!0;m();const F=f++;return c.set(F,A),function(){if(O){if(h)throw new Error(Ze(6));O=!1,m(),c.delete(F),l=null}}}function y(A){if(!Jd(A))throw new Error(Ze(7));if(typeof A.type>"u")throw new Error(Ze(8));if(typeof A.type!="string")throw new Error(Ze(17));if(h)throw new Error(Ze(9));try{h=!0,o=s(o,A)}finally{h=!1}return(l=c).forEach(F=>{F()}),A}function I(A){if(typeof A!="function")throw new Error(Ze(10));s=A,y({type:Ja.REPLACE})}function C(){const A=v;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Ze(11));function F(){const j=O;j.next&&j.next(_())}return F(),{unsubscribe:A(F)}},[og](){return this}}}return y({type:Ja.INIT}),{dispatch:y,subscribe:v,getState:_,replaceReducer:I,[og]:C}}function rC(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Ja.INIT})>"u")throw new Error(Ze(12));if(typeof t(void 0,{type:Ja.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ze(13))})}function iC(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const s=Object.keys(t);let o;try{rC(t)}catch(l){o=l}return function(c={},f){if(o)throw o;let h=!1;const m={};for(let _=0;_<s.length;_++){const v=s[_],y=t[v],I=c[v],C=y(I,f);if(typeof C>"u")throw f&&f.type,new Error(Ze(14));m[v]=C,h=h||C!==I}return h=h||s.length!==Object.keys(c).length,h?m:c}}function Xa(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...s)=>e(t(...s)))}function sC(...n){return e=>(t,s)=>{const o=e(t,s);let l=()=>{throw new Error(Ze(15))};const c={getState:o.getState,dispatch:(h,...m)=>l(h,...m)},f=n.map(h=>h(c));return l=Xa(...f)(o.dispatch),{...o,dispatch:l}}}function oC(n){return Jd(n)&&"type"in n&&typeof n.type=="string"}var F_=Symbol.for("immer-nothing"),ag=Symbol.for("immer-draftable"),Tt=Symbol.for("immer-state");function Vt(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Ri=Object.getPrototypeOf;function Fr(n){return!!n&&!!n[Tt]}function Tn(n){var e;return n?U_(n)||Array.isArray(n)||!!n[ag]||!!((e=n.constructor)!=null&&e[ag])||Pl(n)||Nl(n):!1}var aC=Object.prototype.constructor.toString();function U_(n){if(!n||typeof n!="object")return!1;const e=Ri(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===aC}function Za(n,e){Rl(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,s)=>e(s,t,n))}function Rl(n){const e=n[Tt];return e?e.type_:Array.isArray(n)?1:Pl(n)?2:Nl(n)?3:0}function vd(n,e){return Rl(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function z_(n,e,t){const s=Rl(n);s===2?n.set(e,t):s===3?n.add(t):n[e]=t}function lC(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Pl(n){return n instanceof Map}function Nl(n){return n instanceof Set}function xr(n){return n.copy_||n.base_}function wd(n,e){if(Pl(n))return new Map(n);if(Nl(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=U_(n);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(n);delete s[Tt];let o=Reflect.ownKeys(s);for(let l=0;l<o.length;l++){const c=o[l],f=s[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(s[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:n[c]})}return Object.create(Ri(n),s)}else{const s=Ri(n);if(s!==null&&t)return{...n};const o=Object.create(s);return Object.assign(o,n)}}function Xd(n,e=!1){return xl(n)||Fr(n)||!Tn(n)||(Rl(n)>1&&(n.set=n.add=n.clear=n.delete=uC),Object.freeze(n),e&&Object.entries(n).forEach(([t,s])=>Xd(s,!0))),n}function uC(){Vt(2)}function xl(n){return Object.isFrozen(n)}var cC={};function Ur(n){const e=cC[n];return e||Vt(0,n),e}var qs;function j_(){return qs}function dC(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lg(n,e){e&&(Ur("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Ed(n){Sd(n),n.drafts_.forEach(fC),n.drafts_=null}function Sd(n){n===qs&&(qs=n.parent_)}function ug(n){return qs=dC(qs,n)}function fC(n){const e=n[Tt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cg(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Tt].modified_&&(Ed(e),Vt(4)),Tn(n)&&(n=el(e,n),e.parent_||tl(e,n)),e.patches_&&Ur("Patches").generateReplacementPatches_(t[Tt].base_,n,e.patches_,e.inversePatches_)):n=el(e,t,[]),Ed(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==F_?n:void 0}function el(n,e,t){if(xl(e))return e;const s=e[Tt];if(!s)return Za(e,(o,l)=>dg(n,s,e,o,l,t)),e;if(s.scope_!==n)return e;if(!s.modified_)return tl(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let l=o,c=!1;s.type_===3&&(l=new Set(o),o.clear(),c=!0),Za(l,(f,h)=>dg(n,s,o,f,h,t,c)),tl(n,o,!1),t&&n.patches_&&Ur("Patches").generatePatches_(s,t,n.patches_,n.inversePatches_)}return s.copy_}function dg(n,e,t,s,o,l,c){if(Fr(o)){const f=l&&e&&e.type_!==3&&!vd(e.assigned_,s)?l.concat(s):void 0,h=el(n,o,f);if(z_(t,s,h),Fr(h))n.canAutoFreeze_=!1;else return}else c&&t.add(o);if(Tn(o)&&!xl(o)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;el(n,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,s)&&tl(n,o)}}function tl(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Xd(e,t)}function hC(n,e){const t=Array.isArray(n),s={type_:t?1:0,scope_:e?e.scope_:j_(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,l=Zd;t&&(o=[s],l=Qs);const{revoke:c,proxy:f}=Proxy.revocable(o,l);return s.draft_=f,s.revoke_=c,f}var Zd={get(n,e){if(e===Tt)return n;const t=xr(n);if(!vd(t,e))return pC(n,t,e);const s=t[e];return n.finalized_||!Tn(s)?s:s===Zc(n.base_,e)?(ed(n),n.copy_[e]=Id(s,n)):s},has(n,e){return e in xr(n)},ownKeys(n){return Reflect.ownKeys(xr(n))},set(n,e,t){const s=W_(xr(n),e);if(s!=null&&s.set)return s.set.call(n.draft_,t),!0;if(!n.modified_){const o=Zc(xr(n),e),l=o==null?void 0:o[Tt];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(lC(t,o)&&(t!==void 0||vd(n.base_,e)))return!0;ed(n),Cd(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Zc(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,ed(n),Cd(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=xr(n),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){Vt(11)},getPrototypeOf(n){return Ri(n.base_)},setPrototypeOf(){Vt(12)}},Qs={};Za(Zd,(n,e)=>{Qs[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Qs.deleteProperty=function(n,e){return Qs.set.call(this,n,e,void 0)};Qs.set=function(n,e,t){return Zd.set.call(this,n[0],e,t,n[0])};function Zc(n,e){const t=n[Tt];return(t?xr(t):n)[e]}function pC(n,e,t){var o;const s=W_(e,t);return s?"value"in s?s.value:(o=s.get)==null?void 0:o.call(n.draft_):void 0}function W_(n,e){if(!(e in n))return;let t=Ri(n);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=Ri(t)}}function Cd(n){n.modified_||(n.modified_=!0,n.parent_&&Cd(n.parent_))}function ed(n){n.copy_||(n.copy_=wd(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var mC=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const c=this;return function(h=l,...m){return c.produce(h,_=>t.call(this,_,...m))}}typeof t!="function"&&Vt(6),s!==void 0&&typeof s!="function"&&Vt(7);let o;if(Tn(e)){const l=ug(this),c=Id(e,void 0);let f=!0;try{o=t(c),f=!1}finally{f?Ed(l):Sd(l)}return lg(l,s),cg(o,l)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===F_&&(o=void 0),this.autoFreeze_&&Xd(o,!0),s){const l=[],c=[];Ur("Patches").generateReplacementPatches_(e,o,l,c),s(l,c)}return o}else Vt(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...f)=>this.produceWithPatches(c,h=>e(h,...f));let s,o;return[this.produce(e,t,(c,f)=>{s=c,o=f}),s,o]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Tn(n)||Vt(8),Fr(n)&&(n=gC(n));const e=ug(this),t=Id(n,void 0);return t[Tt].isManual_=!0,Sd(e),t}finishDraft(n,e){const t=n&&n[Tt];(!t||!t.isManual_)&&Vt(9);const{scope_:s}=t;return lg(s,e),cg(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const s=Ur("Patches").applyPatches_;return Fr(n)?s(n,e):this.produce(n,o=>s(o,e))}};function Id(n,e){const t=Pl(n)?Ur("MapSet").proxyMap_(n,e):Nl(n)?Ur("MapSet").proxySet_(n,e):hC(n,e);return(e?e.scope_:j_()).drafts_.push(t),t}function gC(n){return Fr(n)||Vt(10,n),$_(n)}function $_(n){if(!Tn(n)||xl(n))return n;const e=n[Tt];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=wd(n,e.scope_.immer_.useStrictShallowCopy_)}else t=wd(n,!0);return Za(t,(s,o)=>{z_(t,s,$_(o))}),e&&(e.finalized_=!1),t}var Rt=new mC,B_=Rt.produce;Rt.produceWithPatches.bind(Rt);Rt.setAutoFreeze.bind(Rt);Rt.setUseStrictShallowCopy.bind(Rt);Rt.applyPatches.bind(Rt);Rt.createDraft.bind(Rt);Rt.finishDraft.bind(Rt);function H_(n){return({dispatch:t,getState:s})=>o=>l=>typeof l=="function"?l(t,s,n):o(l)}var _C=H_(),yC=H_,vC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xa:Xa.apply(null,arguments)},wC=n=>n&&typeof n.match=="function";function js(n,e){function t(...s){if(e){let o=e(...s);if(!o)throw new Error(Sn(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:s[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=s=>oC(s)&&s.type===n,t}var V_=class Fs extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Fs.prototype)}static get[Symbol.species](){return Fs}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Fs(...e[0].concat(this)):new Fs(...e.concat(this))}};function fg(n){return Tn(n)?B_(n,()=>{}):n}function Fa(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function EC(n){return typeof n=="boolean"}var SC=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let c=new V_;return t&&(EC(t)?c.push(_C):c.push(yC(t.extraArgument))),c},CC="RTK_autoBatch",hg=n=>e=>{setTimeout(e,n)},IC=(n={type:"raf"})=>e=>(...t)=>{const s=e(...t);let o=!0,l=!1,c=!1;const f=new Set,h=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hg(10):n.type==="callback"?n.queueNotification:hg(n.timeout),m=()=>{c=!1,l&&(l=!1,f.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const v=()=>o&&_(),y=s.subscribe(v);return f.add(_),()=>{y(),f.delete(_)}},dispatch(_){var v;try{return o=!((v=_==null?void 0:_.meta)!=null&&v[CC]),l=!o,l&&(c||(c=!0,h(m))),s.dispatch(_)}finally{o=!0}}})},kC=n=>function(t){const{autoBatch:s=!0}=t??{};let o=new V_(n);return s&&o.push(IC(typeof s=="object"?s:void 0)),o};function TC(n){const e=SC(),{reducer:t=void 0,middleware:s,devTools:o=!0,duplicateMiddlewareCheck:l=!0,preloadedState:c=void 0,enhancers:f=void 0}=n;let h;if(typeof t=="function")h=t;else if(Jd(t))h=iC(t);else throw new Error(Sn(1));let m;typeof s=="function"?m=s(e):m=e();let _=Xa;o&&(_=vC({trace:!1,...typeof o=="object"&&o}));const v=sC(...m),y=kC(v);let I=typeof f=="function"?f(y):y();const C=_(...I);return M_(h,c,C)}function G_(n){const e={},t=[];let s;const o={addCase(l,c){const f=typeof l=="string"?l:l.type;if(!f)throw new Error(Sn(28));if(f in e)throw new Error(Sn(29));return e[f]=c,o},addMatcher(l,c){return t.push({matcher:l,reducer:c}),o},addDefaultCase(l){return s=l,o}};return n(o),[e,t,s]}function RC(n){return typeof n=="function"}function PC(n,e){let[t,s,o]=G_(e),l;if(RC(n))l=()=>fg(n());else{const f=fg(n);l=()=>f}function c(f=l(),h){let m=[t[h.type],...s.filter(({matcher:_})=>_(h)).map(({reducer:_})=>_)];return m.filter(_=>!!_).length===0&&(m=[o]),m.reduce((_,v)=>{if(v)if(Fr(_)){const I=v(_,h);return I===void 0?_:I}else{if(Tn(_))return B_(_,y=>v(y,h));{const y=v(_,h);if(y===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return _},f)}return c.getInitialState=l,c}var NC=(n,e)=>wC(n)?n.match(e):n(e);function xC(...n){return e=>n.some(t=>NC(t,e))}var AC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OC=(n=21)=>{let e="",t=n;for(;t--;)e+=AC[Math.random()*64|0];return e},bC=["name","message","stack","code"],td=class{constructor(n,e){vi(this,"_type");this.payload=n,this.meta=e}},pg=class{constructor(n,e){vi(this,"_type");this.payload=n,this.meta=e}},DC=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of bC)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},mg="External signal was aborted",LC=(()=>{function n(e,t,s){const o=js(e+"/fulfilled",(h,m,_,v)=>({payload:h,meta:{...v||{},arg:_,requestId:m,requestStatus:"fulfilled"}})),l=js(e+"/pending",(h,m,_)=>({payload:void 0,meta:{..._||{},arg:m,requestId:h,requestStatus:"pending"}})),c=js(e+"/rejected",(h,m,_,v,y)=>({payload:v,error:(s&&s.serializeError||DC)(h||"Rejected"),meta:{...y||{},arg:_,requestId:m,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(h==null?void 0:h.name)==="AbortError",condition:(h==null?void 0:h.name)==="ConditionError"}}));function f(h,{signal:m}={}){return(_,v,y)=>{const I=s!=null&&s.idGenerator?s.idGenerator(h):OC(),C=new AbortController;let x,A;function O($){A=$,C.abort()}m&&(m.aborted?O(mg):m.addEventListener("abort",()=>O(mg),{once:!0}));const F=async function(){var K,X;let $;try{let ie=(K=s==null?void 0:s.condition)==null?void 0:K.call(s,h,{getState:v,extra:y});if(FC(ie)&&(ie=await ie),ie===!1||C.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const he=new Promise((J,ve)=>{x=()=>{ve({name:"AbortError",message:A||"Aborted"})},C.signal.addEventListener("abort",x)});_(l(I,h,(X=s==null?void 0:s.getPendingMeta)==null?void 0:X.call(s,{requestId:I,arg:h},{getState:v,extra:y}))),$=await Promise.race([he,Promise.resolve(t(h,{dispatch:_,getState:v,extra:y,requestId:I,signal:C.signal,abort:O,rejectWithValue:(J,ve)=>new td(J,ve),fulfillWithValue:(J,ve)=>new pg(J,ve)})).then(J=>{if(J instanceof td)throw J;return J instanceof pg?o(J.payload,I,h,J.meta):o(J,I,h)})])}catch(ie){$=ie instanceof td?c(null,I,h,ie.payload,ie.meta):c(ie,I,h)}finally{x&&C.signal.removeEventListener("abort",x)}return s&&!s.dispatchConditionRejection&&c.match($)&&$.meta.condition||_($),$}();return Object.assign(F,{abort:O,requestId:I,arg:h,unwrap(){return F.then(MC)}})}}return Object.assign(f,{pending:l,rejected:c,fulfilled:o,settled:xC(c,o),typePrefix:e})}return n.withTypes=()=>n,n})();function MC(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function FC(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var UC=Symbol.for("rtk-slice-createasyncthunk");function zC(n,e){return`${n}/${e}`}function jC({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[UC];return function(o){const{name:l,reducerPath:c=l}=o;if(!l)throw new Error(Sn(11));const f=(typeof o.reducers=="function"?o.reducers(BC()):o.reducers)||{},h=Object.keys(f),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(j,K){const X=typeof j=="string"?j:j.type;if(!X)throw new Error(Sn(12));if(X in m.sliceCaseReducersByType)throw new Error(Sn(13));return m.sliceCaseReducersByType[X]=K,_},addMatcher(j,K){return m.sliceMatchers.push({matcher:j,reducer:K}),_},exposeAction(j,K){return m.actionCreators[j]=K,_},exposeCaseReducer(j,K){return m.sliceCaseReducersByName[j]=K,_}};h.forEach(j=>{const K=f[j],X={reducerName:j,type:zC(l,j),createNotation:typeof o.reducers=="function"};VC(K)?KC(X,K,_,e):HC(X,K,_)});function v(){const[j={},K=[],X=void 0]=typeof o.extraReducers=="function"?G_(o.extraReducers):[o.extraReducers],ie={...j,...m.sliceCaseReducersByType};return PC(o.initialState,he=>{for(let J in ie)he.addCase(J,ie[J]);for(let J of m.sliceMatchers)he.addMatcher(J.matcher,J.reducer);for(let J of K)he.addMatcher(J.matcher,J.reducer);X&&he.addDefaultCase(X)})}const y=j=>j,I=new Map,C=new WeakMap;let x;function A(j,K){return x||(x=v()),x(j,K)}function O(){return x||(x=v()),x.getInitialState()}function F(j,K=!1){function X(he){let J=he[j];return typeof J>"u"&&K&&(J=Fa(C,X,O)),J}function ie(he=y){const J=Fa(I,K,()=>new WeakMap);return Fa(J,he,()=>{const ve={};for(const[Pt,Nt]of Object.entries(o.selectors??{}))ve[Pt]=WC(Nt,he,()=>Fa(C,he,O),K);return ve})}return{reducerPath:j,getSelectors:ie,get selectors(){return ie(X)},selectSlice:X}}const $={name:l,reducer:A,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:O,...F(c),injectInto(j,{reducerPath:K,...X}={}){const ie=K??c;return j.inject({reducerPath:ie,reducer:A},X),{...$,...F(ie,!0)}}};return $}}function WC(n,e,t,s){function o(l,...c){let f=e(l);return typeof f>"u"&&s&&(f=t()),n(f,...c)}return o.unwrapped=n,o}var $C=jC();function BC(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function HC({type:n,reducerName:e,createNotation:t},s,o){let l,c;if("reducer"in s){if(t&&!GC(s))throw new Error(Sn(17));l=s.reducer,c=s.prepare}else l=s;o.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?js(n,c):js(n))}function VC(n){return n._reducerDefinitionType==="asyncThunk"}function GC(n){return n._reducerDefinitionType==="reducerWithPrepare"}function KC({type:n,reducerName:e},t,s,o){if(!o)throw new Error(Sn(18));const{payloadCreator:l,fulfilled:c,pending:f,rejected:h,settled:m,options:_}=t,v=o(n,l,_);s.exposeAction(e,v),c&&s.addCase(v.fulfilled,c),f&&s.addCase(v.pending,f),h&&s.addCase(v.rejected,h),m&&s.addMatcher(v.settled,m),s.exposeCaseReducer(e,{fulfilled:c||Ua,pending:f||Ua,rejected:h||Ua,settled:m||Ua})}function Ua(){}function Sn(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const qC=()=>{};var gg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(n,e){if(!n)throw bi(e)},bi=function(n){return new Error("Firebase Database ("+K_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},QC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],h=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},ef={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,h=o+2<n.length,m=h?n[o+2]:0,_=l>>2,v=(l&3)<<4|f>>4;let y=(f&15)<<2|m>>6,I=m&63;h||(I=64,c||(y=64)),s.push(t[_],t[v],t[y],t[I])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(q_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const v=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||m==null||v==null)throw new YC;const y=l<<2|f>>4;if(s.push(y),m!==64){const I=f<<4&240|m>>2;if(s.push(I),v!==64){const C=m<<6&192|v;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class YC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q_=function(n){const e=q_(n);return ef.encodeByteArray(e,!0)},nl=function(n){return Q_(n).replace(/\./g,"")},rl=function(n){try{return ef.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){return Y_(void 0,n)}function Y_(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!XC(t)||(n[t]=Y_(n[t],e[t]));return n}function XC(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=()=>ZC().__FIREBASE_DEFAULTS__,tI=()=>{if(typeof process>"u"||typeof gg>"u")return;const n=gg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&rl(n[1]);return e&&JSON.parse(e)},tf=()=>{try{return qC()||eI()||tI()||nI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},J_=n=>{var e,t;return(t=(e=tf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rI=n=>{const e=J_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},X_=()=>{var n;return(n=tf())===null||n===void 0?void 0:n.config},Z_=n=>{var e;return(e=tf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(n){return n.endsWith(".cloudworkstations.dev")}async function ey(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[nl(JSON.stringify(t)),nl(JSON.stringify(c)),""].join(".")}const Ws={};function sI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ws))Ws[e]?n.emulator.push(e):n.prod.push(e);return n}function oI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let _g=!1;function ty(n,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Ws[n]===e||Ws[n]||_g)return;Ws[n]=e;function t(y){return`__firebase__banner__${y}`}const s="__firebase__banner",l=sI().prod.length>0;function c(){const y=document.getElementById(s);y&&y.remove()}function f(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function h(y,I){y.setAttribute("width","24"),y.setAttribute("id",I),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function m(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{_g=!0,c()},y}function _(y,I){y.setAttribute("id",I),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){const y=oI(s),I=t("text"),C=document.getElementById(I)||document.createElement("span"),x=t("learnmore"),A=document.getElementById(x)||document.createElement("a"),O=t("preprendIcon"),F=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const $=y.element;f($),_(A,x);const j=m();h(F,O),$.append(F,C,A,j),document.body.appendChild($)}l?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function aI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ny(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uI(){const n=ut();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cI(){return K_.NODE_ADMIN===!0}function dI(){try{return typeof indexedDB=="object"}catch{return!1}}function fI(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="FirebaseError";class hr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=hI,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ho.prototype.create)}}class ho{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?pI(l,s):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new hr(o,f,s)}}function pI(n,e){return n.replace(mI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const mI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(n){return JSON.parse(n)}function Be(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=function(n){let e={},t={},s={},o="";try{const l=n.split(".");e=Ys(rl(l[0])||""),t=Ys(rl(l[1])||""),o=l[2],s=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:s,signature:o}},gI=function(n){const e=ry(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},_I=function(n){const e=ry(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Pi(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function kd(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function il(n,e,t){const s={};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=e.call(t,n[o],o,n));return s}function zr(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],c=e[o];if(yg(l)&&yg(c)){if(!zr(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function yg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Us(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function zs(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const s=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)s[v]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let v=0;v<16;v++)s[v]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let v=16;v<80;v++){const y=s[v-3]^s[v-8]^s[v-14]^s[v-16];s[v]=(y<<1|y>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],c=this.chain_[2],f=this.chain_[3],h=this.chain_[4],m,_;for(let v=0;v<80;v++){v<40?v<20?(m=f^l&(c^f),_=1518500249):(m=l^c^f,_=1859775393):v<60?(m=l&c|f&(l|c),_=2400959708):(m=l^c^f,_=3395469782);const y=(o<<5|o>>>27)+m+h+_+s[v]&4294967295;h=f,f=c,c=(l<<30|l>>>2)&4294967295,l=o,o=y}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const s=t-this.blockSize;let o=0;const l=this.buf_;let c=this.inbuf_;for(;o<t;){if(c===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(l[c]=e.charCodeAt(o),++c,++o,c===this.blockSize){this.compress_(l),c=0;break}}else for(;o<t;)if(l[c]=e[o],++c,++o,c===this.blockSize){this.compress_(l),c=0;break}}this.inbuf_=c,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=t&255,t/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[s]=this.chain_[o]>>l&255,++s;return e}}function vI(n,e){const t=new wI(n,e);return t.subscribe.bind(t)}class wI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");EI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=nd),o.error===void 0&&(o.error=nd),o.complete===void 0&&(o.complete=nd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function nd(){}function rf(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);if(o>=55296&&o<=56319){const l=o-55296;s++,z(s<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(s)-56320;o=65536+(l<<10)+c}o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):o<65536?(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Ol=function(n){let e=0;for(let t=0;t<n.length;t++){const s=n.charCodeAt(t);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(n){return n&&n._delegate?n._delegate:n}class jr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Al;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kI(e))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ar){return this.instances.has(e)}getOptions(e=Ar){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:II(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ar){return this.component?this.component.multipleInstances?e:Ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function II(n){return n===Ar?void 0:n}function kI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Se||(Se={}));const RI={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},PI=Se.INFO,NI={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},xI=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=NI[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let sf=class{constructor(e){this.name=e,this._logLevel=PI,this._logHandler=xI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};const AI=(n,e)=>e.some(t=>n instanceof t);let vg,wg;function OI(){return vg||(vg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bI(){return wg||(wg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iy=new WeakMap,Td=new WeakMap,sy=new WeakMap,rd=new WeakMap,of=new WeakMap;function DI(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(rr(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&iy.set(t,n)}).catch(()=>{}),of.set(e,n),e}function LI(n){if(Td.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Td.set(n,e)}let Rd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Td.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sy.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function MI(n){Rd=n(Rd)}function FI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(id(this),e,...t);return sy.set(s,e.sort?e.sort():[e]),rr(s)}:bI().includes(n)?function(...e){return n.apply(id(this),e),rr(iy.get(this))}:function(...e){return rr(n.apply(id(this),e))}}function UI(n){return typeof n=="function"?FI(n):(n instanceof IDBTransaction&&LI(n),AI(n,OI())?new Proxy(n,Rd):n)}function rr(n){if(n instanceof IDBRequest)return DI(n);if(rd.has(n))return rd.get(n);const e=UI(n);return e!==n&&(rd.set(n,e),of.set(e,n)),e}const id=n=>of.get(n);function zI(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=rr(c);return s&&c.addEventListener("upgradeneeded",h=>{s(rr(c.result),h.oldVersion,h.newVersion,rr(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const jI=["get","getKey","getAll","getAllKeys","count"],WI=["put","add","delete","clear"],sd=new Map;function Eg(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sd.get(e))return sd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=WI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||jI.includes(t)))return;const l=async function(c,...f){const h=this.transaction(c,o?"readwrite":"readonly");let m=h.store;return s&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&h.done]))[0]};return sd.set(e,l),l}MI(n=>({...n,get:(e,t,s)=>Eg(e,t)||n.get(e,t,s),has:(e,t)=>!!Eg(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(BI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function BI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pd="@firebase/app",Sg="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new sf("@firebase/app"),HI="@firebase/app-compat",VI="@firebase/analytics-compat",GI="@firebase/analytics",KI="@firebase/app-check-compat",qI="@firebase/app-check",QI="@firebase/auth",YI="@firebase/auth-compat",JI="@firebase/database",XI="@firebase/data-connect",ZI="@firebase/database-compat",ek="@firebase/functions",tk="@firebase/functions-compat",nk="@firebase/installations",rk="@firebase/installations-compat",ik="@firebase/messaging",sk="@firebase/messaging-compat",ok="@firebase/performance",ak="@firebase/performance-compat",lk="@firebase/remote-config",uk="@firebase/remote-config-compat",ck="@firebase/storage",dk="@firebase/storage-compat",fk="@firebase/firestore",hk="@firebase/ai",pk="@firebase/firestore-compat",mk="firebase",gk="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="[DEFAULT]",_k={[Pd]:"fire-core",[HI]:"fire-core-compat",[GI]:"fire-analytics",[VI]:"fire-analytics-compat",[qI]:"fire-app-check",[KI]:"fire-app-check-compat",[QI]:"fire-auth",[YI]:"fire-auth-compat",[JI]:"fire-rtdb",[XI]:"fire-data-connect",[ZI]:"fire-rtdb-compat",[ek]:"fire-fn",[tk]:"fire-fn-compat",[nk]:"fire-iid",[rk]:"fire-iid-compat",[ik]:"fire-fcm",[sk]:"fire-fcm-compat",[ok]:"fire-perf",[ak]:"fire-perf-compat",[lk]:"fire-rc",[uk]:"fire-rc-compat",[ck]:"fire-gcs",[dk]:"fire-gcs-compat",[fk]:"fire-fst",[pk]:"fire-fst-compat",[hk]:"fire-vertex","fire-js":"fire-js",[mk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new Map,yk=new Map,xd=new Map;function Cg(n,e){try{n.container.addComponent(e)}catch(t){Rn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ni(n){const e=n.name;if(xd.has(e))return Rn.debug(`There were multiple attempts to register component ${e}.`),!1;xd.set(e,n);for(const t of sl.values())Cg(t,n);for(const t of yk.values())Cg(t,n);return!0}function af(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new ho("app","Firebase",vk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=gk;function oy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Nd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(t||(t=X_()),!t)throw ir.create("no-options");const l=sl.get(o);if(l){if(zr(t,l.options)&&zr(s,l.config))return l;throw ir.create("duplicate-app",{appName:o})}const c=new TI(o);for(const h of xd.values())c.addComponent(h);const f=new wk(t,s,c);return sl.set(o,f),f}function ay(n=Nd){const e=sl.get(n);if(!e&&n===Nd&&X_())return oy();if(!e)throw ir.create("no-app",{appName:n});return e}function sr(n,e,t){var s;let o=(s=_k[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rn.warn(f.join(" "));return}Ni(new jr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="firebase-heartbeat-database",Sk=1,Js="firebase-heartbeat-store";let od=null;function ly(){return od||(od=zI(Ek,Sk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Js)}catch(t){console.warn(t)}}}}).catch(n=>{throw ir.create("idb-open",{originalErrorMessage:n.message})})),od}async function Ck(n){try{const t=(await ly()).transaction(Js),s=await t.objectStore(Js).get(uy(n));return await t.done,s}catch(e){if(e instanceof hr)Rn.warn(e.message);else{const t=ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rn.warn(t.message)}}}async function Ig(n,e){try{const s=(await ly()).transaction(Js,"readwrite");await s.objectStore(Js).put(e,uy(n)),await s.done}catch(t){if(t instanceof hr)Rn.warn(t.message);else{const s=ir.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Rn.warn(s.message)}}}function uy(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=1024,kk=30;class Tk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Pk(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=kg();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>kk){const c=Nk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Rn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kg(),{heartbeatsToSend:s,unsentEntries:o}=Rk(this._heartbeatsCache.heartbeats),l=nl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Rn.warn(t),""}}}function kg(){return new Date().toISOString().substring(0,10)}function Rk(n,e=Ik){const t=[];let s=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Tg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Tg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class Pk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dI()?fI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ck(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ig(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ig(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Tg(n){return nl(JSON.stringify({version:2,heartbeats:n})).length}function Nk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n){Ni(new jr("platform-logger",e=>new $I(e),"PRIVATE")),Ni(new jr("heartbeat",e=>new Tk(e),"PRIVATE")),sr(Pd,Sg,n),sr(Pd,Sg,"esm2017"),sr("fire-js","")}xk("");var Ak="firebase",Ok="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(Ak,Ok,"app");var Rg={};const Pg="@firebase/database",Ng="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy="";function bk(n){cy=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Be(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Ys(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return An(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Dk(e)}}catch{}return new Lk},Lr=dy("localStorage"),Mk=dy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new sf("@firebase/database"),Fk=function(){let n=1;return function(){return n++}}(),fy=function(n){const e=SI(n),t=new yI;t.update(e);const s=t.digest();return ef.encodeByteArray(s)},po=function(...n){let e="";for(let t=0;t<n.length;t++){const s=n[t];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=po.apply(null,s):typeof s=="object"?e+=Be(s):e+=s,e+=" "}return e};let $s=null,xg=!0;const Uk=function(n,e){z(!0,"Can't turn on custom loggers persistently."),Si.logLevel=Se.VERBOSE,$s=Si.log.bind(Si)},it=function(...n){if(xg===!0&&(xg=!1,$s===null&&Mk.get("logging_enabled")===!0&&Uk()),$s){const e=po.apply(null,n);$s(e)}},mo=function(n){return function(...e){it(n,...e)}},Ad=function(...n){const e="FIREBASE INTERNAL ERROR: "+po(...n);Si.error(e)},Pn=function(...n){const e=`FIREBASE FATAL ERROR: ${po(...n)}`;throw Si.error(e),new Error(e)},yt=function(...n){const e="FIREBASE WARNING: "+po(...n);Si.warn(e)},zk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hy=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},jk=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},xi="[MIN_NAME]",Wr="[MAX_NAME]",Mi=function(n,e){if(n===e)return 0;if(n===xi||e===Wr)return-1;if(e===xi||n===Wr)return 1;{const t=Ag(n),s=Ag(e);return t!==null?s!==null?t-s===0?n.length-e.length:t-s:-1:s!==null?1:n<e?-1:1}},Wk=function(n,e){return n===e?0:n<e?-1:1},Ns=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Be(e))},lf=function(n){if(typeof n!="object"||n===null)return Be(n);const e=[];for(const s in n)e.push(s);e.sort();let t="{";for(let s=0;s<e.length;s++)s!==0&&(t+=","),t+=Be(e[s]),t+=":",t+=lf(n[e[s]]);return t+="}",t},py=function(n,e){const t=n.length;if(t<=e)return[n];const s=[];for(let o=0;o<t;o+=e)o+e>t?s.push(n.substring(o,t)):s.push(n.substring(o,o+e));return s};function vt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const my=function(n){z(!hy(n),"Invalid JSON number");const e=11,t=52,s=(1<<e-1)-1;let o,l,c,f,h;n===0?(l=0,c=0,o=1/n===-1/0?1:0):(o=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),s),l=f+s,c=Math.round(n*Math.pow(2,t-f)-Math.pow(2,t))):(l=0,c=Math.round(n/Math.pow(2,1-s-t))));const m=[];for(h=t;h;h-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(h=e;h;h-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(o?1:0),m.reverse();const _=m.join("");let v="";for(h=0;h<64;h+=8){let y=parseInt(_.substr(h,8),2).toString(16);y.length===1&&(y="0"+y),v=v+y}return v.toLowerCase()},$k=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Bk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Hk(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+t);return s.code=n.toUpperCase(),s}const Vk=new RegExp("^-?(0*)\\d{1,10}$"),Gk=-2147483648,Kk=2147483647,Ag=function(n){if(Vk.test(n)){const e=Number(n);if(e>=Gk&&e<=Kk)return e}return null},Fi=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw yt("Exception was thrown by user callback.",t),e},Math.floor(0))}},qk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Bs=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Mt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t,s){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(it("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(e)}}class Ba{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ba.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="5",gy="v",_y="s",yy="r",vy="f",wy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ey="ls",Sy="p",Od="ac",Cy="websocket",Iy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,t,s,o,l=!1,c="",f=!1,h=!1,m=null){this.secure=t,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=c,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=h,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Jk(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Ty(n,e,t){z(typeof e=="string","typeof type must == string"),z(typeof t=="object","typeof params must == object");let s;if(e===Cy)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Iy)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Jk(n)&&(t.ns=n.namespace);const o=[];return vt(t,(l,c)=>{o.push(l+"="+c)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.counters_={}}incrementCounter(e,t=1){An(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return JC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad={},ld={};function cf(n){const e=n.toString();return ad[e]||(ad[e]=new Xk),ad[e]}function Zk(n,e){const t=n.toString();return ld[t]||(ld[t]=e()),ld[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&Fi(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="start",tT="close",nT="pLPCommand",rT="pRTLPCB",Ry="id",Py="pw",Ny="ser",iT="cb",sT="seg",oT="ts",aT="d",lT="dframe",xy=1870,Ay=30,uT=xy-Ay,cT=25e3,dT=3e4;class wi{constructor(e,t,s,o,l,c,f){this.connId=e,this.repoInfo=t,this.applicationId=s,this.appCheckToken=o,this.authToken=l,this.transportSessionId=c,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mo(e),this.stats_=cf(t),this.urlFn=h=>(this.appCheckToken&&(h[Od]=this.appCheckToken),Ty(t,Iy,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new eT(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(dT)),jk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new df((...l)=>{const[c,f,h,m,_]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===Og)this.id=f,this.password=h;else if(c===tT)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...l)=>{const[c,f]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(c,f)},()=>{this.onClosed_()},this.urlFn);const s={};s[Og]="t",s[Ny]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[iT]=this.scriptTagHolder.uniqueCallbackIdentifier),s[gy]=uf,this.transportSessionId&&(s[_y]=this.transportSessionId),this.lastSessionId&&(s[Ey]=this.lastSessionId),this.applicationId&&(s[Sy]=this.applicationId),this.appCheckToken&&(s[Od]=this.appCheckToken),typeof location<"u"&&location.hostname&&wy.test(location.hostname)&&(s[yy]=vy);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wi.forceAllow_=!0}static forceDisallow(){wi.forceDisallow_=!0}static isAvailable(){return wi.forceAllow_?!0:!wi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$k()&&!Bk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Be(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=Q_(t),o=py(s,uT);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const s={};s[lT]="t",s[Ry]=e,s[Py]=t,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Be(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class df{constructor(e,t,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Fk(),window[nT+this.uniqueCallbackIdentifier]=e,window[rT+this.uniqueCallbackIdentifier]=t,this.myIFrame=df.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(f){it("frame writing exception"),f.stack&&it(f.stack),it(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||it("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ry]=this.myID,e[Py]=this.myPW,e[Ny]=this.currentSerial;let t=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ay+s.length<=xy;){const c=this.pendingSegs.shift();s=s+"&"+sT+o+"="+c.seg+"&"+oT+o+"="+c.ts+"&"+aT+o+"="+c.d,o++}return t=t+s,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,s){this.pendingSegs.push({seg:e,ts:t,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const s=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(s,Math.floor(cT)),l=()=>{clearTimeout(o),s()};this.addTag(e,l)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),t())},s.onerror=()=>{it("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=16384,hT=45e3;let ol=null;typeof MozWebSocket<"u"?ol=MozWebSocket:typeof WebSocket<"u"&&(ol=WebSocket);class on{constructor(e,t,s,o,l,c,f){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mo(this.connId),this.stats_=cf(t),this.connURL=on.connectionURL_(t,c,f,o,s),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,s,o,l){const c={};return c[gy]=uf,typeof location<"u"&&location.hostname&&wy.test(location.hostname)&&(c[yy]=vy),t&&(c[_y]=t),s&&(c[Ey]=s),o&&(c[Od]=o),l&&(c[Sy]=l),Ty(e,Cy,c)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lr.set("previous_websocket_failure",!0);try{let s;cI(),this.mySock=new ol(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){on.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(t);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&ol!==null&&!on.forceDisallow_}static previouslyFailed(){return Lr.isInMemoryStorage||Lr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Lr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const s=Ys(t);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const s=this.extractFrameCount_(t);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const t=Be(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=py(t,fT);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(hT))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}on.responsesRequiredToBeHealthy=2;on.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{static get ALL_TRANSPORTS(){return[wi,on]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=on.isAvailable();let s=t&&!on.previouslyFailed();if(e.webSocketOnly&&(t||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[on];else{const o=this.transports_=[];for(const l of Xs.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);Xs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=6e4,mT=5e3,gT=10*1024,_T=100*1024,ud="t",bg="d",yT="s",Dg="r",vT="e",Lg="o",Mg="a",Fg="n",Ug="p",wT="h";class ET{constructor(e,t,s,o,l,c,f,h,m,_){this.id=e,this.repoInfo_=t,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=c,this.onReady_=f,this.onDisconnect_=h,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mo("c:"+this.id+":"),this.transportManager_=new Xs(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Bs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_T?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gT?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ud in e){const t=e[ud];t===Mg?this.upgradeIfSecondaryHealthy_():t===Dg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Lg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Ns("t",e),s=Ns("d",e);if(t==="c")this.onSecondaryControl_(s);else if(t==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ug,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Mg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Fg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Ns("t",e),s=Ns("d",e);t==="c"?this.onControl_(s):t==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Ns(ud,e);if(bg in e){const s=e[bg];if(t===wT){const o=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(t===Fg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===yT?this.onConnectionShutdown_(s):t===Dg?this.onReset_(s):t===vT?Ad("Server Error: "+s):t===Lg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ad("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),uf!==s&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,s),Bs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pT))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(mT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ug,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{put(e,t,s,o){}merge(e,t,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,s){}onDisconnectMerge(e,t,s){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,t)}}on(e,t,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:s});const o=this.getInitialEvent(e);o&&t.apply(s,o)}off(e,t,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===t&&(!s||s===o[l].context)){o.splice(l,1);return}}validateEventType_(e){z(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends by{static getInstance(){return new al}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!nf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=32,jg=768;class Ce{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function ye(){return new Ce("")}function fe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function cr(n){return n.pieces_.length-n.pieceNum_}function Te(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ce(n.pieces_,e)}function Dy(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ST(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Ly(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function My(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ce(e,0)}function He(n,e){const t=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)t.push(n.pieces_[s]);if(e instanceof Ce)for(let s=e.pieceNum_;s<e.pieces_.length;s++)t.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&t.push(s[o])}return new Ce(t,0)}function de(n){return n.pieceNum_>=n.pieces_.length}function lt(n,e){const t=fe(n),s=fe(e);if(t===null)return e;if(t===s)return lt(Te(n),Te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Fy(n,e){if(cr(n)!==cr(e))return!1;for(let t=n.pieceNum_,s=e.pieceNum_;t<=n.pieces_.length;t++,s++)if(n.pieces_[t]!==e.pieces_[s])return!1;return!0}function Gt(n,e){let t=n.pieceNum_,s=e.pieceNum_;if(cr(n)>cr(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[s])return!1;++t,++s}return!0}class CT{constructor(e,t){this.errorPrefix_=t,this.parts_=Ly(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Ol(this.parts_[s]);Uy(this)}}function IT(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Ol(e),Uy(n)}function kT(n){const e=n.parts_.pop();n.byteLength_-=Ol(e),n.parts_.length>0&&(n.byteLength_-=1)}function Uy(n){if(n.byteLength_>jg)throw new Error(n.errorPrefix_+"has a key path longer than "+jg+" bytes ("+n.byteLength_+").");if(n.parts_.length>zg)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zg+") or object contains a cycle "+Or(n))}function Or(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends by{static getInstance(){return new ff}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=1e3,TT=60*5*1e3,Wg=30*1e3,RT=1.3,PT=3e4,NT="server_kill",$g=3;class Cn extends Oy{constructor(e,t,s,o,l,c,f,h){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=f,this.authOverride_=h,this.id=Cn.nextPersistentConnectionId_++,this.log_=mo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xs,this.maxReconnectDelay_=TT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ff.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&al.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,s){const o=++this.requestNumber_,l={r:o,a:e,b:t};this.log_(Be(l)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const t=new Al,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const f=c.d;c.s==="ok"?t.resolve(f):t.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),t.promise}listen(e,t,s,o){this.initConnection_();const l=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+l),this.listens.has(c)||this.listens.set(c,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(c).has(l),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:t,query:e,tag:s};this.listens.get(c).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(s)})}sendListen_(e){const t=e.query,s=t._path.toString(),o=t._queryIdentifier;this.log_("Listen on "+s+" for "+o);const l={p:s},c="q";e.tag&&(l.q=t._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(c,l,f=>{const h=f.d,m=f.s;Cn.warnOnListenWarnings_(h,t),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",f),m!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(m,h))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&An(e,"w")){const s=Pi(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+t._queryParams.getIndex().toString()+'"',l=t._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_I(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Wg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=gI(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(t,s,o=>{const l=o.s,c=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,s=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,s)})}unlisten(e,t){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,t)}sendUnlisten_(e,t,s,o){this.log_("Unlisten on "+e+" for "+t);const l={p:e},c="n";o&&(l.q=s,l.t=o),this.sendRequest(c,l)}onDisconnectPut(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:s})}onDisconnectMerge(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:s})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,s,o){const l={p:t,d:s};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,c=>{o&&setTimeout(()=>{o(c.s,c.d)},Math.floor(0))})}put(e,t,s,o){this.putInternal("p",e,t,s,o)}merge(e,t,s,o){this.putInternal("m",e,t,s,o)}putInternal(e,t,s,o,l){this.initConnection_();const c={p:t,d:s};l!==void 0&&(c.h=l),this.outstandingPuts_.push({action:e,request:c,onComplete:o}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,s,l=>{this.log_(t+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,s=>{if(s.s!=="ok"){const l=s.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Be(e));const t=e.r,s=this.requestCBHash_[t];s&&(delete this.requestCBHash_[t],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):Ad("Unrecognized action received from server: "+Be(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>PT&&(this.reconnectDelay_=xs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Cn.nextConnectionId_++,l=this.lastSessionId;let c=!1,f=null;const h=function(){f?f.close():(c=!0,s())},m=function(v){z(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(v)};this.realtime_={close:h,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,y]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);c?it("getToken() completed but was canceled"):(it("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,f=new ET(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,s,I=>{yt(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(NT)},l))}catch(v){this.log_("Failed to get token: "+v),c||(this.repoInfo_.nodeAdmin&&yt(v),h())}}}interrupt(e){it("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){it("Resuming connection for reason: "+e),delete this.interruptReasons_[e],kd(this.interruptReasons_)&&(this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let s;t?s=t.map(l=>lf(l)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,t){const s=new Ce(e).toString();let o;if(this.listens.has(s)){const l=this.listens.get(s);o=l.get(t),l.delete(t),l.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,t){it("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$g&&(this.reconnectDelay_=Wg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){it("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$g&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+cy.replace(/\./g,"-")]=1,nf()?e["framework.cordova"]=1:ny()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=al.getInstance().currentlyOnline();return kd(this.interruptReasons_)&&e}}Cn.nextPersistentConnectionId_=0;Cn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ue(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const s=new ue(xi,e),o=new ue(xi,t);return this.compare(s,o)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za;class zy extends bl{static get __EMPTY_NODE(){return za}static set __EMPTY_NODE(e){za=e}compare(e,t){return Mi(e.name,t.name)}isDefinedOn(e){throw bi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Wr,za)}makePost(e,t){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,za)}toString(){return".key"}}const Ci=new zy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t,s,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?s(e.key,t):1,o&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Qe{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Qe.RED,this.left=o??_t.EMPTY_NODE,this.right=l??_t.EMPTY_NODE}copy(e,t,s,o,l){return new Qe(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o=o.copy(null,t,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return _t.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let s,o;if(s=this,t(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),t(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Qe.RED=!0;Qe.BLACK=!1;class xT{copy(e,t,s,o,l){return this}insert(e,t,s){return new Qe(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _t{constructor(e,t=_t.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new _t(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Qe.BLACK,null,null))}remove(e){return new _t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qe.BLACK,null,null))}get(e){let t,s=this.root_;for(;!s.isEmpty();){if(t=this.comparator_(e,s.key),t===0)return s.value;t<0?s=s.left:t>0&&(s=s.right)}return null}getPredecessorKey(e){let t,s=this.root_,o=null;for(;!s.isEmpty();)if(t=this.comparator_(e,s.key),t===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else t<0?s=s.left:t>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ja(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ja(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ja(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ja(this.root_,null,this.comparator_,!0,e)}}_t.EMPTY_NODE=new xT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(n,e){return Mi(n.name,e.name)}function hf(n,e){return Mi(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd;function OT(n){bd=n}const jy=function(n){return typeof n=="number"?"number:"+my(n):"string:"+n},Wy=function(n){if(n.isLeafNode()){const e=n.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&An(e,".sv"),"Priority must be a string or number.")}else z(n===bd||n.isEmpty(),"priority of unexpected type.");z(n===bd||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg;class qe{static set __childrenNodeConstructor(e){Bg=e}static get __childrenNodeConstructor(){return Bg}constructor(e,t=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:fe(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const s=fe(e);return s===null?t:t.isEmpty()&&s!==".priority"?this:(z(s!==".priority"||cr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jy(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=my(this.value_):e+=this.value_,this.lazyHash_=fy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,s=typeof this.value_,o=qe.VALUE_TYPE_ORDER.indexOf(t),l=qe.VALUE_TYPE_ORDER.indexOf(s);return z(o>=0,"Unknown leaf type: "+t),z(l>=0,"Unknown leaf type: "+s),o===l?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $y,By;function bT(n){$y=n}function DT(n){By=n}class LT extends bl{compare(e,t){const s=e.node.getPriority(),o=t.node.getPriority(),l=s.compareTo(o);return l===0?Mi(e.name,t.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Wr,new qe("[PRIORITY-POST]",By))}makePost(e,t){const s=$y(e);return new ue(t,new qe("[PRIORITY-POST]",s))}toString(){return".priority"}}const Fe=new LT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=Math.log(2);class FT{constructor(e){const t=l=>parseInt(Math.log(l)/MT,10),s=l=>parseInt(Array(l+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ll=function(n,e,t,s){n.sort(e);const o=function(h,m){const _=m-h;let v,y;if(_===0)return null;if(_===1)return v=n[h],y=t?t(v):v,new Qe(y,v.node,Qe.BLACK,null,null);{const I=parseInt(_/2,10)+h,C=o(h,I),x=o(I+1,m);return v=n[I],y=t?t(v):v,new Qe(y,v.node,Qe.BLACK,C,x)}},l=function(h){let m=null,_=null,v=n.length;const y=function(C,x){const A=v-C,O=v;v-=C;const F=o(A+1,O),$=n[A],j=t?t($):$;I(new Qe(j,$.node,x,null,F))},I=function(C){m?(m.left=C,m=C):(_=C,m=C)};for(let C=0;C<h.count;++C){const x=h.nextBitIsOne(),A=Math.pow(2,h.count-(C+1));x?y(A,Qe.BLACK):(y(A,Qe.BLACK),y(A,Qe.RED))}return _},c=new FT(n.length),f=l(c);return new _t(s||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd;const As={};class vn{static get Default(){return z(Fe,"ChildrenNode.ts has not been loaded"),cd=cd||new vn({".priority":As},{".priority":Fe}),cd}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Pi(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof _t?t:null}hasIndex(e){return An(this.indexSet_,e.toString())}addIndex(e,t){z(e!==Ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const l=t.getIterator(ue.Wrap);let c=l.getNext();for(;c;)o=o||e.isDefinedOn(c.node),s.push(c),c=l.getNext();let f;o?f=ll(s,e.getCompare()):f=As;const h=e.toString(),m=Object.assign({},this.indexSet_);m[h]=e;const _=Object.assign({},this.indexes_);return _[h]=f,new vn(_,m)}addToIndexes(e,t){const s=il(this.indexes_,(o,l)=>{const c=Pi(this.indexSet_,l);if(z(c,"Missing index implementation for "+l),o===As)if(c.isDefinedOn(e.node)){const f=[],h=t.getIterator(ue.Wrap);let m=h.getNext();for(;m;)m.name!==e.name&&f.push(m),m=h.getNext();return f.push(e),ll(f,c.getCompare())}else return As;else{const f=t.get(e.name);let h=o;return f&&(h=h.remove(new ue(e.name,f))),h.insert(e,e.node)}});return new vn(s,this.indexSet_)}removeFromIndexes(e,t){const s=il(this.indexes_,o=>{if(o===As)return o;{const l=t.get(e.name);return l?o.remove(new ue(e.name,l)):o}});return new vn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Os;class re{static get EMPTY_NODE(){return Os||(Os=new re(new _t(hf),null,vn.Default))}constructor(e,t,s){this.children_=e,this.priorityNode_=t,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Wy(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Os}updatePriority(e){return this.children_.isEmpty()?this:new re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Os:t}}getChild(e){const t=fe(e);return t===null?this:this.getImmediateChild(t).getChild(Te(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(z(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const s=new ue(e,t);let o,l;t.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,t),l=this.indexMap_.addToIndexes(s,this.children_));const c=o.isEmpty()?Os:this.priorityNode_;return new re(o,c,l)}}updateChild(e,t){const s=fe(e);if(s===null)return t;{z(fe(e)!==".priority"||cr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(Te(e),t);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let s=0,o=0,l=!0;if(this.forEachChild(Fe,(c,f)=>{t[c]=f.val(e),s++,l&&re.INTEGER_REGEXP_.test(c)?o=Math.max(o,Number(c)):l=!1}),!e&&l&&o<2*s){const c=[];for(const f in t)c[f]=t[f];return c}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+jy(this.getPriority().val())+":"),this.forEachChild(Fe,(t,s)=>{const o=s.hash();o!==""&&(e+=":"+t+":"+o)}),this.lazyHash_=e===""?"":fy(e)}return this.lazyHash_}getPredecessorChildName(e,t,s){const o=this.resolveIndex_(s);if(o){const l=o.getPredecessorKey(new ue(e,t));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ue(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ue(t,this.children_.get(t)):null}forEachChild(e,t){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>t(o.name,o.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ue.Wrap);let l=o.peek();for(;l!=null&&t.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let l=o.peek();for(;l!=null&&t.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===go?-1:0}withIndex(e){if(e===Ci||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new re(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ci||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const s=this.getIterator(Fe),o=t.getIterator(Fe);let l=s.getNext(),c=o.getNext();for(;l&&c;){if(l.name!==c.name||!l.node.equals(c.node))return!1;l=s.getNext(),c=o.getNext()}return l===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===Ci?null:this.indexMap_.get(e.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class UT extends re{constructor(){super(new _t(hf),re.EMPTY_NODE,vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return re.EMPTY_NODE}isEmpty(){return!1}}const go=new UT;Object.defineProperties(ue,{MIN:{value:new ue(xi,re.EMPTY_NODE)},MAX:{value:new ue(Wr,go)}});zy.__EMPTY_NODE=re.EMPTY_NODE;qe.__childrenNodeConstructor=re;OT(go);DT(go);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=!0;function Ye(n,e=null){if(n===null)return re.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new qe(t,Ye(e))}if(!(n instanceof Array)&&zT){const t=[];let s=!1;if(vt(n,(c,f)=>{if(c.substring(0,1)!=="."){const h=Ye(f);h.isEmpty()||(s=s||!h.getPriority().isEmpty(),t.push(new ue(c,h)))}}),t.length===0)return re.EMPTY_NODE;const l=ll(t,AT,c=>c.name,hf);if(s){const c=ll(t,Fe.getCompare());return new re(l,Ye(e),new vn({".priority":c},{".priority":Fe}))}else return new re(l,Ye(e),vn.Default)}else{let t=re.EMPTY_NODE;return vt(n,(s,o)=>{if(An(n,s)&&s.substring(0,1)!=="."){const l=Ye(o);(l.isLeafNode()||!l.isEmpty())&&(t=t.updateImmediateChild(s,l))}}),t.updatePriority(Ye(e))}}bT(Ye);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends bl{constructor(e){super(),this.indexPath_=e,z(!de(e)&&fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const s=this.extractChild(e.node),o=this.extractChild(t.node),l=s.compareTo(o);return l===0?Mi(e.name,t.name):l}makePost(e,t){const s=Ye(e),o=re.EMPTY_NODE.updateChild(this.indexPath_,s);return new ue(t,o)}maxPost(){const e=re.EMPTY_NODE.updateChild(this.indexPath_,go);return new ue(Wr,e)}toString(){return Ly(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends bl{compare(e,t){const s=e.node.compareTo(t.node);return s===0?Mi(e.name,t.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,t){const s=Ye(e);return new ue(t,s)}toString(){return".value"}}const $T=new WT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(n){return{type:"value",snapshotNode:n}}function Ai(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Zs(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function eo(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function BT(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.index_=e}updateChild(e,t,s,o,l,c){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(t);return f.getChild(o).equals(s.getChild(o))&&f.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(t)?c.trackChildChange(Zs(t,f)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?c.trackChildChange(Ai(t,s)):c.trackChildChange(eo(t,s,f))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(t,s).withIndex(this.index_)}updateFullNode(e,t,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Fe,(o,l)=>{t.hasChild(o)||s.trackChildChange(Zs(o,l))}),t.isLeafNode()||t.forEachChild(Fe,(o,l)=>{if(e.hasChild(o)){const c=e.getImmediateChild(o);c.equals(l)||s.trackChildChange(eo(o,l,c))}else s.trackChildChange(Ai(o,l))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?re.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.indexedFilter_=new pf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=to.getStartPost_(e),this.endPost_=to.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&s}updateChild(e,t,s,o,l,c){return this.matches(new ue(t,s))||(s=re.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,s,o,l,c)}updateFullNode(e,t,s){t.isLeafNode()&&(t=re.EMPTY_NODE);let o=t.withIndex(this.index_);o=o.updatePriority(re.EMPTY_NODE);const l=this;return t.forEachChild(Fe,(c,f)=>{l.matches(new ue(c,f))||(o=o.updateImmediateChild(c,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=t=>{const s=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new to(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,s,o,l,c){return this.rangedFilter_.matches(new ue(t,s))||(s=re.EMPTY_NODE),e.getImmediateChild(t).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,s,o,l,c):this.fullLimitUpdateChild_(e,t,s,l,c)}updateFullNode(e,t,s){let o;if(t.isLeafNode()||t.isEmpty())o=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){o=re.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;l.hasNext()&&c<this.limit_;){const f=l.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))o=o.updateImmediateChild(f.name,f.node),c++;else break;else continue}}else{o=t.withIndex(this.index_),o=o.updatePriority(re.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let c=0;for(;l.hasNext();){const f=l.getNext();c<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?c++:o=o.updateImmediateChild(f.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,s,o,l){let c;if(this.reverse_){const v=this.index_.getCompare();c=(y,I)=>v(I,y)}else c=this.index_.getCompare();const f=e;z(f.numChildren()===this.limit_,"");const h=new ue(t,s),m=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),_=this.rangedFilter_.matches(h);if(f.hasChild(t)){const v=f.getImmediateChild(t);let y=o.getChildAfterChild(this.index_,m,this.reverse_);for(;y!=null&&(y.name===t||f.hasChild(y.name));)y=o.getChildAfterChild(this.index_,y,this.reverse_);const I=y==null?1:c(y,h);if(_&&!s.isEmpty()&&I>=0)return l!=null&&l.trackChildChange(eo(t,s,v)),f.updateImmediateChild(t,s);{l!=null&&l.trackChildChange(Zs(t,v));const x=f.updateImmediateChild(t,re.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(l!=null&&l.trackChildChange(Ai(y.name,y.node)),x.updateImmediateChild(y.name,y.node)):x}}else return s.isEmpty()?e:_&&c(m,h)>=0?(l!=null&&(l.trackChildChange(Zs(m.name,m.node)),l.trackChildChange(Ai(t,s))),f.updateImmediateChild(t,s).updateImmediateChild(m.name,re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xi}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new mf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function VT(n){return n.loadsAllData()?new pf(n.getIndex()):n.hasLimit()?new HT(n):new to(n)}function Hg(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Fe?t="$priority":n.index_===$T?t="$value":n.index_===Ci?t="$key":(z(n.index_ instanceof jT,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Be(t),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=Be(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+Be(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=Be(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+Be(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Vg(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Fe&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Oy{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=mo("p:rest:"),this.listens_={}}listen(e,t,s,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const c=ul.getListenId_(e,s),f={};this.listens_[c]=f;const h=Hg(e._queryParams);this.restRequest_(l+".json",h,(m,_)=>{let v=_;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(l,v,!1,s),Pi(this.listens_,c)===f){let y;m?m===401?y="permission_denied":y="rest_error:"+m:y="ok",o(y,null)}})}unlisten(e,t){const s=ul.getListenId_(e,t);delete this.listens_[s]}get(e){const t=Hg(e._queryParams),s=e._path.toString(),o=new Al;return this.restRequest_(s+".json",t,(l,c)=>{let f=c;l===404&&(f=null,l=null),l===null?(this.onDataUpdate_(s,f,!1,null),o.resolve(f)):o.reject(new Error(f))}),o.promise}refreshAuthToken(e){}restRequest_(e,t={},s){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(t.auth=o.accessToken),l&&l.token&&(t.ac=l.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Di(t);this.log_("Sending REST request for "+c);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(s&&f.readyState===4){this.log_("REST Response for "+c+" received. status:",f.status,"response:",f.responseText);let h=null;if(f.status>=200&&f.status<300){try{h=Ys(f.responseText)}catch{yt("Failed to parse JSON response for "+c+": "+f.responseText)}s(null,h)}else f.status!==401&&f.status!==404&&yt("Got unsuccessful REST response for "+c+" Status: "+f.status),s(f.status);s=null}},f.open("GET",c,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(){return{value:null,children:new Map}}function Vy(n,e,t){if(de(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const s=fe(e);n.children.has(s)||n.children.set(s,cl());const o=n.children.get(s);e=Te(e),Vy(o,e,t)}}function Dd(n,e,t){n.value!==null?t(e,n.value):KT(n,(s,o)=>{const l=new Ce(e.toString()+"/"+s);Dd(o,l,t)})}function KT(n,e){n.children.forEach((t,s)=>{e(s,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&vt(this.last_,(s,o)=>{t[s]=t[s]-o}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=10*1e3,QT=30*1e3,YT=5*60*1e3;class JT{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new qT(e);const s=Gg+(QT-Gg)*Math.random();Bs(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),t={};let s=!1;vt(e,(o,l)=>{l>0&&An(this.statsToReport_,o)&&(t[o]=l,s=!0)}),s&&this.server_.reportStats(t),Bs(this.reportStats_.bind(this),Math.floor(Math.random()*2*YT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Kt||(Kt={}));function Gy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _f(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t,s){this.path=e,this.affectedTree=t,this.revert=s,this.type=Kt.ACK_USER_WRITE,this.source=Gy()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ce(e));return new dl(ye(),t,this.revert)}}else return z(fe(this.path)===e,"operationForChild called for unrelated child."),new dl(Te(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.source=e,this.path=t,this.type=Kt.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new no(this.source,ye()):new no(this.source,Te(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,t,s){this.source=e,this.path=t,this.snap=s,this.type=Kt.OVERWRITE}operationForChild(e){return de(this.path)?new $r(this.source,ye(),this.snap.getImmediateChild(e)):new $r(this.source,Te(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t,s){this.source=e,this.path=t,this.children=s,this.type=Kt.MERGE}operationForChild(e){if(de(this.path)){const t=this.children.subtree(new Ce(e));return t.isEmpty()?null:t.value?new $r(this.source,ye(),t.value):new ro(this.source,ye(),t)}else return z(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ro(this.source,Te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t,s){this.node_=e,this.fullyInitialized_=t,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const t=fe(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ZT(n,e,t,s){const o=[],l=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&l.push(BT(c.childName,c.snapshotNode))}),bs(n,o,"child_removed",e,s,t),bs(n,o,"child_added",e,s,t),bs(n,o,"child_moved",l,s,t),bs(n,o,"child_changed",e,s,t),bs(n,o,"value",e,s,t),o}function bs(n,e,t,s,o,l){const c=s.filter(f=>f.type===t);c.sort((f,h)=>t0(n,f,h)),c.forEach(f=>{const h=e0(n,f,l);o.forEach(m=>{m.respondsTo(f.type)&&e.push(m.createEvent(h,n.query_))})})}function e0(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function t0(n,e,t){if(e.childName==null||t.childName==null)throw bi("Should only compare child_ events.");const s=new ue(e.childName,e.snapshotNode),o=new ue(t.childName,t.snapshotNode);return n.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n,e){return{eventCache:n,serverCache:e}}function Hs(n,e,t,s){return Dl(new dr(e,t,s),n.serverCache)}function Ky(n,e,t,s){return Dl(n.eventCache,new dr(e,t,s))}function fl(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Br(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd;const n0=()=>(dd||(dd=new _t(Wk)),dd);class Ne{static fromObject(e){let t=new Ne(null);return vt(e,(s,o)=>{t=t.set(new Ce(s),o)}),t}constructor(e,t=n0()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:ye(),value:this.value};if(de(e))return null;{const s=fe(e),o=this.children.get(s);if(o!==null){const l=o.findRootMostMatchingPathAndValue(Te(e),t);return l!=null?{path:He(new Ce(s),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const t=fe(e),s=this.children.get(t);return s!==null?s.subtree(Te(e)):new Ne(null)}}set(e,t){if(de(e))return new Ne(t,this.children);{const s=fe(e),l=(this.children.get(s)||new Ne(null)).set(Te(e),t),c=this.children.insert(s,l);return new Ne(this.value,c)}}remove(e){if(de(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const t=fe(e),s=this.children.get(t);if(s){const o=s.remove(Te(e));let l;return o.isEmpty()?l=this.children.remove(t):l=this.children.insert(t,o),this.value===null&&l.isEmpty()?new Ne(null):new Ne(this.value,l)}else return this}}get(e){if(de(e))return this.value;{const t=fe(e),s=this.children.get(t);return s?s.get(Te(e)):null}}setTree(e,t){if(de(e))return t;{const s=fe(e),l=(this.children.get(s)||new Ne(null)).setTree(Te(e),t);let c;return l.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,l),new Ne(this.value,c)}}fold(e){return this.fold_(ye(),e)}fold_(e,t){const s={};return this.children.inorderTraversal((o,l)=>{s[o]=l.fold_(He(e,o),t)}),t(e,this.value,s)}findOnPath(e,t){return this.findOnPath_(e,ye(),t)}findOnPath_(e,t,s){const o=this.value?s(t,this.value):!1;if(o)return o;if(de(e))return null;{const l=fe(e),c=this.children.get(l);return c?c.findOnPath_(Te(e),He(t,l),s):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ye(),t)}foreachOnPath_(e,t,s){if(de(e))return this;{this.value&&s(t,this.value);const o=fe(e),l=this.children.get(o);return l?l.foreachOnPath_(Te(e),He(t,o),s):new Ne(null)}}foreach(e){this.foreach_(ye(),e)}foreach_(e,t){this.children.inorderTraversal((s,o)=>{o.foreach_(He(e,s),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,s)=>{s.value&&e(t,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.writeTree_=e}static empty(){return new Qt(new Ne(null))}}function Vs(n,e,t){if(de(e))return new Qt(new Ne(t));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let l=s.value;const c=lt(o,e);return l=l.updateChild(c,t),new Qt(n.writeTree_.set(o,l))}else{const o=new Ne(t),l=n.writeTree_.setTree(e,o);return new Qt(l)}}}function Kg(n,e,t){let s=n;return vt(t,(o,l)=>{s=Vs(s,He(e,o),l)}),s}function qg(n,e){if(de(e))return Qt.empty();{const t=n.writeTree_.setTree(e,new Ne(null));return new Qt(t)}}function Ld(n,e){return Gr(n,e)!=null}function Gr(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(lt(t.path,e)):null}function Qg(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Fe,(s,o)=>{e.push(new ue(s,o))}):n.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new ue(s,o.value))}),e}function or(n,e){if(de(e))return n;{const t=Gr(n,e);return t!=null?new Qt(new Ne(t)):new Qt(n.writeTree_.subtree(e))}}function Md(n){return n.writeTree_.isEmpty()}function Oi(n,e){return qy(ye(),n.writeTree_,e)}function qy(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(z(l.value!==null,"Priority writes must always be leaf nodes"),s=l.value):t=qy(He(n,o),l,t)}),!t.getChild(n).isEmpty()&&s!==null&&(t=t.updateChild(He(n,".priority"),s)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(n,e){return Xy(e,n)}function r0(n,e,t,s,o){z(s>n.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),n.allWrites.push({path:e,snap:t,writeId:s,visible:o}),o&&(n.visibleWrites=Vs(n.visibleWrites,e,t)),n.lastWriteId=s}function i0(n,e){for(let t=0;t<n.allWrites.length;t++){const s=n.allWrites[t];if(s.writeId===e)return s}return null}function s0(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);z(t>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[t];n.allWrites.splice(t,1);let o=s.visible,l=!1,c=n.allWrites.length-1;for(;o&&c>=0;){const f=n.allWrites[c];f.visible&&(c>=t&&o0(f,s.path)?o=!1:Gt(s.path,f.path)&&(l=!0)),c--}if(o){if(l)return a0(n),!0;if(s.snap)n.visibleWrites=qg(n.visibleWrites,s.path);else{const f=s.children;vt(f,h=>{n.visibleWrites=qg(n.visibleWrites,He(s.path,h))})}return!0}else return!1}function o0(n,e){if(n.snap)return Gt(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Gt(He(n.path,t),e))return!0;return!1}function a0(n){n.visibleWrites=Qy(n.allWrites,l0,ye()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function l0(n){return n.visible}function Qy(n,e,t){let s=Qt.empty();for(let o=0;o<n.length;++o){const l=n[o];if(e(l)){const c=l.path;let f;if(l.snap)Gt(t,c)?(f=lt(t,c),s=Vs(s,f,l.snap)):Gt(c,t)&&(f=lt(c,t),s=Vs(s,ye(),l.snap.getChild(f)));else if(l.children){if(Gt(t,c))f=lt(t,c),s=Kg(s,f,l.children);else if(Gt(c,t))if(f=lt(c,t),de(f))s=Kg(s,ye(),l.children);else{const h=Pi(l.children,fe(f));if(h){const m=h.getChild(Te(f));s=Vs(s,ye(),m)}}}else throw bi("WriteRecord should have .snap or .children")}}return s}function Yy(n,e,t,s,o){if(!s&&!o){const l=Gr(n.visibleWrites,e);if(l!=null)return l;{const c=or(n.visibleWrites,e);if(Md(c))return t;if(t==null&&!Ld(c,ye()))return null;{const f=t||re.EMPTY_NODE;return Oi(c,f)}}}else{const l=or(n.visibleWrites,e);if(!o&&Md(l))return t;if(!o&&t==null&&!Ld(l,ye()))return null;{const c=function(m){return(m.visible||o)&&(!s||!~s.indexOf(m.writeId))&&(Gt(m.path,e)||Gt(e,m.path))},f=Qy(n.allWrites,c,e),h=t||re.EMPTY_NODE;return Oi(f,h)}}}function u0(n,e,t){let s=re.EMPTY_NODE;const o=Gr(n.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Fe,(l,c)=>{s=s.updateImmediateChild(l,c)}),s;if(t){const l=or(n.visibleWrites,e);return t.forEachChild(Fe,(c,f)=>{const h=Oi(or(l,new Ce(c)),f);s=s.updateImmediateChild(c,h)}),Qg(l).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const l=or(n.visibleWrites,e);return Qg(l).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function c0(n,e,t,s,o){z(s||o,"Either existingEventSnap or existingServerSnap must exist");const l=He(e,t);if(Ld(n.visibleWrites,l))return null;{const c=or(n.visibleWrites,l);return Md(c)?o.getChild(t):Oi(c,o.getChild(t))}}function d0(n,e,t,s){const o=He(e,t),l=Gr(n.visibleWrites,o);if(l!=null)return l;if(s.isCompleteForChild(t)){const c=or(n.visibleWrites,o);return Oi(c,s.getNode().getImmediateChild(t))}else return null}function f0(n,e){return Gr(n.visibleWrites,e)}function h0(n,e,t,s,o,l,c){let f;const h=or(n.visibleWrites,e),m=Gr(h,ye());if(m!=null)f=m;else if(t!=null)f=Oi(h,t);else return[];if(f=f.withIndex(c),!f.isEmpty()&&!f.isLeafNode()){const _=[],v=c.getCompare(),y=l?f.getReverseIteratorFrom(s,c):f.getIteratorFrom(s,c);let I=y.getNext();for(;I&&_.length<o;)v(I,s)!==0&&_.push(I),I=y.getNext();return _}else return[]}function p0(){return{visibleWrites:Qt.empty(),allWrites:[],lastWriteId:-1}}function hl(n,e,t,s){return Yy(n.writeTree,n.treePath,e,t,s)}function yf(n,e){return u0(n.writeTree,n.treePath,e)}function Yg(n,e,t,s){return c0(n.writeTree,n.treePath,e,t,s)}function pl(n,e){return f0(n.writeTree,He(n.treePath,e))}function m0(n,e,t,s,o,l){return h0(n.writeTree,n.treePath,e,t,s,o,l)}function vf(n,e,t){return d0(n.writeTree,n.treePath,e,t)}function Jy(n,e){return Xy(He(n.treePath,e),n.writeTree)}function Xy(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,s=e.childName;z(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),z(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const l=o.type;if(t==="child_added"&&l==="child_removed")this.changeMap.set(s,eo(s,e.snapshotNode,o.snapshotNode));else if(t==="child_removed"&&l==="child_added")this.changeMap.delete(s);else if(t==="child_removed"&&l==="child_changed")this.changeMap.set(s,Zs(s,o.oldSnap));else if(t==="child_changed"&&l==="child_added")this.changeMap.set(s,Ai(s,e.snapshotNode));else if(t==="child_changed"&&l==="child_changed")this.changeMap.set(s,eo(s,e.snapshotNode,o.oldSnap));else throw bi("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{getCompleteChild(e){return null}getChildAfterChild(e,t,s){return null}}const Zy=new _0;class wf{constructor(e,t,s=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=s}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new dr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vf(this.writes_,e,s)}}getChildAfterChild(e,t,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Br(this.viewCache_),l=m0(this.writes_,o,t,1,s,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n){return{filter:n}}function v0(n,e){z(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function w0(n,e,t,s,o){const l=new g0;let c,f;if(t.type===Kt.OVERWRITE){const m=t;m.source.fromUser?c=Fd(n,e,m.path,m.snap,s,o,l):(z(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered()&&!de(m.path),c=ml(n,e,m.path,m.snap,s,o,f,l))}else if(t.type===Kt.MERGE){const m=t;m.source.fromUser?c=S0(n,e,m.path,m.children,s,o,l):(z(m.source.fromServer,"Unknown source."),f=m.source.tagged||e.serverCache.isFiltered(),c=Ud(n,e,m.path,m.children,s,o,f,l))}else if(t.type===Kt.ACK_USER_WRITE){const m=t;m.revert?c=k0(n,e,m.path,s,o,l):c=C0(n,e,m.path,m.affectedTree,s,o,l)}else if(t.type===Kt.LISTEN_COMPLETE)c=I0(n,e,t.path,s,l);else throw bi("Unknown operation type: "+t.type);const h=l.getChanges();return E0(e,c,h),{viewCache:c,changes:h}}function E0(n,e,t){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),l=fl(n);(t.length>0||!n.eventCache.isFullyInitialized()||o&&!s.getNode().equals(l)||!s.getNode().getPriority().equals(l.getPriority()))&&t.push(Hy(fl(e)))}}function ev(n,e,t,s,o,l){const c=e.eventCache;if(pl(s,t)!=null)return e;{let f,h;if(de(t))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Br(e),_=m instanceof re?m:re.EMPTY_NODE,v=yf(s,_);f=n.filter.updateFullNode(e.eventCache.getNode(),v,l)}else{const m=hl(s,Br(e));f=n.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=fe(t);if(m===".priority"){z(cr(t)===1,"Can't have a priority with additional path components");const _=c.getNode();h=e.serverCache.getNode();const v=Yg(s,t,_,h);v!=null?f=n.filter.updatePriority(_,v):f=c.getNode()}else{const _=Te(t);let v;if(c.isCompleteForChild(m)){h=e.serverCache.getNode();const y=Yg(s,t,c.getNode(),h);y!=null?v=c.getNode().getImmediateChild(m).updateChild(_,y):v=c.getNode().getImmediateChild(m)}else v=vf(s,m,e.serverCache);v!=null?f=n.filter.updateChild(c.getNode(),m,v,_,o,l):f=c.getNode()}}return Hs(e,f,c.isFullyInitialized()||de(t),n.filter.filtersNodes())}}function ml(n,e,t,s,o,l,c,f){const h=e.serverCache;let m;const _=c?n.filter:n.filter.getIndexedFilter();if(de(t))m=_.updateFullNode(h.getNode(),s,null);else if(_.filtersNodes()&&!h.isFiltered()){const I=h.getNode().updateChild(t,s);m=_.updateFullNode(h.getNode(),I,null)}else{const I=fe(t);if(!h.isCompleteForPath(t)&&cr(t)>1)return e;const C=Te(t),A=h.getNode().getImmediateChild(I).updateChild(C,s);I===".priority"?m=_.updatePriority(h.getNode(),A):m=_.updateChild(h.getNode(),I,A,C,Zy,null)}const v=Ky(e,m,h.isFullyInitialized()||de(t),_.filtersNodes()),y=new wf(o,v,l);return ev(n,v,t,o,y,f)}function Fd(n,e,t,s,o,l,c){const f=e.eventCache;let h,m;const _=new wf(o,e,l);if(de(t))m=n.filter.updateFullNode(e.eventCache.getNode(),s,c),h=Hs(e,m,!0,n.filter.filtersNodes());else{const v=fe(t);if(v===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),s),h=Hs(e,m,f.isFullyInitialized(),f.isFiltered());else{const y=Te(t),I=f.getNode().getImmediateChild(v);let C;if(de(y))C=s;else{const x=_.getCompleteChild(v);x!=null?Dy(y)===".priority"&&x.getChild(My(y)).isEmpty()?C=x:C=x.updateChild(y,s):C=re.EMPTY_NODE}if(I.equals(C))h=e;else{const x=n.filter.updateChild(f.getNode(),v,C,y,_,c);h=Hs(e,x,f.isFullyInitialized(),n.filter.filtersNodes())}}}return h}function Jg(n,e){return n.eventCache.isCompleteForChild(e)}function S0(n,e,t,s,o,l,c){let f=e;return s.foreach((h,m)=>{const _=He(t,h);Jg(e,fe(_))&&(f=Fd(n,f,_,m,o,l,c))}),s.foreach((h,m)=>{const _=He(t,h);Jg(e,fe(_))||(f=Fd(n,f,_,m,o,l,c))}),f}function Xg(n,e,t){return t.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function Ud(n,e,t,s,o,l,c,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,m;de(t)?m=s:m=new Ne(null).setTree(t,s);const _=e.serverCache.getNode();return m.children.inorderTraversal((v,y)=>{if(_.hasChild(v)){const I=e.serverCache.getNode().getImmediateChild(v),C=Xg(n,I,y);h=ml(n,h,new Ce(v),C,o,l,c,f)}}),m.children.inorderTraversal((v,y)=>{const I=!e.serverCache.isCompleteForChild(v)&&y.value===null;if(!_.hasChild(v)&&!I){const C=e.serverCache.getNode().getImmediateChild(v),x=Xg(n,C,y);h=ml(n,h,new Ce(v),x,o,l,c,f)}}),h}function C0(n,e,t,s,o,l,c){if(pl(o,t)!=null)return e;const f=e.serverCache.isFiltered(),h=e.serverCache;if(s.value!=null){if(de(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return ml(n,e,t,h.getNode().getChild(t),o,l,f,c);if(de(t)){let m=new Ne(null);return h.getNode().forEachChild(Ci,(_,v)=>{m=m.set(new Ce(_),v)}),Ud(n,e,t,m,o,l,f,c)}else return e}else{let m=new Ne(null);return s.foreach((_,v)=>{const y=He(t,_);h.isCompleteForPath(y)&&(m=m.set(_,h.getNode().getChild(y)))}),Ud(n,e,t,m,o,l,f,c)}}function I0(n,e,t,s,o){const l=e.serverCache,c=Ky(e,l.getNode(),l.isFullyInitialized()||de(t),l.isFiltered());return ev(n,c,t,s,Zy,o)}function k0(n,e,t,s,o,l){let c;if(pl(s,t)!=null)return e;{const f=new wf(s,e,o),h=e.eventCache.getNode();let m;if(de(t)||fe(t)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=hl(s,Br(e));else{const v=e.serverCache.getNode();z(v instanceof re,"serverChildren would be complete if leaf node"),_=yf(s,v)}_=_,m=n.filter.updateFullNode(h,_,l)}else{const _=fe(t);let v=vf(s,_,e.serverCache);v==null&&e.serverCache.isCompleteForChild(_)&&(v=h.getImmediateChild(_)),v!=null?m=n.filter.updateChild(h,_,v,Te(t),f,l):e.eventCache.getNode().hasChild(_)?m=n.filter.updateChild(h,_,re.EMPTY_NODE,Te(t),f,l):m=h,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=hl(s,Br(e)),c.isLeafNode()&&(m=n.filter.updateFullNode(m,c,l)))}return c=e.serverCache.isFullyInitialized()||pl(s,ye())!=null,Hs(e,m,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new pf(s.getIndex()),l=VT(s);this.processor_=y0(l);const c=t.serverCache,f=t.eventCache,h=o.updateFullNode(re.EMPTY_NODE,c.getNode(),null),m=l.updateFullNode(re.EMPTY_NODE,f.getNode(),null),_=new dr(h,c.isFullyInitialized(),o.filtersNodes()),v=new dr(m,f.isFullyInitialized(),l.filtersNodes());this.viewCache_=Dl(v,_),this.eventGenerator_=new XT(this.query_)}get query(){return this.query_}}function R0(n){return n.viewCache_.serverCache.getNode()}function P0(n){return fl(n.viewCache_)}function N0(n,e){const t=Br(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!de(e)&&!t.getImmediateChild(fe(e)).isEmpty())?t.getChild(e):null}function Zg(n){return n.eventRegistrations_.length===0}function x0(n,e){n.eventRegistrations_.push(e)}function e_(n,e,t){const s=[];if(t){z(e==null,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const c=l.createCancelEvent(t,o);c&&s.push(c)})}if(e){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const c=n.eventRegistrations_[l];if(!c.matches(e))o.push(c);else if(e.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}n.eventRegistrations_=o}else n.eventRegistrations_=[];return s}function t_(n,e,t,s){e.type===Kt.MERGE&&e.source.queryId!==null&&(z(Br(n.viewCache_),"We should always have a full cache before handling merges"),z(fl(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=w0(n.processor_,o,e,t,s);return v0(n.processor_,l.viewCache),z(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,tv(n,l.changes,l.viewCache.eventCache.getNode(),null)}function A0(n,e){const t=n.viewCache_.eventCache,s=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Fe,(l,c)=>{s.push(Ai(l,c))}),t.isFullyInitialized()&&s.push(Hy(t.getNode())),tv(n,s,t.getNode(),e)}function tv(n,e,t,s){const o=s?[s]:n.eventRegistrations_;return ZT(n.eventGenerator_,e,t,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl;class nv{constructor(){this.views=new Map}}function O0(n){z(!gl,"__referenceConstructor has already been defined"),gl=n}function b0(){return z(gl,"Reference.ts has not been loaded"),gl}function D0(n){return n.views.size===0}function Ef(n,e,t,s){const o=e.source.queryId;if(o!==null){const l=n.views.get(o);return z(l!=null,"SyncTree gave us an op for an invalid query."),t_(l,e,t,s)}else{let l=[];for(const c of n.views.values())l=l.concat(t_(c,e,t,s));return l}}function rv(n,e,t,s,o){const l=e._queryIdentifier,c=n.views.get(l);if(!c){let f=hl(t,o?s:null),h=!1;f?h=!0:s instanceof re?(f=yf(t,s),h=!1):(f=re.EMPTY_NODE,h=!1);const m=Dl(new dr(f,h,!1),new dr(s,o,!1));return new T0(e,m)}return c}function L0(n,e,t,s,o,l){const c=rv(n,e,s,o,l);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),x0(c,t),A0(c,t)}function M0(n,e,t,s){const o=e._queryIdentifier,l=[];let c=[];const f=fr(n);if(o==="default")for(const[h,m]of n.views.entries())c=c.concat(e_(m,t,s)),Zg(m)&&(n.views.delete(h),m.query._queryParams.loadsAllData()||l.push(m.query));else{const h=n.views.get(o);h&&(c=c.concat(e_(h,t,s)),Zg(h)&&(n.views.delete(o),h.query._queryParams.loadsAllData()||l.push(h.query)))}return f&&!fr(n)&&l.push(new(b0())(e._repo,e._path)),{removed:l,events:c}}function iv(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ar(n,e){let t=null;for(const s of n.views.values())t=t||N0(s,e);return t}function sv(n,e){if(e._queryParams.loadsAllData())return Ml(n);{const s=e._queryIdentifier;return n.views.get(s)}}function ov(n,e){return sv(n,e)!=null}function fr(n){return Ml(n)!=null}function Ml(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l;function F0(n){z(!_l,"__referenceConstructor has already been defined"),_l=n}function U0(){return z(_l,"Reference.ts has not been loaded"),_l}let z0=1;class n_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=p0(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function av(n,e,t,s,o){return r0(n.pendingWriteTree_,e,t,s,o),o?yo(n,new $r(Gy(),e,t)):[]}function Mr(n,e,t=!1){const s=i0(n.pendingWriteTree_,e);if(s0(n.pendingWriteTree_,e)){let l=new Ne(null);return s.snap!=null?l=l.set(ye(),!0):vt(s.children,c=>{l=l.set(new Ce(c),!0)}),yo(n,new dl(s.path,l,t))}else return[]}function _o(n,e,t){return yo(n,new $r(gf(),e,t))}function j0(n,e,t){const s=Ne.fromObject(t);return yo(n,new ro(gf(),e,s))}function W0(n,e){return yo(n,new no(gf(),e))}function $0(n,e,t){const s=Cf(n,t);if(s){const o=If(s),l=o.path,c=o.queryId,f=lt(l,e),h=new no(_f(c),f);return kf(n,l,h)}else return[]}function lv(n,e,t,s,o=!1){const l=e._path,c=n.syncPointTree_.get(l);let f=[];if(c&&(e._queryIdentifier==="default"||ov(c,e))){const h=M0(c,e,t,s);D0(c)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const m=h.removed;if(f=h.events,!o){const _=m.findIndex(y=>y._queryParams.loadsAllData())!==-1,v=n.syncPointTree_.findOnPath(l,(y,I)=>fr(I));if(_&&!v){const y=n.syncPointTree_.subtree(l);if(!y.isEmpty()){const I=G0(y);for(let C=0;C<I.length;++C){const x=I[C],A=x.query,O=fv(n,x);n.listenProvider_.startListening(Gs(A),io(n,A),O.hashFn,O.onComplete)}}}!v&&m.length>0&&!s&&(_?n.listenProvider_.stopListening(Gs(e),null):m.forEach(y=>{const I=n.queryToTagMap.get(Fl(y));n.listenProvider_.stopListening(Gs(y),I)}))}K0(n,m)}return f}function uv(n,e,t,s){const o=Cf(n,s);if(o!=null){const l=If(o),c=l.path,f=l.queryId,h=lt(c,e),m=new $r(_f(f),h,t);return kf(n,c,m)}else return[]}function B0(n,e,t,s){const o=Cf(n,s);if(o){const l=If(o),c=l.path,f=l.queryId,h=lt(c,e),m=Ne.fromObject(t),_=new ro(_f(f),h,m);return kf(n,c,_)}else return[]}function H0(n,e,t,s=!1){const o=e._path;let l=null,c=!1;n.syncPointTree_.foreachOnPath(o,(y,I)=>{const C=lt(y,o);l=l||ar(I,C),c=c||fr(I)});let f=n.syncPointTree_.get(o);f?(c=c||fr(f),l=l||ar(f,ye())):(f=new nv,n.syncPointTree_=n.syncPointTree_.set(o,f));let h;l!=null?h=!0:(h=!1,l=re.EMPTY_NODE,n.syncPointTree_.subtree(o).foreachChild((I,C)=>{const x=ar(C,ye());x&&(l=l.updateImmediateChild(I,x))}));const m=ov(f,e);if(!m&&!e._queryParams.loadsAllData()){const y=Fl(e);z(!n.queryToTagMap.has(y),"View does not exist, but we have a tag");const I=q0();n.queryToTagMap.set(y,I),n.tagToQueryMap.set(I,y)}const _=Ll(n.pendingWriteTree_,o);let v=L0(f,e,t,_,l,h);if(!m&&!c&&!s){const y=sv(f,e);v=v.concat(Q0(n,e,y))}return v}function Sf(n,e,t){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(e,(c,f)=>{const h=lt(c,e),m=ar(f,h);if(m)return m});return Yy(o,e,l,t,!0)}function V0(n,e){const t=e._path;let s=null;n.syncPointTree_.foreachOnPath(t,(m,_)=>{const v=lt(m,t);s=s||ar(_,v)});let o=n.syncPointTree_.get(t);o?s=s||ar(o,ye()):(o=new nv,n.syncPointTree_=n.syncPointTree_.set(t,o));const l=s!=null,c=l?new dr(s,!0,!1):null,f=Ll(n.pendingWriteTree_,e._path),h=rv(o,e,f,l?c.getNode():re.EMPTY_NODE,l);return P0(h)}function yo(n,e){return cv(e,n.syncPointTree_,null,Ll(n.pendingWriteTree_,ye()))}function cv(n,e,t,s){if(de(n.path))return dv(n,e,t,s);{const o=e.get(ye());t==null&&o!=null&&(t=ar(o,ye()));let l=[];const c=fe(n.path),f=n.operationForChild(c),h=e.children.get(c);if(h&&f){const m=t?t.getImmediateChild(c):null,_=Jy(s,c);l=l.concat(cv(f,h,m,_))}return o&&(l=l.concat(Ef(o,n,s,t))),l}}function dv(n,e,t,s){const o=e.get(ye());t==null&&o!=null&&(t=ar(o,ye()));let l=[];return e.children.inorderTraversal((c,f)=>{const h=t?t.getImmediateChild(c):null,m=Jy(s,c),_=n.operationForChild(c);_&&(l=l.concat(dv(_,f,h,m)))}),o&&(l=l.concat(Ef(o,n,s,t))),l}function fv(n,e){const t=e.query,s=io(n,t);return{hashFn:()=>(R0(e)||re.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?$0(n,t._path,s):W0(n,t._path);{const l=Hk(o,t);return lv(n,t,null,l)}}}}function io(n,e){const t=Fl(e);return n.queryToTagMap.get(t)}function Fl(n){return n._path.toString()+"$"+n._queryIdentifier}function Cf(n,e){return n.tagToQueryMap.get(e)}function If(n){const e=n.indexOf("$");return z(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ce(n.substr(0,e))}}function kf(n,e,t){const s=n.syncPointTree_.get(e);z(s,"Missing sync point for query tag that we're tracking");const o=Ll(n.pendingWriteTree_,e);return Ef(s,t,o,null)}function G0(n){return n.fold((e,t,s)=>{if(t&&fr(t))return[Ml(t)];{let o=[];return t&&(o=iv(t)),vt(s,(l,c)=>{o=o.concat(c)}),o}})}function Gs(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(U0())(n._repo,n._path):n}function K0(n,e){for(let t=0;t<e.length;++t){const s=e[t];if(!s._queryParams.loadsAllData()){const o=Fl(s),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}function q0(){return z0++}function Q0(n,e,t){const s=e._path,o=io(n,e),l=fv(n,t),c=n.listenProvider_.startListening(Gs(e),o,l.hashFn,l.onComplete),f=n.syncPointTree_.subtree(s);if(o)z(!fr(f.value),"If we're adding a query, it shouldn't be shadowed");else{const h=f.fold((m,_,v)=>{if(!de(m)&&_&&fr(_))return[Ml(_).query];{let y=[];return _&&(y=y.concat(iv(_).map(I=>I.query))),vt(v,(I,C)=>{y=y.concat(C)}),y}});for(let m=0;m<h.length;++m){const _=h[m];n.listenProvider_.stopListening(Gs(_),io(n,_))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Tf(t)}node(){return this.node_}}class Rf{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=He(this.path_,e);return new Rf(this.syncTree_,t)}node(){return Sf(this.syncTree_,this.path_)}}const Y0=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},r_=function(n,e,t){if(!n||typeof n!="object")return n;if(z(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return J0(n[".sv"],e,t);if(typeof n[".sv"]=="object")return X0(n[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},J0=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:z(!1,"Unexpected server value: "+n)}},X0=function(n,e,t){n.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&z(!1,"Unexpected increment value: "+s);const o=e.node();if(z(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const c=o.getValue();return typeof c!="number"?s:c+s},Z0=function(n,e,t,s){return Pf(e,new Rf(t,n),s)},hv=function(n,e,t){return Pf(n,new Tf(e),t)};function Pf(n,e,t){const s=n.getPriority().val(),o=r_(s,e.getImmediateChild(".priority"),t);let l;if(n.isLeafNode()){const c=n,f=r_(c.getValue(),e,t);return f!==c.getValue()||o!==c.getPriority().val()?new qe(f,Ye(o)):n}else{const c=n;return l=c,o!==c.getPriority().val()&&(l=l.updatePriority(new qe(o))),c.forEachChild(Fe,(f,h)=>{const m=Pf(h,e.getImmediateChild(f),t);m!==h&&(l=l.updateImmediateChild(f,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e="",t=null,s={children:{},childCount:0}){this.name=e,this.parent=t,this.node=s}}function xf(n,e){let t=e instanceof Ce?e:new Ce(e),s=n,o=fe(t);for(;o!==null;){const l=Pi(s.node.children,o)||{children:{},childCount:0};s=new Nf(o,s,l),t=Te(t),o=fe(t)}return s}function Ui(n){return n.node.value}function pv(n,e){n.node.value=e,zd(n)}function mv(n){return n.node.childCount>0}function e1(n){return Ui(n)===void 0&&!mv(n)}function Ul(n,e){vt(n.node.children,(t,s)=>{e(new Nf(t,n,s))})}function gv(n,e,t,s){t&&e(n),Ul(n,o=>{gv(o,e,!0)})}function t1(n,e,t){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function vo(n){return new Ce(n.parent===null?n.name:vo(n.parent)+"/"+n.name)}function zd(n){n.parent!==null&&n1(n.parent,n.name,n)}function n1(n,e,t){const s=e1(t),o=An(n.node.children,e);s&&o?(delete n.node.children[e],n.node.childCount--,zd(n)):!s&&!o&&(n.node.children[e]=t.node,n.node.childCount++,zd(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=/[\[\].#$\/\u0000-\u001F\u007F]/,i1=/[\[\].#$\u0000-\u001F\u007F]/,fd=10*1024*1024,_v=function(n){return typeof n=="string"&&n.length!==0&&!r1.test(n)},yv=function(n){return typeof n=="string"&&n.length!==0&&!i1.test(n)},s1=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yv(n)},vv=function(n,e,t,s){s&&e===void 0||Af(rf(n,"value"),e,t)},Af=function(n,e,t){const s=t instanceof Ce?new CT(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Or(s));if(typeof e=="function")throw new Error(n+"contains a function "+Or(s)+" with contents = "+e.toString());if(hy(e))throw new Error(n+"contains "+e.toString()+" "+Or(s));if(typeof e=="string"&&e.length>fd/3&&Ol(e)>fd)throw new Error(n+"contains a string greater than "+fd+" utf8 bytes "+Or(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(vt(e,(c,f)=>{if(c===".value")o=!0;else if(c!==".priority"&&c!==".sv"&&(l=!0,!_v(c)))throw new Error(n+" contains an invalid key ("+c+") "+Or(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);IT(s,c),Af(n,f,s),kT(s)}),o&&l)throw new Error(n+' contains ".value" child '+Or(s)+" in addition to actual children.")}},wv=function(n,e,t,s){if(!yv(t))throw new Error(rf(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},o1=function(n,e,t,s){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wv(n,e,t)},Ev=function(n,e){if(fe(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},a1=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_v(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!s1(t))throw new Error(rf(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sv(n,e){let t=null;for(let s=0;s<e.length;s++){const o=e[s],l=o.getPath();t!==null&&!Fy(l,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:l}),t.events.push(o)}t&&n.eventLists_.push(t)}function un(n,e,t){Sv(n,t),u1(n,s=>Gt(s,e)||Gt(e,s))}function u1(n,e){n.recursionDepth_++;let t=!0;for(let s=0;s<n.eventLists_.length;s++){const o=n.eventLists_[s];if(o){const l=o.path;e(l)?(c1(n.eventLists_[s]),n.eventLists_[s]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function c1(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const s=t.getEventRunner();$s&&it("event: "+t.toString()),Fi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="repo_interrupt",f1=25;class h1{constructor(e,t,s,o){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new l1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cl(),this.transactionQueueTree_=new Nf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function p1(n,e,t){if(n.stats_=cf(n.repoInfo_),n.forceRestClient_||qk())n.server_=new ul(n.repoInfo_,(s,o,l,c)=>{i_(n,s,o,l,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>s_(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(t)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Cn(n.repoInfo_,e,(s,o,l,c)=>{i_(n,s,o,l,c)},s=>{s_(n,s)},s=>{m1(n,s)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=Zk(n.repoInfo_,()=>new JT(n.stats_,n.server_)),n.infoData_=new GT,n.infoSyncTree_=new n_({startListening:(s,o,l,c)=>{let f=[];const h=n.infoData_.getNode(s._path);return h.isEmpty()||(f=_o(n.infoSyncTree_,s._path,h),setTimeout(()=>{c("ok")},0)),f},stopListening:()=>{}}),bf(n,"connected",!1),n.serverSyncTree_=new n_({startListening:(s,o,l,c)=>(n.server_.listen(s,l,o,(f,h)=>{const m=c(f,h);un(n.eventQueue_,s._path,m)}),[]),stopListening:(s,o)=>{n.server_.unlisten(s,o)}})}function Cv(n){const t=n.infoData_.getNode(new Ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function Of(n){return Y0({timestamp:Cv(n)})}function i_(n,e,t,s,o){n.dataUpdateCount++;const l=new Ce(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(o)if(s){const h=il(t,m=>Ye(m));c=B0(n.serverSyncTree_,l,h,o)}else{const h=Ye(t);c=uv(n.serverSyncTree_,l,h,o)}else if(s){const h=il(t,m=>Ye(m));c=j0(n.serverSyncTree_,l,h)}else{const h=Ye(t);c=_o(n.serverSyncTree_,l,h)}let f=l;c.length>0&&(f=jl(n,l)),un(n.eventQueue_,f,c)}function s_(n,e){bf(n,"connected",e),e===!1&&y1(n)}function m1(n,e){vt(e,(t,s)=>{bf(n,t,s)})}function bf(n,e,t){const s=new Ce("/.info/"+e),o=Ye(t);n.infoData_.updateSnapshot(s,o);const l=_o(n.infoSyncTree_,s,o);un(n.eventQueue_,s,l)}function Iv(n){return n.nextWriteId_++}function g1(n,e,t){const s=V0(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(o=>{const l=Ye(o).withIndex(e._queryParams.getIndex());H0(n.serverSyncTree_,e,t,!0);let c;if(e._queryParams.loadsAllData())c=_o(n.serverSyncTree_,e._path,l);else{const f=io(n.serverSyncTree_,e);c=uv(n.serverSyncTree_,e._path,l,f)}return un(n.eventQueue_,e._path,c),lv(n.serverSyncTree_,e,t,null,!0),l},o=>(zl(n,"get for query "+Be(e)+" failed: "+o),Promise.reject(new Error(o))))}function _1(n,e,t,s,o){zl(n,"set",{path:e.toString(),value:t,priority:s});const l=Of(n),c=Ye(t,s),f=Sf(n.serverSyncTree_,e),h=hv(c,f,l),m=Iv(n),_=av(n.serverSyncTree_,e,h,m,!0);Sv(n.eventQueue_,_),n.server_.put(e.toString(),c.val(!0),(y,I)=>{const C=y==="ok";C||yt("set at "+e+" failed: "+y);const x=Mr(n.serverSyncTree_,m,!C);un(n.eventQueue_,e,x),w1(n,o,y,I)});const v=Nv(n,e);jl(n,v),un(n.eventQueue_,v,[])}function y1(n){zl(n,"onDisconnectEvents");const e=Of(n),t=cl();Dd(n.onDisconnect_,ye(),(o,l)=>{const c=Z0(o,l,n.serverSyncTree_,e);Vy(t,o,c)});let s=[];Dd(t,ye(),(o,l)=>{s=s.concat(_o(n.serverSyncTree_,o,l));const c=Nv(n,o);jl(n,c)}),n.onDisconnect_=cl(),un(n.eventQueue_,ye(),s)}function v1(n){n.persistentConnection_&&n.persistentConnection_.interrupt(d1)}function zl(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),it(t,...e)}function w1(n,e,t,s){e&&Fi(()=>{if(t==="ok")e(null);else{const o=(t||"error").toUpperCase();let l=o;s&&(l+=": "+s);const c=new Error(l);c.code=o,e(c)}})}function kv(n,e,t){return Sf(n.serverSyncTree_,e,t)||re.EMPTY_NODE}function Df(n,e=n.transactionQueueTree_){if(e||Wl(n,e),Ui(e)){const t=Rv(n,e);z(t.length>0,"Sending zero length transaction queue"),t.every(o=>o.status===0)&&E1(n,vo(e),t)}else mv(e)&&Ul(e,t=>{Df(n,t)})}function E1(n,e,t){const s=t.map(m=>m.currentWriteId),o=kv(n,e,s);let l=o;const c=o.hash();for(let m=0;m<t.length;m++){const _=t[m];z(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const v=lt(e,_.path);l=l.updateChild(v,_.currentOutputSnapshotRaw)}const f=l.val(!0),h=e;n.server_.put(h.toString(),f,m=>{zl(n,"transaction put response",{path:h.toString(),status:m});let _=[];if(m==="ok"){const v=[];for(let y=0;y<t.length;y++)t[y].status=2,_=_.concat(Mr(n.serverSyncTree_,t[y].currentWriteId)),t[y].onComplete&&v.push(()=>t[y].onComplete(null,!0,t[y].currentOutputSnapshotResolved)),t[y].unwatcher();Wl(n,xf(n.transactionQueueTree_,e)),Df(n,n.transactionQueueTree_),un(n.eventQueue_,e,_);for(let y=0;y<v.length;y++)Fi(v[y])}else{if(m==="datastale")for(let v=0;v<t.length;v++)t[v].status===3?t[v].status=4:t[v].status=0;else{yt("transaction at "+h.toString()+" failed: "+m);for(let v=0;v<t.length;v++)t[v].status=4,t[v].abortReason=m}jl(n,e)}},c)}function jl(n,e){const t=Tv(n,e),s=vo(t),o=Rv(n,t);return S1(n,o,s),s}function S1(n,e,t){if(e.length===0)return;const s=[];let o=[];const c=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const h=e[f],m=lt(t,h.path);let _=!1,v;if(z(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)_=!0,v=h.abortReason,o=o.concat(Mr(n.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=f1)_=!0,v="maxretry",o=o.concat(Mr(n.serverSyncTree_,h.currentWriteId,!0));else{const y=kv(n,h.path,c);h.currentInputSnapshot=y;const I=e[f].update(y.val());if(I!==void 0){Af("transaction failed: Data returned ",I,h.path);let C=Ye(I);typeof I=="object"&&I!=null&&An(I,".priority")||(C=C.updatePriority(y.getPriority()));const A=h.currentWriteId,O=Of(n),F=hv(C,y,O);h.currentOutputSnapshotRaw=C,h.currentOutputSnapshotResolved=F,h.currentWriteId=Iv(n),c.splice(c.indexOf(A),1),o=o.concat(av(n.serverSyncTree_,h.path,F,h.currentWriteId,h.applyLocally)),o=o.concat(Mr(n.serverSyncTree_,A,!0))}else _=!0,v="nodata",o=o.concat(Mr(n.serverSyncTree_,h.currentWriteId,!0))}un(n.eventQueue_,t,o),o=[],_&&(e[f].status=2,function(y){setTimeout(y,Math.floor(0))}(e[f].unwatcher),e[f].onComplete&&(v==="nodata"?s.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):s.push(()=>e[f].onComplete(new Error(v),!1,null))))}Wl(n,n.transactionQueueTree_);for(let f=0;f<s.length;f++)Fi(s[f]);Df(n,n.transactionQueueTree_)}function Tv(n,e){let t,s=n.transactionQueueTree_;for(t=fe(e);t!==null&&Ui(s)===void 0;)s=xf(s,t),e=Te(e),t=fe(e);return s}function Rv(n,e){const t=[];return Pv(n,e,t),t.sort((s,o)=>s.order-o.order),t}function Pv(n,e,t){const s=Ui(e);if(s)for(let o=0;o<s.length;o++)t.push(s[o]);Ul(e,o=>{Pv(n,o,t)})}function Wl(n,e){const t=Ui(e);if(t){let s=0;for(let o=0;o<t.length;o++)t[o].status!==2&&(t[s]=t[o],s++);t.length=s,pv(e,t.length>0?t:void 0)}Ul(e,s=>{Wl(n,s)})}function Nv(n,e){const t=vo(Tv(n,e)),s=xf(n.transactionQueueTree_,e);return t1(s,o=>{hd(n,o)}),hd(n,s),gv(s,o=>{hd(n,o)}),t}function hd(n,e){const t=Ui(e);if(t){const s=[];let o=[],l=-1;for(let c=0;c<t.length;c++)t[c].status===3||(t[c].status===1?(z(l===c-1,"All SENT items should be at beginning of queue."),l=c,t[c].status=3,t[c].abortReason="set"):(z(t[c].status===0,"Unexpected transaction status in abort"),t[c].unwatcher(),o=o.concat(Mr(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&s.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));l===-1?pv(e,void 0):t.length=l+1,un(n.eventQueue_,vo(e),o);for(let c=0;c<s.length;c++)Fi(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(n){let e="";const t=n.split("/");for(let s=0;s<t.length;s++)if(t[s].length>0){let o=t[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function I1(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const s=t.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):yt(`Invalid query segment '${t}' in query '${n}'`)}return e}const o_=function(n,e){const t=k1(n),s=t.namespace;t.domain==="firebase.com"&&Pn(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&t.domain!=="localhost"&&Pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||zk();const o=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new ky(t.host,t.secure,s,o,e,"",s!==t.subdomain),path:new Ce(t.pathString)}},k1=function(n){let e="",t="",s="",o="",l="",c=!0,f="https",h=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(f=n.substring(0,m-1),n=n.substring(m+2));let _=n.indexOf("/");_===-1&&(_=n.length);let v=n.indexOf("?");v===-1&&(v=n.length),e=n.substring(0,Math.min(_,v)),_<v&&(o=C1(n.substring(_,v)));const y=I1(n.substring(Math.min(n.length,v)));m=e.indexOf(":"),m>=0?(c=f==="https"||f==="wss",h=parseInt(e.substring(m+1),10)):m=e.length;const I=e.slice(0,m);if(I.toLowerCase()==="localhost")t="localhost";else if(I.split(".").length<=2)t=I;else{const C=e.indexOf(".");s=e.substring(0,C).toLowerCase(),t=e.substring(C+1),l=s}"ns"in y&&(l=y.ns)}return{host:e,port:h,domain:t,subdomain:s,secure:c,scheme:f,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",T1=function(){let n=0;const e=[];return function(t){const s=t===n;n=t;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=a_.charAt(t%64),t=Math.floor(t/64);z(t===0,"Cannot push at time == 0");let c=l.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)c+=a_.charAt(e[o]);return z(c.length===20,"nextPushId: Length should be 20."),c}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t,s,o){this.eventType=e,this.eventRegistration=t,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class P1{constructor(e,t,s){this.eventRegistration=e,this.error=t,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,s,o){this._repo=e,this._path=t,this._queryParams=s,this._orderByCalled=o}get key(){return de(this._path)?null:Dy(this._path)}get ref(){return new On(this._repo,this._path)}get _queryIdentifier(){const e=Vg(this._queryParams),t=lf(e);return t==="{}"?"default":t}get _queryObject(){return Vg(this._queryParams)}isEqual(e){if(e=st(e),!(e instanceof Lf))return!1;const t=this._repo===e._repo,s=Fy(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return t&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+ST(this._path)}}class On extends Lf{constructor(e,t){super(e,t,new mf,!1)}get parent(){const e=My(this._path);return e===null?null:new On(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class so{constructor(e,t,s){this._node=e,this.ref=t,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ce(e),s=oo(this.ref,e);return new so(this._node.getChild(t),s,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new so(o,oo(this.ref,s),Fe)))}hasChild(e){const t=new Ce(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jd(n,e){return n=st(n),n._checkNotDeleted("ref"),e!==void 0?oo(n._root,e):n._root}function oo(n,e){return n=st(n),fe(n._path)===null?o1("child","path",e):wv("child","path",e),new On(n._repo,He(n._path,e))}function x1(n,e){n=st(n),Ev("push",n._path),vv("push",e,n._path,!0);const t=Cv(n._repo),s=T1(t),o=oo(n,s),l=oo(n,s);let c;return e!=null?c=xv(l,e).then(()=>l):c=Promise.resolve(l),o.then=c.then.bind(c),o.catch=c.then.bind(c,void 0),o}function xv(n,e){n=st(n),Ev("set",n._path),vv("set",e,n._path,!1);const t=new Al;return _1(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function A1(n){n=st(n);const e=new N1(()=>{}),t=new Mf(e);return g1(n._repo,n,t).then(s=>new so(s,new On(n._repo,n._path),n._queryParams.getIndex()))}class Mf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const s=t._queryParams.getIndex();return new R1("value",this,new so(e.snapshotNode,new On(t._repo,t._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new P1(this,e,t):null}matches(e){return e instanceof Mf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}O0(On);F0(On);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="FIREBASE_DATABASE_EMULATOR_HOST",Wd={};let b1=!1;function D1(n,e,t,s){const o=e.lastIndexOf(":"),l=e.substring(0,o),c=fo(l);n.repoInfo_=new ky(e,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),s&&(n.authTokenProvider_=s)}function L1(n,e,t,s,o){let l=s||n.options.databaseURL;l===void 0&&(n.options.projectId||Pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),it("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=o_(l,o),f=c.repoInfo,h;typeof process<"u"&&Rg&&(h=Rg[O1]),h?(l=`http://${h}?ns=${f.namespace}`,c=o_(l,o),f=c.repoInfo):c.repoInfo.secure;const m=new Yk(n.name,n.options,e);a1("Invalid Firebase Database URL",c),de(c.path)||Pn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=F1(f,n,m,new Qk(n,t));return new U1(_,n)}function M1(n,e){const t=Wd[e];(!t||t[n.key]!==n)&&Pn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),v1(n),delete t[n.key]}function F1(n,e,t,s){let o=Wd[e.name];o||(o={},Wd[e.name]=o);let l=o[n.toURLString()];return l&&Pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new h1(n,b1,t,s),o[n.toURLString()]=l,l}class U1{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(p1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new On(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(M1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pn("Cannot call "+e+" on a deleted database.")}}function z1(n=ay(),e){const t=af(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const s=rI("database");s&&j1(t,...s)}return t}function j1(n,e,t,s={}){n=st(n),n._checkNotDeleted("useEmulator");const o=`${e}:${t}`,l=n._repoInternal;if(n._instanceStarted){if(o===n._repoInternal.repoInfo_.host&&zr(s,l.repoInfo_.emulatorOptions))return;Pn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(l.repoInfo_.nodeAdmin)s.mockUserToken&&Pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Ba(Ba.OWNER);else if(s.mockUserToken){const f=typeof s.mockUserToken=="string"?s.mockUserToken:iI(s.mockUserToken,n.app.options.projectId);c=new Ba(f)}fo(e)&&(ey(e),ty("Database",!0)),D1(l,o,s,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(n){bk(Li),Ni(new jr("database",(e,{instanceIdentifier:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return L1(s,o,l,t)},"PUBLIC").setMultipleInstances(!0)),sr(Pg,Ng,n),sr(Pg,Ng,"esm2017")}Cn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Cn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};W1();const $1={apiKey:"AIzaSyByEzW7hysytxGDFOwvNTFIQw_L_me6Chk",authDomain:"foodapp-firebase-eb849.firebaseapp.com",databaseURL:"https://foodapp-firebase-eb849-default-rtdb.firebaseio.com/",projectId:"foodapp-firebase-eb849",storageBucket:"foodapp-firebase-eb849.firebasestorage.app",messagingSenderId:"407774276644",appId:"1:407774276644:web:20d23e4bf254ccb75ffcb1"},Av=oy($1),$d=z1(Av);class B1{constructor(e="debug"){vi(this,"levels");vi(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel=e,this.currentLevel="info"}setLevel(e){this.levels.includes(e)?this.currentLevel=e:console.error(`[LOGGER] Nivel de log no válido: ${e}. Usando nivel actual: ${this.currentLevel}`)}log(e,t,s){const o=this.levels.indexOf(e),l=this.levels.indexOf(this.currentLevel);if(o>=l){const c=new Date().toISOString(),f=`[${e.toUpperCase()}] ${c}: ${t}`;s?console[e](f,s):console[e](f)}}debug(e,t){this.log("debug",e,t)}info(e,t){this.log("info",e,t)}warn(e,t){this.log("warn",e,t)}error(e,t,s){let o=e;t instanceof Error?o+=` - Error: ${t.message}${t.stack?`
Stack: ${t.stack}`:""}`:t&&(o+=` - Details: ${JSON.stringify(t)}`),this.log("error",o,s)}}const oe=new B1("debug"),H1=[{id:1,name:"Hamburguesa de Pollo",quantity:40,desc:"Jugosa hamburguesa de pollo, acompañada de frescos vegetales de temporada y tus salsas favoritas.",price:30,image:"cb.png"},{id:2,name:"Patatas Fritas",quantity:40,desc:"Nuestras patatas fritas doradas y perfectamente crujientes, servidas en una generosa porción.",price:15,image:"chips.png"},{id:3,name:"Hamburguesas Vegetarianas",quantity:40,desc:"Deliciosa hamburguesa a base de plantas, repleta de sabor y textura.",price:20,image:"hv.png"},{id:4,name:"Helado",quantity:40,desc:"Refrescante y cremoso helado, disponible en una variedad de sabores clásicos y sorprendentes.",price:5,image:"ice.png"}],V1={items:H1,status:"idle",error:null,lastOrderStatus:"idle",lastOrderError:null},Ha=LC("menu/submitOrder",async({food:n,orderedQuantity:e},{dispatch:t,rejectWithValue:s,getState:o})=>{oe.info(`Thunk: submitOrderAndDecreaseStock para ${n.name} x ${e}`);const l={menuItemId:n.id,name:n.name,quantity:e,unitPrice:n.price,totalPrice:n.price*e},c={items:[l],orderTotal:l.totalPrice,timestamp:new Date().toISOString()};try{const f=jd($d,"orders"),h=await x1(f,c);if(!h.key)throw new Error("No se pudo obtener el ID del nuevo pedido de Firebase.");oe.info("Thunk: Pedido guardado en Firebase",{orderId:h.key}),t(G1({itemId:n.id,quantityToRemove:e}));const m=o().menu.items.find(_=>_.id===n.id);if(!m)throw new Error("Item no encontrado en el estado después de actualizar stock");return{updatedItem:m,orderId:h.key}}catch(f){return oe.error("Thunk: Error al guardar pedido en Firebase",f),s(f.message||"Error desconocido al enviar el pedido")}}),Ov=$C({name:"menu",initialState:V1,reducers:{decreaseStock:(n,e)=>{const{itemId:t,quantityToRemove:s}=e.payload,o=n.items.find(l=>l.id===t);if(o){oe.debug(`Reducer: Decrementando stock para ${o.name}`,{oldQty:o.quantity,remove:s});const l=o.quantity-s;o.quantity=l>=0?l:0}},resetLastOrderStatus:n=>{n.lastOrderStatus="idle",n.lastOrderError=null}},extraReducers:n=>{n.addCase(Ha.pending,e=>{e.lastOrderStatus="submitting",e.lastOrderError=null,oe.debug("Reducer: submitOrderAndDecreaseStock.pending")}).addCase(Ha.fulfilled,(e,t)=>{e.lastOrderStatus="succeeded",oe.info("Reducer: submitOrderAndDecreaseStock.fulfilled",{payload:t.payload})}).addCase(Ha.rejected,(e,t)=>{e.lastOrderStatus="failed",e.lastOrderError=t.payload,oe.error("Reducer: submitOrderAndDecreaseStock.rejected",{error:t.payload})})}}),{decreaseStock:G1,resetLastOrderStatus:pd}=Ov.actions,K1=Ov.reducer,q1=n=>e=>t=>{oe.debug("Redux Action Dispatched:",t),oe.debug("Redux State Before:",n.getState());const s=e(t);return oe.debug("Redux State After:",n.getState()),s},Q1=TC({reducer:{menu:K1},middleware:n=>n().concat(q1)}),Y1="modulepreload",J1=function(n){return"/DIRI_sesion7/"+n},l_={},$l=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(t.map(h=>{if(h=J1(h),h in l_)return;l_[h]=!0;const m=h.endsWith(".css"),_=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${_}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":Y1,m||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),m)return new Promise((y,I)=>{v.addEventListener("load",y),v.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var Ds={},u_;function X1(){if(u_)return Ds;u_=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.parse=c,Ds.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function c(y,I){const C=new l,x=y.length;if(x<2)return C;const A=(I==null?void 0:I.decode)||_;let O=0;do{const F=y.indexOf("=",O);if(F===-1)break;const $=y.indexOf(";",O),j=$===-1?x:$;if(F>j){O=y.lastIndexOf(";",F-1)+1;continue}const K=f(y,O,F),X=h(y,F,K),ie=y.slice(K,X);if(C[ie]===void 0){let he=f(y,F+1,j),J=h(y,j,he);const ve=A(y.slice(he,J));C[ie]=ve}O=j+1}while(O<x);return C}function f(y,I,C){do{const x=y.charCodeAt(I);if(x!==32&&x!==9)return I}while(++I<C);return C}function h(y,I,C){for(;I>C;){const x=y.charCodeAt(--I);if(x!==32&&x!==9)return I+1}return C}function m(y,I,C){const x=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const A=x(I);if(!e.test(A))throw new TypeError(`argument val is invalid: ${I}`);let O=y+"="+A;if(!C)return O;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);O+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);O+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);O+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);O+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(O+="; HttpOnly"),C.secure&&(O+="; Secure"),C.partitioned&&(O+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return O}function _(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return o.call(y)==="[object Date]"}return Ds}X1();var c_="popstate";function Z1(n={}){function e(s,o){let{pathname:l,search:c,hash:f}=s.location;return Bd("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:ao(o)}return tR(e,t,null,n)}function Oe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Yt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eR(){return Math.random().toString(36).substring(2,10)}function d_(n,e){return{usr:n.state,key:n.key,idx:e}}function Bd(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?zi(e):e,state:t,key:e&&e.key||s||eR()}}function ao({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function zi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function tR(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,f="POP",h=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function v(){f="POP";let A=_(),O=A==null?null:A-m;m=A,h&&h({action:f,location:x.location,delta:O})}function y(A,O){f="PUSH";let F=Bd(x.location,A,O);m=_()+1;let $=d_(F,m),j=x.createHref(F);try{c.pushState($,"",j)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(j)}l&&h&&h({action:f,location:x.location,delta:1})}function I(A,O){f="REPLACE";let F=Bd(x.location,A,O);m=_();let $=d_(F,m),j=x.createHref(F);c.replaceState($,"",j),l&&h&&h({action:f,location:x.location,delta:0})}function C(A){return nR(A)}let x={get action(){return f},get location(){return n(o,c)},listen(A){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(c_,v),h=A,()=>{o.removeEventListener(c_,v),h=null}},createHref(A){return e(o,A)},createURL:C,encodeLocation(A){let O=C(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:I,go(A){return c.go(A)}};return x}function nR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:ao(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function bv(n,e,t="/"){return rR(n,e,t,!1)}function rR(n,e,t,s){let o=typeof e=="string"?zi(e):e,l=Nn(o.pathname||"/",t);if(l==null)return null;let c=Dv(n);iR(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=mR(l);f=hR(c[h],m,s)}return f}function Dv(n,e=[],t=[],s=""){let o=(l,c,f)=>{let h={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(Oe(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let m=In([s,h.relativePath]),_=t.concat(h);l.children&&l.children.length>0&&(Oe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Dv(l.children,e,_,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:dR(m,l.index),routesMeta:_})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,c);else for(let h of Lv(l.path))o(l,c,h)}),e}function Lv(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=Lv(s.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&f.push(...c),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function iR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:fR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var sR=/^:[\w-]+$/,oR=3,aR=2,lR=1,uR=10,cR=-2,f_=n=>n==="*";function dR(n,e){let t=n.split("/"),s=t.length;return t.some(f_)&&(s+=cR),e&&(s+=aR),t.filter(o=>!f_(o)).reduce((o,l)=>o+(sR.test(l)?oR:l===""?lR:uR),s)}function fR(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function hR(n,e,t=!1){let{routesMeta:s}=n,o={},l="/",c=[];for(let f=0;f<s.length;++f){let h=s[f],m=f===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",v=yl({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},_),y=h.route;if(!v&&m&&t&&!s[s.length-1].route.index&&(v=yl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},_)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:In([l,v.pathname]),pathnameBase:vR(In([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=In([l,v.pathnameBase]))}return c}function yl(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=pR(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((m,{paramName:_,isOptional:v},y)=>{if(_==="*"){let C=f[y]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const I=f[y];return v&&!I?m[_]=void 0:m[_]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function pR(n,e=!1,t=!0){Yt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function mR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Nn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function gR(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?zi(n):n;return{pathname:t?t.startsWith("/")?t:_R(t,e):e,search:wR(s),hash:ER(o)}}function _R(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function md(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ff(n){let e=yR(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Uf(n,e,t,s=!1){let o;typeof n=="string"?o=zi(n):(o={...n},Oe(!o.pathname||!o.pathname.includes("?"),md("?","pathname","search",o)),Oe(!o.pathname||!o.pathname.includes("#"),md("#","pathname","hash",o)),Oe(!o.search||!o.search.includes("#"),md("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,f;if(c==null)f=t;else{let v=e.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),v-=1;o.pathname=y.join("/")}f=v>=0?e[v]:"/"}let h=gR(o,f),m=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||_)&&(h.pathname+="/"),h}var In=n=>n.join("/").replace(/\/\/+/g,"/"),vR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),wR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ER=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function SR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Mv=["POST","PUT","PATCH","DELETE"];new Set(Mv);var CR=["GET",...Mv];new Set(CR);var ji=N.createContext(null);ji.displayName="DataRouter";var Bl=N.createContext(null);Bl.displayName="DataRouterState";var Fv=N.createContext({isTransitioning:!1});Fv.displayName="ViewTransition";var IR=N.createContext(new Map);IR.displayName="Fetchers";var kR=N.createContext(null);kR.displayName="Await";var Xt=N.createContext(null);Xt.displayName="Navigation";var wo=N.createContext(null);wo.displayName="Location";var cn=N.createContext({outlet:null,matches:[],isDataRoute:!1});cn.displayName="Route";var zf=N.createContext(null);zf.displayName="RouteError";function TR(n,{relative:e}={}){Oe(Wi(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=N.useContext(Xt),{hash:o,pathname:l,search:c}=Eo(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:In([t,l])),s.createHref({pathname:f,search:c,hash:o})}function Wi(){return N.useContext(wo)!=null}function pr(){return Oe(Wi(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(wo).location}var Uv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zv(n){N.useContext(Xt).static||N.useLayoutEffect(n)}function jf(){let{isDataRoute:n}=N.useContext(cn);return n?zR():RR()}function RR(){Oe(Wi(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(ji),{basename:e,navigator:t}=N.useContext(Xt),{matches:s}=N.useContext(cn),{pathname:o}=pr(),l=JSON.stringify(Ff(s)),c=N.useRef(!1);return zv(()=>{c.current=!0}),N.useCallback((h,m={})=>{if(Yt(c.current,Uv),!c.current)return;if(typeof h=="number"){t.go(h);return}let _=Uf(h,JSON.parse(l),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:In([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,l,o,n])}N.createContext(null);function Eo(n,{relative:e}={}){let{matches:t}=N.useContext(cn),{pathname:s}=pr(),o=JSON.stringify(Ff(t));return N.useMemo(()=>Uf(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function PR(n,e){return jv(n,e)}function jv(n,e,t,s){var O;Oe(Wi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(Xt),{matches:l}=N.useContext(cn),c=l[l.length-1],f=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let F=_&&_.path||"";Wv(h,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let v=pr(),y;if(e){let F=typeof e=="string"?zi(e):e;Oe(m==="/"||((O=F.pathname)==null?void 0:O.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${F.pathname}" was given in the \`location\` prop.`),y=F}else y=v;let I=y.pathname||"/",C=I;if(m!=="/"){let F=m.replace(/^\//,"").split("/");C="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let x=bv(n,{pathname:C});Yt(_||x!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Yt(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=bR(x&&x.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:In([m,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?m:In([m,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),l,t,s);return e&&A?N.createElement(wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function NR(){let n=UR(),e=SR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:o},t):null,c)}var xR=N.createElement(NR,null),AR=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?N.createElement(cn.Provider,{value:this.props.routeContext},N.createElement(zf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OR({routeContext:n,match:e,children:t}){let s=N.useContext(ji);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(cn.Provider,{value:n},t)}function bR(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Oe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,f=-1;if(t)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:_,errors:v}=t,y=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||y){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,_)=>{let v,y=!1,I=null,C=null;t&&(v=l&&m.route.id?l[m.route.id]:void 0,I=m.route.errorElement||xR,c&&(f<0&&_===0?(Wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,C=null):f===_&&(y=!0,C=m.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,_+1)),A=()=>{let O;return v?O=I:y?O=C:m.route.Component?O=N.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=h,N.createElement(OR,{match:m,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:O})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?N.createElement(AR,{location:t.location,revalidation:t.revalidation,component:I,error:v,children:A(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):A()},null)}function Wf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DR(n){let e=N.useContext(ji);return Oe(e,Wf(n)),e}function LR(n){let e=N.useContext(Bl);return Oe(e,Wf(n)),e}function MR(n){let e=N.useContext(cn);return Oe(e,Wf(n)),e}function $f(n){let e=MR(n),t=e.matches[e.matches.length-1];return Oe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function FR(){return $f("useRouteId")}function UR(){var s;let n=N.useContext(zf),e=LR("useRouteError"),t=$f("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function zR(){let{router:n}=DR("useNavigate"),e=$f("useNavigate"),t=N.useRef(!1);return zv(()=>{t.current=!0}),N.useCallback(async(o,l={})=>{Yt(t.current,Uv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var h_={};function Wv(n,e,t){!e&&!h_[n]&&(h_[n]=!0,Yt(!1,t))}N.memo(jR);function jR({routes:n,future:e,state:t}){return jv(n,void 0,t,e)}function vl({to:n,replace:e,state:t,relative:s}){Oe(Wi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=N.useContext(Xt);Yt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(cn),{pathname:c}=pr(),f=jf(),h=Uf(n,Ff(l),c,s==="path"),m=JSON.stringify(h);return N.useEffect(()=>{f(JSON.parse(m),{replace:e,state:t,relative:s})},[f,m,s,e,t]),null}function br(n){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WR({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){Oe(!Wi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=zi(t));let{pathname:h="/",search:m="",hash:_="",state:v=null,key:y="default"}=t,I=N.useMemo(()=>{let C=Nn(h,c);return C==null?null:{location:{pathname:C,search:m,hash:_,state:v,key:y},navigationType:s}},[c,h,m,_,v,y,s]);return Yt(I!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:N.createElement(Xt.Provider,{value:f},N.createElement(wo.Provider,{children:e,value:I}))}function $R({children:n,location:e}){return PR(Hd(n),e)}function Hd(n,e=[]){let t=[];return N.Children.forEach(n,(s,o)=>{if(!N.isValidElement(s))return;let l=[...e,o];if(s.type===N.Fragment){t.push.apply(t,Hd(s.props.children,l));return}Oe(s.type===br,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Hd(s.props.children,l)),t.push(c)}),t}var Va="get",Ga="application/x-www-form-urlencoded";function Hl(n){return n!=null&&typeof n.tagName=="string"}function BR(n){return Hl(n)&&n.tagName.toLowerCase()==="button"}function HR(n){return Hl(n)&&n.tagName.toLowerCase()==="form"}function VR(n){return Hl(n)&&n.tagName.toLowerCase()==="input"}function GR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function KR(n,e){return n.button===0&&(!e||e==="_self")&&!GR(n)}var Wa=null;function qR(){if(Wa===null)try{new FormData(document.createElement("form"),0),Wa=!1}catch{Wa=!0}return Wa}var QR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gd(n){return n!=null&&!QR.has(n)?(Yt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ga}"`),null):n}function YR(n,e){let t,s,o,l,c;if(HR(n)){let f=n.getAttribute("action");s=f?Nn(f,e):null,t=n.getAttribute("method")||Va,o=gd(n.getAttribute("enctype"))||Ga,l=new FormData(n)}else if(BR(n)||VR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(s=h?Nn(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Va,o=gd(n.getAttribute("formenctype"))||gd(f.getAttribute("enctype"))||Ga,l=new FormData(f,n),!qR()){let{name:m,type:_,value:v}=n;if(_==="image"){let y=m?`${m}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else m&&l.append(m,v)}}else{if(Hl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Va,s=null,o=Ga,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}function Bf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function JR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ZR(n,e,t){let s=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await JR(l,t);return c.links?c.links():[]}return[]}));return rP(s.flat(1).filter(XR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function p_(n,e,t,s,o,l){let c=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>{var _;return t[m].pathname!==h.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,m)=>c(h,m)||f(h,m)):l==="data"?e.filter((h,m)=>{var v;let _=s.routes[h.route.id];if(!_||!_.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function eP(n,e,{includeHydrateFallback:t}={}){return tP(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function tP(n){return[...new Set(n)]}function nP(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function rP(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let l=JSON.stringify(nP(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iP=new Set([100,101,204,205]);function sP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Nn(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function $v(){let n=N.useContext(ji);return Bf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oP(){let n=N.useContext(Bl);return Bf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Hf=N.createContext(void 0);Hf.displayName="FrameworkContext";function Bv(){let n=N.useContext(Hf);return Bf(n,"You must render this element inside a <HydratedRouter> element"),n}function aP(n,e){let t=N.useContext(Hf),[s,o]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:_,onTouchStart:v}=e,y=N.useRef(null);N.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let x=O=>{O.forEach(F=>{c(F.isIntersecting)})},A=new IntersectionObserver(x,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[n]),N.useEffect(()=>{if(s){let x=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(x)}}},[s]);let I=()=>{o(!0)},C=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,y,{}]:[l,y,{onFocus:Ls(f,I),onBlur:Ls(h,C),onMouseEnter:Ls(m,I),onMouseLeave:Ls(_,C),onTouchStart:Ls(v,I)}]:[!1,y,{}]}function Ls(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function lP({page:n,...e}){let{router:t}=$v(),s=N.useMemo(()=>bv(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?N.createElement(cP,{page:n,matches:s,...e}):null}function uP(n){let{manifest:e,routeModules:t}=Bv(),[s,o]=N.useState([]);return N.useEffect(()=>{let l=!1;return ZR(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),s}function cP({page:n,matches:e,...t}){let s=pr(),{manifest:o,routeModules:l}=Bv(),{basename:c}=$v(),{loaderData:f,matches:h}=oP(),m=N.useMemo(()=>p_(n,e,h,o,s,"data"),[n,e,h,o,s]),_=N.useMemo(()=>p_(n,e,h,o,s,"assets"),[n,e,h,o,s]),v=N.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let C=new Set,x=!1;if(e.forEach(O=>{var $;let F=o.routes[O.route.id];!F||!F.hasLoader||(!m.some(j=>j.route.id===O.route.id)&&O.route.id in f&&(($=l[O.route.id])!=null&&$.shouldRevalidate)||F.hasClientLoader?x=!0:C.add(O.route.id))}),C.size===0)return[];let A=sP(n,c);return x&&C.size>0&&A.searchParams.set("_routes",e.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[A.pathname+A.search]},[c,f,s,o,m,e,n,l]),y=N.useMemo(()=>eP(_,o),[_,o]),I=uP(_);return N.createElement(N.Fragment,null,v.map(C=>N.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),y.map(C=>N.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),I.map(({key:C,link:x})=>N.createElement("link",{key:C,...x})))}function dP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Hv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hv&&(window.__reactRouterVersion="7.6.1")}catch{}function fP({basename:n,children:e,window:t}){let s=N.useRef();s.current==null&&(s.current=Z1({window:t,v5Compat:!0}));let o=s.current,[l,c]=N.useState({action:o.action,location:o.location}),f=N.useCallback(h=>{N.startTransition(()=>c(h))},[c]);return N.useLayoutEffect(()=>o.listen(f),[o,f]),N.createElement(WR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var Vv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dr=N.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:f,target:h,to:m,preventScrollReset:_,viewTransition:v,...y},I){let{basename:C}=N.useContext(Xt),x=typeof m=="string"&&Vv.test(m),A,O=!1;if(typeof m=="string"&&x&&(A=m,Hv))try{let J=new URL(window.location.href),ve=m.startsWith("//")?new URL(J.protocol+m):new URL(m),Pt=Nn(ve.pathname,C);ve.origin===J.origin&&Pt!=null?m=Pt+ve.search+ve.hash:O=!0}catch{Yt(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=TR(m,{relative:o}),[$,j,K]=aP(s,y),X=gP(m,{replace:c,state:f,target:h,preventScrollReset:_,relative:o,viewTransition:v});function ie(J){e&&e(J),J.defaultPrevented||X(J)}let he=N.createElement("a",{...y,...K,href:A||F,onClick:O||l?e:ie,ref:dP(I,j),target:h,"data-discover":!x&&t==="render"?"true":void 0});return $&&!x?N.createElement(N.Fragment,null,he,N.createElement(lP,{page:F})):he});Dr.displayName="Link";var hP=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:f,children:h,...m},_){let v=Eo(c,{relative:m.relative}),y=pr(),I=N.useContext(Bl),{navigator:C,basename:x}=N.useContext(Xt),A=I!=null&&EP(v)&&f===!0,O=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,F=y.pathname,$=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(F=F.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&x&&($=Nn($,x)||$);const j=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let K=F===O||!o&&F.startsWith(O)&&F.charAt(j)==="/",X=$!=null&&($===O||!o&&$.startsWith(O)&&$.charAt(O.length)==="/"),ie={isActive:K,isPending:X,isTransitioning:A},he=K?e:void 0,J;typeof s=="function"?J=s(ie):J=[s,K?"active":null,X?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let ve=typeof l=="function"?l(ie):l;return N.createElement(Dr,{...m,"aria-current":he,className:J,ref:_,style:ve,to:c,viewTransition:f},typeof h=="function"?h(ie):h)});hP.displayName="NavLink";var pP=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:c=Va,action:f,onSubmit:h,relative:m,preventScrollReset:_,viewTransition:v,...y},I)=>{let C=vP(),x=wP(f,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&Vv.test(f),F=$=>{if(h&&h($),$.defaultPrevented)return;$.preventDefault();let j=$.nativeEvent.submitter,K=(j==null?void 0:j.getAttribute("formmethod"))||c;C(j||$.currentTarget,{fetcherKey:e,method:K,navigate:t,replace:o,state:l,relative:m,preventScrollReset:_,viewTransition:v})};return N.createElement("form",{ref:I,method:A,action:x,onSubmit:s?h:F,...y,"data-discover":!O&&n==="render"?"true":void 0})});pP.displayName="Form";function mP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gv(n){let e=N.useContext(ji);return Oe(e,mP(n)),e}function gP(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let f=jf(),h=pr(),m=Eo(n,{relative:l});return N.useCallback(_=>{if(KR(_,e)){_.preventDefault();let v=t!==void 0?t:ao(h)===ao(m);f(n,{replace:v,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[h,f,m,t,s,e,n,o,l,c])}var _P=0,yP=()=>`__${String(++_P)}__`;function vP(){let{router:n}=Gv("useSubmit"),{basename:e}=N.useContext(Xt),t=FR();return N.useCallback(async(s,o={})=>{let{action:l,method:c,encType:f,formData:h,body:m}=YR(s,e);if(o.navigate===!1){let _=o.fetcherKey||yP();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||c,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||c,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function wP(n,{relative:e}={}){let{basename:t}=N.useContext(Xt),s=N.useContext(cn);Oe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Eo(n||".",{relative:e})},c=pr();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(_=>_==="")){f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:In([t,l.pathname])),ao(l)}function EP(n,e={}){let t=N.useContext(Fv);Oe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Gv("useViewTransitionState"),o=Eo(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Nn(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Nn(t.nextLocation.pathname,s)||t.nextLocation.pathname;return yl(o.pathname,c)!=null||yl(o.pathname,l)!=null}[...iP];function SP(n){const e=XS(),{items:t}=Jc(y=>y.menu),s=Jc(y=>y.menu.lastOrderStatus),o=Jc(y=>y.menu.lastOrderError),[l,c]=N.useState(1),f=(n.food.price*l).toFixed(2),h=y=>{if(s==="submitting"||s==="succeeded")return;const I=parseInt(y.target.value,10);!isNaN(I)&&I>=0?(c(I),s==="failed"&&e(pd())):y.target.value===""&&(c(0),s==="failed"&&e(pd()))},m=()=>{if(l<=0){alert("Por favor, introduce una cantidad válida.");return}const y=t.find(I=>I.id===n.food.id);if(!y||l>y.quantity){alert(`Lo sentimos, solo quedan ${(y==null?void 0:y.quantity)||0} de "${n.food.name}" disponibles.`);return}oe.info(`FoodOrder: Despachando submitOrderAndDecreaseStock para ${n.food.name} y cantidad ${l}`),e(Ha({food:n.food,orderedQuantity:l}))};N.useEffect(()=>{oe.debug("FoodOrder: Reseteando estado de último pedido y cantidad.",{foodId:n.food.id}),e(pd()),c(1)},[n.food,e]);let _="",v="";return s==="submitting"?(_="Enviando pedido...",v="loading"):s==="succeeded"?_=`Pedido de ${l} x ${n.food.name} enviado. ¡Gracias!`:s==="failed"&&(_=o||"Error al enviar el pedido. Inténtalo de nuevo.",v="error"),W.jsxs("div",{className:"foodOrderContainer",children:[W.jsxs("h3",{children:["Detalles del Pedido para: ",n.food.name]}),W.jsxs("div",{className:"orderDetails",children:[W.jsx("img",{className:"orderFoodImg",src:`/DIRI_sesion7/images/${n.food.image}`,alt:n.food.name}),W.jsxs("div",{className:"orderInfo",children:[W.jsx("p",{className:"orderDesc",children:n.food.desc}),W.jsxs("p",{className:"orderBasePrice",children:["Precio unitario: ",n.food.price.toFixed(2),"$"]}),W.jsxs("div",{className:"quantityControl",children:[W.jsx("label",{htmlFor:`quantity-${n.food.id}`,children:"Cantidad:"}),W.jsx("input",{type:"number",id:`quantity-${n.food.id}`,name:"quantity",min:"0",value:l,onChange:h,className:"quantityInput",disabled:s==="submitting"||s==="succeeded"})]}),W.jsxs("p",{className:"orderTotalPrice",children:["Precio Total: ",f,"$"]})]})]}),_&&W.jsx("p",{className:`confirmationMessage ${v}`,children:_}),W.jsxs("div",{className:"orderActions",children:[W.jsx("button",{onClick:m,className:"submitOrderButton",disabled:l<=0||s==="submitting"||s==="succeeded",children:s==="submitting"?"Enviando...":s==="succeeded"?"Pedido Enviado":"Enviar Pedido"}),W.jsx("button",{onClick:n.onReturnToMenu,className:"returnMenuButton",disabled:s==="submitting",children:"Volver al menú"})]})]})}function Vf(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function Kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CP=Kv,qv=new ho("auth","Firebase",Kv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new sf("@firebase/auth");function IP(n,...e){wl.logLevel<=Se.WARN&&wl.warn(`Auth (${Li}): ${n}`,...e)}function Ka(n,...e){wl.logLevel<=Se.ERROR&&wl.error(`Auth (${Li}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(n,...e){throw Gf(n,...e)}function an(n,...e){return Gf(n,...e)}function Qv(n,e,t){const s=Object.assign(Object.assign({},CP()),{[e]:t});return new ho("auth","Firebase",s).create(e,{appName:n.name})}function kn(n){return Qv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gf(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return qv.create(n,...e)}function ne(n,e,...t){if(!n)throw Gf(e,...t)}function wn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ka(e),new Error(e)}function xn(n,e){n||wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function kP(){return m_()==="http:"||m_()==="https:"}function m_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kP()||lI()||"connection"in navigator)?navigator.onLine:!0}function RP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t){this.shortDelay=e,this.longDelay=t,xn(t>e,"Short delay should be less than long delay!"),this.isMobile=nf()||ny()}get(){return TP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n,e){xn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xP=new So(3e4,6e4);function mr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function gr(n,e,t,s,o={}){return Jv(n,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Di(Object.assign({key:n.config.apiKey},c)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},l);return aI()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&fo(n.emulatorConfig.host)&&(m.credentials="include"),Yv.fetch()(await Xv(n,n.config.apiHost,t,f),m)})}async function Jv(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},PP),e);try{const o=new OP(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw $a(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[h,m]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw $a(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw $a(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw $a(n,"user-disabled",c);const _=s[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Qv(n,_,m);Jt(n,_)}}catch(o){if(o instanceof hr)throw o;Jt(n,"network-request-failed",{message:String(o)})}}async function Co(n,e,t,s,o={}){const l=await gr(n,e,t,s,o);return"mfaPendingCredential"in l&&Jt(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Xv(n,e,t,s){const o=`${e}${t}?${s}`,l=n,c=l.config.emulator?Kf(n.config,o):`${n.config.apiScheme}://${o}`;return NP.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function AP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(an(this.auth,"network-request-failed")),xP.get())})}}function $a(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=an(n,e,s);return o.customData._tokenResponse=t,o}function g_(n){return n!==void 0&&n.enterprise!==void 0}class bP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return AP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DP(n,e){return gr(n,"GET","/v2/recaptchaConfig",mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(n,e){return gr(n,"POST","/v1/accounts:delete",e)}async function El(n,e){return gr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MP(n,e=!1){const t=st(n),s=await t.getIdToken(e),o=qf(s);ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Ks(_d(o.auth_time)),issuedAtTime:Ks(_d(o.iat)),expirationTime:Ks(_d(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function _d(n){return Number(n)*1e3}function qf(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Ka("JWT malformed, contained fewer than 3 sections"),null;try{const o=rl(t);return o?JSON.parse(o):(Ka("Failed to decode base64 JWT payload"),null)}catch(o){return Ka("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function __(n){const e=qf(n);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof hr&&FP(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function FP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ks(this.lastLoginAt),this.creationTime=Ks(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(n){var e;const t=n.auth,s=await n.getIdToken(),o=await lo(n,El(t,{idToken:s}));ne(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Zv(l.providerUserInfo):[],f=jP(n.providerData,c),h=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),_=h?m:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,v)}async function zP(n){const e=st(n);await Sl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jP(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Zv(n){return n.map(e=>{var{providerId:t}=e,s=Vf(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(n,e){const t=await Jv(n,{},async()=>{const s=Di({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await Xv(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Yv.fetch()(c,{method:"POST",headers:f,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $P(n,e){return gr(n,"POST","/v2/accounts:revokeToken",mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const t=__(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await WP(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new Ii;return s&&(ne(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(ne(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(ne(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ii,this.toJSON())}_performRefresh(){return wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(n,e){ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qt{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=Vf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Gd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await lo(this,this.stsTokenManager.getToken(this.auth,e));return ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MP(this,e)}reload(){return zP(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Sl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mt(this.auth.app))return Promise.reject(kn(this.auth));const e=await this.getIdToken();return await lo(this,LP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,c,f,h,m,_;const v=(s=t.displayName)!==null&&s!==void 0?s:void 0,y=(o=t.email)!==null&&o!==void 0?o:void 0,I=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,x=(f=t.tenantId)!==null&&f!==void 0?f:void 0,A=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,O=(m=t.createdAt)!==null&&m!==void 0?m:void 0,F=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:$,emailVerified:j,isAnonymous:K,providerData:X,stsTokenManager:ie}=t;ne($&&ie,e,"internal-error");const he=Ii.fromJSON(this.name,ie);ne(typeof $=="string",e,"internal-error"),Xn(v,e.name),Xn(y,e.name),ne(typeof j=="boolean",e,"internal-error"),ne(typeof K=="boolean",e,"internal-error"),Xn(I,e.name),Xn(C,e.name),Xn(x,e.name),Xn(A,e.name),Xn(O,e.name),Xn(F,e.name);const J=new qt({uid:$,auth:e,email:y,emailVerified:j,displayName:v,isAnonymous:K,photoURL:C,phoneNumber:I,tenantId:x,stsTokenManager:he,createdAt:O,lastLoginAt:F});return X&&Array.isArray(X)&&(J.providerData=X.map(ve=>Object.assign({},ve))),A&&(J._redirectEventId=A),J}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ii;o.updateFromServerResponse(t);const l=new qt({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Sl(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ne(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Zv(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Ii;f.updateFromIdToken(s);const h=new qt({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;function En(n){xn(n instanceof Function,"Expected a class definition");let e=y_.get(n);return e?(xn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,y_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ew.type="NONE";const v_=ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(n,e,t){return`firebase:${n}:${e}:${t}`}class ki{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=qa(this.userKey,o.apiKey,l),this.fullPersistenceKey=qa("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await El(this.auth,{idToken:e}).catch(()=>{});return t?qt._fromGetAccountInfoResponse(this.auth,t,e):null}return qt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ki(En(v_),e,s);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||En(v_);const c=qa(s,e.config.apiKey,e.name);let f=null;for(const m of t)try{const _=await m._get(c);if(_){let v;if(typeof _=="string"){const y=await El(e,{idToken:_}).catch(()=>{});if(!y)break;v=await qt._fromGetAccountInfoResponse(e,y,_)}else v=qt._fromJSON(e,_);m!==l&&(f=v),l=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new ki(l,e,s):(l=h[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new ki(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ow(e))return"Blackberry";if(aw(e))return"Webos";if(nw(e))return"Safari";if((e.includes("chrome/")||rw(e))&&!e.includes("edge/"))return"Chrome";if(sw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function tw(n=ut()){return/firefox\//i.test(n)}function nw(n=ut()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rw(n=ut()){return/crios\//i.test(n)}function iw(n=ut()){return/iemobile/i.test(n)}function sw(n=ut()){return/android/i.test(n)}function ow(n=ut()){return/blackberry/i.test(n)}function aw(n=ut()){return/webos/i.test(n)}function Qf(n=ut()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BP(n=ut()){var e;return Qf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HP(){return uI()&&document.documentMode===10}function lw(n=ut()){return Qf(n)||sw(n)||aw(n)||ow(n)||/windows phone/i.test(n)||iw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n,e=[]){let t;switch(n){case"Browser":t=w_(ut());break;case"Worker":t=`${w_(ut())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Li}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,f)=>{try{const h=e(l);c(h)}catch(h){f(h)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(n,e={}){return gr(n,"GET","/v2/passwordPolicy",mr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=6;class qP{constructor(e){var t,s,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:KP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,c,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(s=h.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsUppercaseLetter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNumericCharacter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new VP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=En(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await ki.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await El(this,{idToken:e}),s=await qt._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Mt(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===f)&&(h!=null&&h.user)&&(o=h.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sl(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mt(this.app))return Promise.reject(kn(this));const t=e?st(e):null;return t&&ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mt(this.app)?Promise.reject(kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mt(this.app)?Promise.reject(kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(En(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GP(this),t=new qP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ho("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await $P(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&En(e)||this._popupRedirectResolver;ne(t,this,"argument-error"),this.redirectPersistenceManager=await ki.create(this,[En(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,s,o);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Mt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&IP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Kr(n){return st(n)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=vI(t=>this.observer=t)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YP(n){Vl=n}function cw(n){return Vl.loadJS(n)}function JP(){return Vl.recaptchaEnterpriseScript}function XP(){return Vl.gapiScript}function ZP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class eN{constructor(){this.enterprise=new tN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nN="recaptcha-enterprise",dw="NO_RECAPTCHA";class rN{constructor(e){this.type=nN,this.auth=Kr(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{DP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new bP(h);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(h=>{f(h)})})}function o(l,c,f){const h=window.grecaptcha;g_(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(dw)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!t&&g_(window.grecaptcha))o(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=JP();h.length!==0&&(h+=f),cw(h).then(()=>{o(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function S_(n,e,t,s=!1,o=!1){const l=new rN(n);let c;if(o)c=dw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Kd(n,e,t,s,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await S_(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await S_(n,e,t,t==="getOobCode");return s(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(n,e){const t=af(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(zr(l,e??{}))return o;Jt(o,"already-initialized")}return t.initialize({options:e})}function sN(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(En);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function oN(n,e,t){const s=Kr(n);ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=fw(e),{host:c,port:f}=aN(e),h=f===null?"":`:${f}`,m={url:`${l}//${c}${h}/`},_=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ne(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ne(zr(m,s.config.emulator)&&zr(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,fo(c)?(ey(`${l}//${c}${h}`),ty("Auth",!0)):lN()}function fw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function aN(n){const e=fw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:C_(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:C_(c)}}}function C_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function lN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wn("not implemented")}_getIdTokenResponse(e){return wn("not implemented")}_linkToIdToken(e,t){return wn("not implemented")}_getReauthenticationResolver(e){return wn("not implemented")}}async function uN(n,e){return gr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(n,e){return Co(n,"POST","/v1/accounts:signInWithPassword",mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(n,e){return Co(n,"POST","/v1/accounts:signInWithEmailLink",mr(n,e))}async function fN(n,e){return Co(n,"POST","/v1/accounts:signInWithEmailLink",mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Yf{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new uo(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new uo(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,t,"signInWithPassword",cN);case"emailLink":return dN(e,{email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,s,"signUpPassword",uN);case"emailLink":return fN(e,{idToken:t,email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(n,e){return Co(n,"POST","/v1/accounts:signInWithIdp",mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="http://localhost";class Hr extends Yf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=Vf(t,["providerId","signInMethod"]);if(!s||!o)return null;const c=new Hr(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ti(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ti(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ti(e,t)}buildRequest(){const e={requestUri:hN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Di(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mN(n){const e=Us(zs(n)).link,t=e?Us(zs(e)).deep_link_id:null,s=Us(zs(n)).deep_link_id;return(s?Us(zs(s)).link:null)||s||t||e||n}class Jf{constructor(e){var t,s,o,l,c,f;const h=Us(zs(e)),m=(t=h.apiKey)!==null&&t!==void 0?t:null,_=(s=h.oobCode)!==null&&s!==void 0?s:null,v=pN((o=h.mode)!==null&&o!==void 0?o:null);ne(m&&_&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=_,this.continueUrl=(l=h.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=h.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=mN(e);try{return new Jf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.providerId=$i.PROVIDER_ID}static credential(e,t){return uo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Jf.parseLink(t);return ne(s,"argument-error"),uo._fromEmailAndCode(e,s.code,s.tenantId)}}$i.PROVIDER_ID="password";$i.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$i.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends hw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Io{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zn.credential(e.oauthAccessToken)}catch{return null}}}Zn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Io{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return er.credential(t,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Io{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Io{constructor(){super("twitter.com")}static credential(e,t){return Hr._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return nr.credential(t,s)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(n,e){return Co(n,"POST","/v1/accounts:signUp",mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await qt._fromIdTokenResponse(e,s,o),c=I_(s);return new Vr({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=I_(s);return new Vr({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function I_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends hr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Cl.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Cl(e,t,s,o)}}function pw(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Cl._fromErrorAndOperation(n,l,e,s):l})}async function _N(n,e,t=!1){const s=await lo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vr._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(n,e,t=!1){const{auth:s}=n;if(Mt(s.app))return Promise.reject(kn(s));const o="reauthenticate";try{const l=await lo(n,pw(s,o,e,n),t);ne(l.idToken,s,"internal-error");const c=qf(l.idToken);ne(c,s,"internal-error");const{sub:f}=c;return ne(n.uid===f,s,"user-mismatch"),Vr._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Jt(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(n,e,t=!1){if(Mt(n.app))return Promise.reject(kn(n));const s="signIn",o=await pw(n,s,e),l=await Vr._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}async function vN(n,e){return mw(Kr(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(n){const e=Kr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wN(n,e,t){if(Mt(n.app))return Promise.reject(kn(n));const s=Kr(n),c=await Kd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gN).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&gw(n),h}),f=await Vr._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function EN(n,e,t){return Mt(n.app)?Promise.reject(kn(n)):vN(st(n),$i.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gw(n),s})}function SN(n,e,t,s){return st(n).onIdTokenChanged(e,t,s)}function CN(n,e,t){return st(n).beforeAuthStateChanged(e,t)}function IN(n,e,t,s){return st(n).onAuthStateChanged(e,t,s)}function kN(n){return st(n).signOut()}const Il="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Il,"1"),this.storage.removeItem(Il),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1e3,RN=10;class yw extends _w{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);HP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},TN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yw.type="LOCAL";const PN=yw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends _w{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vw.type="SESSION";const ww=vw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Gl(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(c).map(async m=>m(t.origin,l)),h=await NN(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((f,h)=>{const m=Xf("",20);o.port1.start();const _=setTimeout(()=>{h(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(v){const y=v;if(y.data.eventId===m)switch(y.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(y.data.response);break;default:clearTimeout(_),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function AN(n){ln().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function ON(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function DN(){return Ew()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="firebaseLocalStorageDb",LN=1,kl="firebaseLocalStorage",Cw="fbase_key";class ko{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kl(n,e){return n.transaction([kl],e?"readwrite":"readonly").objectStore(kl)}function MN(){const n=indexedDB.deleteDatabase(Sw);return new ko(n).toPromise()}function qd(){const n=indexedDB.open(Sw,LN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(kl,{keyPath:Cw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(kl)?e(s):(s.close(),await MN(),e(await qd()))})})}async function k_(n,e,t){const s=Kl(n,!0).put({[Cw]:e,value:t});return new ko(s).toPromise()}async function FN(n,e){const t=Kl(n,!1).get(e),s=await new ko(t).toPromise();return s===void 0?null:s.value}function T_(n,e){const t=Kl(n,!0).delete(e);return new ko(t).toPromise()}const UN=800,zN=3;class Iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>zN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ew()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gl._getInstance(DN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ON(),!this.activeServiceWorker)return;this.sender=new xN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qd();return await k_(e,Il,"1"),await T_(e,Il),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>k_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>FN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>T_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Kl(o,!1).getAll();return new ko(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Iw.type="LOCAL";const jN=Iw;new So(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(n,e){return e?En(e):(ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends Yf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ti(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ti(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ti(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $N(n){return mw(n.auth,new Zf(n),n.bypassAuthState)}function BN(n){const{auth:e,user:t}=n;return ne(t,e,"internal-error"),yN(t,new Zf(n),n.bypassAuthState)}async function HN(n){const{auth:e,user:t}=n;return ne(t,e,"internal-error"),_N(t,new Zf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $N;case"linkViaPopup":case"linkViaRedirect":return HN;case"reauthViaPopup":case"reauthViaRedirect":return BN;default:Jt(this.auth,"internal-error")}}resolve(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new So(2e3,1e4);class Ei extends kw{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Ei.currentPopupAction&&Ei.currentPopupAction.cancel(),Ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){xn(this.filter.length===1,"Popup operations only handle one event");const e=Xf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VN.get())};e()}}Ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="pendingRedirect",Qa=new Map;class KN extends kw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Qa.get(this.auth._key());if(!e){try{const s=await qN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Qa.set(this.auth._key(),e)}return this.bypassAuthState||Qa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qN(n,e){const t=JN(e),s=YN(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function QN(n,e){Qa.set(n._key(),e)}function YN(n){return En(n._redirectPersistence)}function JN(n){return qa(GN,n.config.apiKey,n.name)}async function XN(n,e,t=!1){if(Mt(n.app))return Promise.reject(kn(n));const s=Kr(n),o=WN(s,e),c=await new KN(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=10*60*1e3;class ex{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Tw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(an(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZN&&this.cachedEventUids.clear(),this.cachedEventUids.has(R_(e))}saveEventToCache(e){this.cachedEventUids.add(R_(e)),this.lastProcessedEventTime=Date.now()}}function R_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Tw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(n,e={}){return gr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ix=/^https?/;async function sx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nx(n);for(const t of e)try{if(ox(t))return}catch{}Jt(n,"unauthorized-domain")}function ox(n){const e=Vd(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!ix.test(t))return!1;if(rx.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=new So(3e4,6e4);function P_(){const n=ln().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lx(n){return new Promise((e,t)=>{var s,o,l;function c(){P_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P_(),t(an(n,"network-request-failed"))},timeout:ax.get()})}if(!((o=(s=ln().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=ln().gapi)===null||l===void 0)&&l.load)c();else{const f=ZP("iframefcb");return ln()[f]=()=>{gapi.load?c():t(an(n,"network-request-failed"))},cw(`${XP()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw Ya=null,e})}let Ya=null;function ux(n){return Ya=Ya||lx(n),Ya}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new So(5e3,15e3),dx="__/auth/iframe",fx="emulator/auth/iframe",hx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},px=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mx(n){const e=n.config;ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Kf(e,fx):`https://${n.config.authDomain}/${dx}`,s={apiKey:e.apiKey,appName:n.name,v:Li},o=px.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Di(s).slice(1)}`}async function gx(n){const e=await ux(n),t=ln().gapi;return ne(t,n,"internal-error"),e.open({where:document.body,url:mx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hx,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=an(n,"network-request-failed"),f=ln().setTimeout(()=>{l(c)},cx.get());function h(){ln().clearTimeout(f),o(s)}s.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yx=500,vx=600,wx="_blank",Ex="http://localhost";class N_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sx(n,e,t,s=yx,o=vx){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const h=Object.assign(Object.assign({},_x),{width:s.toString(),height:o.toString(),top:l,left:c}),m=ut().toLowerCase();t&&(f=rw(m)?wx:t),tw(m)&&(e=e||Ex,h.scrollbars="yes");const _=Object.entries(h).reduce((y,[I,C])=>`${y}${I}=${C},`,"");if(BP(m)&&f!=="_self")return Cx(e||"",f),new N_(null);const v=window.open(e||"",f,_);ne(v,n,"popup-blocked");try{v.focus()}catch{}return new N_(v)}function Cx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="__/auth/handler",kx="emulator/auth/handler",Tx=encodeURIComponent("fac");async function x_(n,e,t,s,o,l){ne(n.config.authDomain,n,"auth-domain-config-required"),ne(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Li,eventId:o};if(e instanceof hw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",kd(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(e instanceof Io){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const h=await n._getAppCheckToken(),m=h?`#${Tx}=${encodeURIComponent(h)}`:"";return`${Rx(n)}?${Di(f).slice(1)}${m}`}function Rx({config:n}){return n.emulator?Kf(n,kx):`https://${n.authDomain}/${Ix}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="webStorageSupport";class Px{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ww,this._completeRedirectFn=XN,this._overrideRedirectResult=QN}async _openPopup(e,t,s,o){var l;xn((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await x_(e,t,s,Vd(),o);return Sx(e,c,Xf())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await x_(e,t,s,Vd(),o);return AN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(xn(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await gx(e),s=new ex(e);return t.register("authEvent",o=>(ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yd,{type:yd},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[yd];c!==void 0&&t(!!c),Jt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lw()||nw()||Qf()}}const Nx=Px;var A_="@firebase/auth",O_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ox(n){Ni(new jr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;ne(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uw(n)},m=new QP(s,o,l,h);return sN(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ni(new jr("auth-internal",e=>{const t=Kr(e.getProvider("auth").getImmediate());return(s=>new xx(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(A_,O_,Ax(n)),sr(A_,O_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=5*60,Dx=Z_("authIdTokenMaxAge")||bx;let b_=null;const Lx=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Dx)return;const o=t==null?void 0:t.token;b_!==o&&(b_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Mx(n=ay()){const e=af(n,"auth");if(e.isInitialized())return e.getImmediate();const t=iN(n,{popupRedirectResolver:Nx,persistence:[jN,PN,ww]}),s=Z_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=Lx(l.toString());CN(t,c,()=>c(t.currentUser)),SN(t,f=>c(f))}}const o=J_("auth");return o&&oN(t,`http://${o}`),t}function Fx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}YP({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=an("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",Fx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ox("Browser");var lr=(n=>(n.ADMIN="ADMIN",n.USER="USER",n))(lr||{});class Ux{async getUserRoles(e){oe.debug(`FirebaseDatabaseService: Intentando obtener roles para UID: ${e}`);try{const t=jd($d,`userRoles/${e}/roles`),s=await A1(t);if(s.exists()){const o=s.val(),l=[];return o&&o.admin===!0&&(l.push(lr.ADMIN),oe.info(`FirebaseDatabaseService: Usuario ${e} tiene rol ADMIN.`)),l.length===0&&(l.push(lr.USER),oe.info(`FirebaseDatabaseService: Usuario ${e} tiene rol USER por defecto.`)),l}return oe.warn(`FirebaseDatabaseService: No se encontraron roles para UID: ${e}. Asignando rol USER por defecto.`),[lr.USER]}catch(t){throw oe.error(`FirebaseDatabaseService: Error obteniendo roles para UID: ${e}`,t),t}}async setUserRoles(e,t){oe.debug(`FirebaseDatabaseService: Estableciendo roles para UID: ${e}`,t);try{const s=jd($d,`userRoles/${e}`);await xv(s,{email:t.email||"No proporcionado",roles:t.roles}),oe.info(`FirebaseDatabaseService: Roles establecidos para UID: ${e}`)}catch(s){throw oe.error(`FirebaseDatabaseService: Error estableciendo roles para UID: ${e}`,s),s}}}const Ms=Mx(Av);class zx{constructor(){vi(this,"databaseService");this.databaseService=new Ux,oe.debug("FirebaseAuthService instanciado")}signIn(e,t){return oe.info(`FirebaseAuthService: Intentando iniciar sesión para ${e}`),EN(Ms,e,t)}async signUp(e,t){oe.info(`FirebaseAuthService: Intentando registrar a ${e}`);const s=await wN(Ms,e,t);return s.user&&(oe.debug(`FirebaseAuthService: Usuario ${s.user.uid} registrado. Asignando roles por defecto.`),await this.databaseService.setUserRoles(s.user.uid,{email:s.user.email,roles:{admin:!1}})),s}signOut(){return oe.info("FirebaseAuthService: Cerrando sesión"),kN(Ms)}onAuthStateChanged(e){return oe.debug("FirebaseAuthService: Suscribiéndose a onAuthStateChanged"),IN(Ms,t=>{if(t){oe.debug("FirebaseAuthService: Usuario autenticado detectado",{uid:t.uid,email:t.email});const s={uid:t.uid,email:t.email};e(s)}else oe.debug("FirebaseAuthService: Ningún usuario autenticado detectado"),e(null)})}getCurrentUser(){const e=Ms.currentUser;return e?{uid:e.uid,email:e.email}:null}async getUserRoles(e){return oe.debug(`FirebaseAuthService: Obteniendo roles para usuario: ${e.email}`),e.email==="admin@foodapp.com"?(oe.info(`FirebaseAuthService: Usuario ${e.email} es admin por email.`),[lr.ADMIN,lr.USER]):this.databaseService.getUserRoles(e.uid)}}const Qd=new zx,Rw=N.createContext(void 0),ql=()=>{const n=N.useContext(Rw);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},jx=({children:n})=>{const[e,t]=N.useState(null),[s,o]=N.useState(null),[l,c]=N.useState(!0);return N.useEffect(()=>{oe.info("AuthProvider: Suscribiéndose a cambios de estado de autenticación."),c(!0);const f=Qd.onAuthStateChanged(async h=>{if(oe.debug("AuthProvider: onAuthStateChanged callback ejecutado",{currentUser:h}),t(h),h)try{const m=await Qd.getUserRoles(h);o(m),oe.info("AuthProvider: Roles obtenidos para el usuario.",{uid:h.uid,roles:m})}catch(m){oe.error("AuthProvider: Error al obtener los roles del usuario.",m),o(null)}else o(null);c(!1)});return()=>{oe.info("AuthProvider: Desuscribiéndose de cambios de estado de autenticación."),f()}},[]),W.jsx(Rw.Provider,{value:{user:e,roles:s,isLoading:l},children:l?W.jsx("div",{className:"loadingFallback",children:"Verificando sesión..."}):n})};class Wx extends co.Component{constructor(e){super(e),this.state={hasError:!1,error:void 0}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){oe.error("Error capturado por ErrorBoundary:",e,{componentStack:t.componentStack})}render(){return this.state.hasError?typeof this.props.fallback=="function"?this.props.fallback(this.state.error):this.props.fallback:this.props.children}}const $x=co.lazy(()=>$l(()=>import("./LoginPage-CmiQjwSe.js"),[])),Bx=co.lazy(()=>$l(()=>import("./RegisterPage-Bvn4RgdV.js"),[])),Hx=co.lazy(()=>$l(()=>import("./AdminStockPage-CduHLvTE.js"),[])),Vx=co.lazy(()=>$l(()=>import("./Foods-BEMpDEvn.js"),__vite__mapDeps([0,1]))),Gx=()=>{const{user:n,roles:e}=ql(),t=jf(),s=async()=>{oe.info("Navbar: Intentando cerrar sesión.");try{await Qd.signOut(),oe.info("Navbar: Sesión cerrada exitosamente."),t("/login")}catch(o){oe.error("Navbar: Error al cerrar sesión",o)}};return W.jsxs("nav",{className:"navbar",children:[W.jsx(Dr,{to:"/",children:"FoodApp"}),W.jsxs("div",{children:[n&&(e==null?void 0:e.includes(lr.ADMIN))&&W.jsx(Dr,{to:"/admin-stock",style:{marginRight:"10px"},children:"Ver Disponibilidad"}),n&&W.jsx(Dr,{to:"/order",style:{marginRight:"10px"},children:"Pedir Comida"}),!n&&W.jsx(Dr,{to:"/login",style:{marginRight:"10px"},children:"Login"}),!n&&W.jsx(Dr,{to:"/register",style:{marginRight:"10px"},children:"Registro"}),n&&W.jsxs("button",{onClick:s,children:["Logout (",n.email,")"]})]})]})},Kx=({children:n})=>{const{user:e,isLoading:t}=ql();return t?W.jsx("div",{className:"loadingFallback",children:"Autenticando..."}):e?n:(oe.debug("ProtectedRoute: Usuario no autenticado, redirigiendo a /login"),W.jsx(vl,{to:"/login",replace:!0}))},qx=({children:n})=>{const{user:e,roles:t,isLoading:s}=ql();return s?W.jsx("div",{className:"loadingFallback",children:"Autenticando..."}):e?t!=null&&t.includes(lr.ADMIN)?n:(oe.warn("AdminRoute: Acceso denegado. Usuario no es ADMIN.",{userEmail:e.email,roles:t}),W.jsx(vl,{to:"/",replace:!0})):(oe.debug("AdminRoute: Usuario no autenticado, redirigiendo a /login"),W.jsx(vl,{to:"/login",replace:!0}))},Qx=()=>{const{user:n}=ql();return N.useEffect(()=>{oe.info("HomePage montada")},[]),W.jsxs("div",{children:[W.jsx("h3",{className:"title",children:"Comida Rápida Online"}),n?W.jsxs("p",{children:["Bienvenido, ",n.email]}):W.jsx("p",{children:"Por favor, inicia sesión o regístrate."}),W.jsx("p",{children:"Navega usando el menú superior."})]})},Yx=()=>{const[n,e]=N.useState(null),t=o=>{e(o)},s=()=>{e(null)};return N.useEffect(()=>{oe.info("OrderFlowPage montada")},[]),W.jsxs(W.Fragment,{children:[W.jsx("h3",{className:"title",children:"Nuestra Carta"}),!n&&W.jsx(N.Suspense,{fallback:W.jsx("div",{className:"loadingFallback",children:"Cargando carta..."}),children:W.jsx(Vx,{onFoodSelected:t})}),n&&W.jsx(SP,{food:n,onReturnToMenu:s})]})},Jx=()=>(N.useEffect(()=>{oe.info("AppContent montado")},[]),W.jsx("div",{className:"main-content-area",children:W.jsxs($R,{children:[W.jsx(br,{path:"/",element:W.jsx(N.Suspense,{fallback:"Cargando Inicio...",children:W.jsx(Qx,{})})}),W.jsx(br,{path:"/login",element:W.jsx(N.Suspense,{fallback:"Cargando Login...",children:W.jsx($x,{})})}),W.jsx(br,{path:"/register",element:W.jsx(N.Suspense,{fallback:"Cargando Registro...",children:W.jsx(Bx,{})})}),W.jsx(br,{path:"/admin-stock",element:W.jsx(qx,{children:W.jsx(N.Suspense,{fallback:"Cargando Stock (Admin)...",children:W.jsx(Hx,{})})})}),W.jsx(br,{path:"/order",element:W.jsx(Kx,{children:W.jsx(N.Suspense,{fallback:"Cargando Pedidos...",children:W.jsx(Yx,{})})})}),W.jsx(br,{path:"*",element:W.jsx(vl,{to:"/",replace:!0})})]})}));function Xx(){return N.useEffect(()=>{},[]),W.jsx(fP,{children:W.jsxs(jx,{children:[" ",W.jsxs(Wx,{fallback:W.jsx("div",{className:"errorFallback",children:W.jsx("h2",{children:"Oops! Algo salió mal en la App."})}),children:[W.jsx(Gx,{}),W.jsx("div",{className:"App",children:W.jsx(N.Suspense,{fallback:W.jsx("div",{className:"loadingFallback",children:"Cargando aplicación..."}),children:W.jsx(Jx,{})})})]})]})})}DS.createRoot(document.getElementById("root")).render(W.jsx(N.StrictMode,{children:W.jsx(QS,{store:Q1,children:W.jsx(Xx,{})})}));export{Qd as a,Jc as b,W as j,oe as l,N as r,jf as u};
